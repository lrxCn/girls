(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const a of l.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerpolicy&&(l.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?l.credentials="include":o.crossorigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(o){if(o.ep)return;o.ep=!0;const l=n(o);fetch(o.href,l)}})();var hp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function pp(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var wa={},gp={get exports(){return wa},set exports(e){wa=e}},$a={},ar={},vp={get exports(){return ar},set exports(e){ar=e}},it={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Do=Symbol.for("react.element"),mp=Symbol.for("react.portal"),yp=Symbol.for("react.fragment"),Ep=Symbol.for("react.strict_mode"),Tp=Symbol.for("react.profiler"),Sp=Symbol.for("react.provider"),Lp=Symbol.for("react.context"),wp=Symbol.for("react.forward_ref"),bp=Symbol.for("react.suspense"),kp=Symbol.for("react.memo"),xp=Symbol.for("react.lazy"),dc=Symbol.iterator;function Cp(e){return e===null||typeof e!="object"?null:(e=dc&&e[dc]||e["@@iterator"],typeof e=="function"?e:null)}var Lf={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},wf=Object.assign,bf={};function Oi(e,t,n){this.props=e,this.context=t,this.refs=bf,this.updater=n||Lf}Oi.prototype.isReactComponent={};Oi.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Oi.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function kf(){}kf.prototype=Oi.prototype;function Xl(e,t,n){this.props=e,this.context=t,this.refs=bf,this.updater=n||Lf}var Ql=Xl.prototype=new kf;Ql.constructor=Xl;wf(Ql,Oi.prototype);Ql.isPureReactComponent=!0;var hc=Array.isArray,xf=Object.prototype.hasOwnProperty,Zl={current:null},Cf={key:!0,ref:!0,__self:!0,__source:!0};function Af(e,t,n){var i,o={},l=null,a=null;if(t!=null)for(i in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(l=""+t.key),t)xf.call(t,i)&&!Cf.hasOwnProperty(i)&&(o[i]=t[i]);var v=arguments.length-2;if(v===1)o.children=n;else if(1<v){for(var h=Array(v),T=0;T<v;T++)h[T]=arguments[T+2];o.children=h}if(e&&e.defaultProps)for(i in v=e.defaultProps,v)o[i]===void 0&&(o[i]=v[i]);return{$$typeof:Do,type:e,key:l,ref:a,props:o,_owner:Zl.current}}function Ap(e,t){return{$$typeof:Do,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function eu(e){return typeof e=="object"&&e!==null&&e.$$typeof===Do}function _p(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var pc=/\/+/g;function Ds(e,t){return typeof e=="object"&&e!==null&&e.key!=null?_p(""+e.key):t.toString(36)}function fa(e,t,n,i,o){var l=typeof e;(l==="undefined"||l==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(l){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case Do:case mp:a=!0}}if(a)return a=e,o=o(a),e=i===""?"."+Ds(a,0):i,hc(o)?(n="",e!=null&&(n=e.replace(pc,"$&/")+"/"),fa(o,t,n,"",function(T){return T})):o!=null&&(eu(o)&&(o=Ap(o,n+(!o.key||a&&a.key===o.key?"":(""+o.key).replace(pc,"$&/")+"/")+e)),t.push(o)),1;if(a=0,i=i===""?".":i+":",hc(e))for(var v=0;v<e.length;v++){l=e[v];var h=i+Ds(l,v);a+=fa(l,t,n,h,o)}else if(h=Cp(e),typeof h=="function")for(e=h.call(e),v=0;!(l=e.next()).done;)l=l.value,h=i+Ds(l,v++),a+=fa(l,t,n,h,o);else if(l==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function Jo(e,t,n){if(e==null)return e;var i=[],o=0;return fa(e,i,"","",function(l){return t.call(n,l,o++)}),i}function Dp(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ln={current:null},da={transition:null},Rp={ReactCurrentDispatcher:ln,ReactCurrentBatchConfig:da,ReactCurrentOwner:Zl};it.Children={map:Jo,forEach:function(e,t,n){Jo(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Jo(e,function(){t++}),t},toArray:function(e){return Jo(e,function(t){return t})||[]},only:function(e){if(!eu(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};it.Component=Oi;it.Fragment=yp;it.Profiler=Tp;it.PureComponent=Xl;it.StrictMode=Ep;it.Suspense=bp;it.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Rp;it.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=wf({},e.props),o=e.key,l=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(l=t.ref,a=Zl.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var v=e.type.defaultProps;for(h in t)xf.call(t,h)&&!Cf.hasOwnProperty(h)&&(i[h]=t[h]===void 0&&v!==void 0?v[h]:t[h])}var h=arguments.length-2;if(h===1)i.children=n;else if(1<h){v=Array(h);for(var T=0;T<h;T++)v[T]=arguments[T+2];i.children=v}return{$$typeof:Do,type:e.type,key:o,ref:l,props:i,_owner:a}};it.createContext=function(e){return e={$$typeof:Lp,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Sp,_context:e},e.Consumer=e};it.createElement=Af;it.createFactory=function(e){var t=Af.bind(null,e);return t.type=e,t};it.createRef=function(){return{current:null}};it.forwardRef=function(e){return{$$typeof:wp,render:e}};it.isValidElement=eu;it.lazy=function(e){return{$$typeof:xp,_payload:{_status:-1,_result:e},_init:Dp}};it.memo=function(e,t){return{$$typeof:kp,type:e,compare:t===void 0?null:t}};it.startTransition=function(e){var t=da.transition;da.transition={};try{e()}finally{da.transition=t}};it.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};it.useCallback=function(e,t){return ln.current.useCallback(e,t)};it.useContext=function(e){return ln.current.useContext(e)};it.useDebugValue=function(){};it.useDeferredValue=function(e){return ln.current.useDeferredValue(e)};it.useEffect=function(e,t){return ln.current.useEffect(e,t)};it.useId=function(){return ln.current.useId()};it.useImperativeHandle=function(e,t,n){return ln.current.useImperativeHandle(e,t,n)};it.useInsertionEffect=function(e,t){return ln.current.useInsertionEffect(e,t)};it.useLayoutEffect=function(e,t){return ln.current.useLayoutEffect(e,t)};it.useMemo=function(e,t){return ln.current.useMemo(e,t)};it.useReducer=function(e,t,n){return ln.current.useReducer(e,t,n)};it.useRef=function(e){return ln.current.useRef(e)};it.useState=function(e){return ln.current.useState(e)};it.useSyncExternalStore=function(e,t,n){return ln.current.useSyncExternalStore(e,t,n)};it.useTransition=function(){return ln.current.useTransition()};it.version="18.2.0";(function(e){e.exports=it})(vp);const Op=pp(ar);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pp=ar,Ip=Symbol.for("react.element"),Fp=Symbol.for("react.fragment"),Mp=Object.prototype.hasOwnProperty,Np=Pp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Bp={key:!0,ref:!0,__self:!0,__source:!0};function _f(e,t,n){var i,o={},l=null,a=null;n!==void 0&&(l=""+n),t.key!==void 0&&(l=""+t.key),t.ref!==void 0&&(a=t.ref);for(i in t)Mp.call(t,i)&&!Bp.hasOwnProperty(i)&&(o[i]=t[i]);if(e&&e.defaultProps)for(i in t=e.defaultProps,t)o[i]===void 0&&(o[i]=t[i]);return{$$typeof:Ip,type:e,key:l,ref:a,props:o,_owner:Np.current}}$a.Fragment=Fp;$a.jsx=_f;$a.jsxs=_f;(function(e){e.exports=$a})(gp);const ba=wa.jsx,jp=wa.jsxs;var nl={},ka={},Up={get exports(){return ka},set exports(e){ka=e}},An={},rl={},Gp={get exports(){return rl},set exports(e){rl=e}},Df={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(M,j){var U=M.length;M.push(j);e:for(;0<U;){var z=U-1>>>1,q=M[z];if(0<o(q,j))M[z]=j,M[U]=q,U=z;else break e}}function n(M){return M.length===0?null:M[0]}function i(M){if(M.length===0)return null;var j=M[0],U=M.pop();if(U!==j){M[0]=U;e:for(var z=0,q=M.length,Y=q>>>1;z<Y;){var W=2*(z+1)-1,J=M[W],Z=W+1,ee=M[Z];if(0>o(J,U))Z<q&&0>o(ee,J)?(M[z]=ee,M[Z]=U,z=Z):(M[z]=J,M[W]=U,z=W);else if(Z<q&&0>o(ee,U))M[z]=ee,M[Z]=U,z=Z;else break e}}return j}function o(M,j){var U=M.sortIndex-j.sortIndex;return U!==0?U:M.id-j.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var a=Date,v=a.now();e.unstable_now=function(){return a.now()-v}}var h=[],T=[],P=1,I=null,A=3,x=!1,_=!1,b=!1,D=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function c(M){for(var j=n(T);j!==null;){if(j.callback===null)i(T);else if(j.startTime<=M)i(T),j.sortIndex=j.expirationTime,t(h,j);else break;j=n(T)}}function u(M){if(b=!1,c(M),!_)if(n(h)!==null)_=!0,F(f);else{var j=n(T);j!==null&&B(u,j.startTime-M)}}function f(M,j){_=!1,b&&(b=!1,L(C),C=-1),x=!0;var U=A;try{for(c(j),I=n(h);I!==null&&(!(I.expirationTime>j)||M&&!k());){var z=I.callback;if(typeof z=="function"){I.callback=null,A=I.priorityLevel;var q=z(I.expirationTime<=j);j=e.unstable_now(),typeof q=="function"?I.callback=q:I===n(h)&&i(h),c(j)}else i(h);I=n(h)}if(I!==null)var Y=!0;else{var W=n(T);W!==null&&B(u,W.startTime-j),Y=!1}return Y}finally{I=null,A=U,x=!1}}var r=!1,p=null,C=-1,g=5,m=-1;function k(){return!(e.unstable_now()-m<g)}function d(){if(p!==null){var M=e.unstable_now();m=M;var j=!0;try{j=p(!0,M)}finally{j?w():(r=!1,p=null)}}else r=!1}var w;if(typeof S=="function")w=function(){S(d)};else if(typeof MessageChannel<"u"){var y=new MessageChannel,O=y.port2;y.port1.onmessage=d,w=function(){O.postMessage(null)}}else w=function(){D(d,0)};function F(M){p=M,r||(r=!0,w())}function B(M,j){C=D(function(){M(e.unstable_now())},j)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(M){M.callback=null},e.unstable_continueExecution=function(){_||x||(_=!0,F(f))},e.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):g=0<M?Math.floor(1e3/M):5},e.unstable_getCurrentPriorityLevel=function(){return A},e.unstable_getFirstCallbackNode=function(){return n(h)},e.unstable_next=function(M){switch(A){case 1:case 2:case 3:var j=3;break;default:j=A}var U=A;A=j;try{return M()}finally{A=U}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(M,j){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var U=A;A=M;try{return j()}finally{A=U}},e.unstable_scheduleCallback=function(M,j,U){var z=e.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?z+U:z):U=z,M){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=U+q,M={id:P++,callback:j,priorityLevel:M,startTime:U,expirationTime:q,sortIndex:-1},U>z?(M.sortIndex=U,t(T,M),n(h)===null&&M===n(T)&&(b?(L(C),C=-1):b=!0,B(u,U-z))):(M.sortIndex=q,t(h,M),_||x||(_=!0,F(f))),M},e.unstable_shouldYield=k,e.unstable_wrapCallback=function(M){var j=A;return function(){var U=A;A=j;try{return M.apply(this,arguments)}finally{A=U}}}})(Df);(function(e){e.exports=Df})(Gp);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rf=ar,Cn=rl;function Se(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Of=new Set,ho={};function ni(e,t){ki(e,t),ki(e+"Capture",t)}function ki(e,t){for(ho[e]=t,e=0;e<t.length;e++)Of.add(t[e])}var lr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),il=Object.prototype.hasOwnProperty,Hp=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,gc={},vc={};function zp(e){return il.call(vc,e)?!0:il.call(gc,e)?!1:Hp.test(e)?vc[e]=!0:(gc[e]=!0,!1)}function Kp(e,t,n,i){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Vp(e,t,n,i){if(t===null||typeof t>"u"||Kp(e,t,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function un(e,t,n,i,o,l,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=i,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=l,this.removeEmptyString=a}var Xt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Xt[e]=new un(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Xt[t]=new un(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Xt[e]=new un(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Xt[e]=new un(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Xt[e]=new un(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Xt[e]=new un(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Xt[e]=new un(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Xt[e]=new un(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Xt[e]=new un(e,5,!1,e.toLowerCase(),null,!1,!1)});var tu=/[\-:]([a-z])/g;function nu(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(tu,nu);Xt[t]=new un(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(tu,nu);Xt[t]=new un(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(tu,nu);Xt[t]=new un(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Xt[e]=new un(e,1,!1,e.toLowerCase(),null,!1,!1)});Xt.xlinkHref=new un("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Xt[e]=new un(e,1,!1,e.toLowerCase(),null,!0,!0)});function ru(e,t,n,i){var o=Xt.hasOwnProperty(t)?Xt[t]:null;(o!==null?o.type!==0:i||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Vp(t,n,o,i)&&(n=null),i||o===null?zp(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,i=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,i?e.setAttributeNS(i,t,n):e.setAttribute(t,n))))}var dr=Rf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Yo=Symbol.for("react.element"),si=Symbol.for("react.portal"),li=Symbol.for("react.fragment"),iu=Symbol.for("react.strict_mode"),ol=Symbol.for("react.profiler"),Pf=Symbol.for("react.provider"),If=Symbol.for("react.context"),ou=Symbol.for("react.forward_ref"),al=Symbol.for("react.suspense"),sl=Symbol.for("react.suspense_list"),au=Symbol.for("react.memo"),mr=Symbol.for("react.lazy"),Ff=Symbol.for("react.offscreen"),mc=Symbol.iterator;function Vi(e){return e===null||typeof e!="object"?null:(e=mc&&e[mc]||e["@@iterator"],typeof e=="function"?e:null)}var It=Object.assign,Rs;function Zi(e){if(Rs===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Rs=t&&t[1]||""}return`
`+Rs+e}var Os=!1;function Ps(e,t){if(!e||Os)return"";Os=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(T){var i=T}Reflect.construct(e,[],t)}else{try{t.call()}catch(T){i=T}e.call(t.prototype)}else{try{throw Error()}catch(T){i=T}e()}}catch(T){if(T&&i&&typeof T.stack=="string"){for(var o=T.stack.split(`
`),l=i.stack.split(`
`),a=o.length-1,v=l.length-1;1<=a&&0<=v&&o[a]!==l[v];)v--;for(;1<=a&&0<=v;a--,v--)if(o[a]!==l[v]){if(a!==1||v!==1)do if(a--,v--,0>v||o[a]!==l[v]){var h=`
`+o[a].replace(" at new "," at ");return e.displayName&&h.includes("<anonymous>")&&(h=h.replace("<anonymous>",e.displayName)),h}while(1<=a&&0<=v);break}}}finally{Os=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Zi(e):""}function Wp(e){switch(e.tag){case 5:return Zi(e.type);case 16:return Zi("Lazy");case 13:return Zi("Suspense");case 19:return Zi("SuspenseList");case 0:case 2:case 15:return e=Ps(e.type,!1),e;case 11:return e=Ps(e.type.render,!1),e;case 1:return e=Ps(e.type,!0),e;default:return""}}function ll(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case li:return"Fragment";case si:return"Portal";case ol:return"Profiler";case iu:return"StrictMode";case al:return"Suspense";case sl:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case If:return(e.displayName||"Context")+".Consumer";case Pf:return(e._context.displayName||"Context")+".Provider";case ou:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case au:return t=e.displayName||null,t!==null?t:ll(e.type)||"Memo";case mr:t=e._payload,e=e._init;try{return ll(e(t))}catch{}}return null}function qp(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ll(t);case 8:return t===iu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Rr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Mf(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Jp(e){var t=Mf(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,l=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(a){i=""+a,l.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(a){i=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function $o(e){e._valueTracker||(e._valueTracker=Jp(e))}function Nf(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=Mf(e)?e.checked?"true":"false":e.value),e=i,e!==n?(t.setValue(e),!0):!1}function xa(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ul(e,t){var n=t.checked;return It({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function yc(e,t){var n=t.defaultValue==null?"":t.defaultValue,i=t.checked!=null?t.checked:t.defaultChecked;n=Rr(t.value!=null?t.value:n),e._wrapperState={initialChecked:i,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Bf(e,t){t=t.checked,t!=null&&ru(e,"checked",t,!1)}function cl(e,t){Bf(e,t);var n=Rr(t.value),i=t.type;if(n!=null)i==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(i==="submit"||i==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?fl(e,t.type,n):t.hasOwnProperty("defaultValue")&&fl(e,t.type,Rr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Ec(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!(i!=="submit"&&i!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function fl(e,t,n){(t!=="number"||xa(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var eo=Array.isArray;function Ei(e,t,n,i){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&i&&(e[n].defaultSelected=!0)}else{for(n=""+Rr(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,i&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function dl(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Se(91));return It({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Tc(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(Se(92));if(eo(n)){if(1<n.length)throw Error(Se(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Rr(n)}}function jf(e,t){var n=Rr(t.value),i=Rr(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),i!=null&&(e.defaultValue=""+i)}function Sc(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Uf(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function hl(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Uf(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Xo,Gf=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,i,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,i,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Xo=Xo||document.createElement("div"),Xo.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Xo.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function po(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var ro={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Yp=["Webkit","ms","Moz","O"];Object.keys(ro).forEach(function(e){Yp.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ro[t]=ro[e]})});function Hf(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||ro.hasOwnProperty(e)&&ro[e]?(""+t).trim():t+"px"}function zf(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var i=n.indexOf("--")===0,o=Hf(n,t[n],i);n==="float"&&(n="cssFloat"),i?e.setProperty(n,o):e[n]=o}}var $p=It({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function pl(e,t){if(t){if($p[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Se(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Se(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Se(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Se(62))}}function gl(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vl=null;function su(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ml=null,Ti=null,Si=null;function Lc(e){if(e=Po(e)){if(typeof ml!="function")throw Error(Se(280));var t=e.stateNode;t&&(t=ts(t),ml(e.stateNode,e.type,t))}}function Kf(e){Ti?Si?Si.push(e):Si=[e]:Ti=e}function Vf(){if(Ti){var e=Ti,t=Si;if(Si=Ti=null,Lc(e),t)for(e=0;e<t.length;e++)Lc(t[e])}}function Wf(e,t){return e(t)}function qf(){}var Is=!1;function Jf(e,t,n){if(Is)return e(t,n);Is=!0;try{return Wf(e,t,n)}finally{Is=!1,(Ti!==null||Si!==null)&&(qf(),Vf())}}function go(e,t){var n=e.stateNode;if(n===null)return null;var i=ts(n);if(i===null)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(Se(231,t,typeof n));return n}var yl=!1;if(lr)try{var Wi={};Object.defineProperty(Wi,"passive",{get:function(){yl=!0}}),window.addEventListener("test",Wi,Wi),window.removeEventListener("test",Wi,Wi)}catch{yl=!1}function Xp(e,t,n,i,o,l,a,v,h){var T=Array.prototype.slice.call(arguments,3);try{t.apply(n,T)}catch(P){this.onError(P)}}var io=!1,Ca=null,Aa=!1,El=null,Qp={onError:function(e){io=!0,Ca=e}};function Zp(e,t,n,i,o,l,a,v,h){io=!1,Ca=null,Xp.apply(Qp,arguments)}function e0(e,t,n,i,o,l,a,v,h){if(Zp.apply(this,arguments),io){if(io){var T=Ca;io=!1,Ca=null}else throw Error(Se(198));Aa||(Aa=!0,El=T)}}function ri(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Yf(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function wc(e){if(ri(e)!==e)throw Error(Se(188))}function t0(e){var t=e.alternate;if(!t){if(t=ri(e),t===null)throw Error(Se(188));return t!==e?null:e}for(var n=e,i=t;;){var o=n.return;if(o===null)break;var l=o.alternate;if(l===null){if(i=o.return,i!==null){n=i;continue}break}if(o.child===l.child){for(l=o.child;l;){if(l===n)return wc(o),e;if(l===i)return wc(o),t;l=l.sibling}throw Error(Se(188))}if(n.return!==i.return)n=o,i=l;else{for(var a=!1,v=o.child;v;){if(v===n){a=!0,n=o,i=l;break}if(v===i){a=!0,i=o,n=l;break}v=v.sibling}if(!a){for(v=l.child;v;){if(v===n){a=!0,n=l,i=o;break}if(v===i){a=!0,i=l,n=o;break}v=v.sibling}if(!a)throw Error(Se(189))}}if(n.alternate!==i)throw Error(Se(190))}if(n.tag!==3)throw Error(Se(188));return n.stateNode.current===n?e:t}function $f(e){return e=t0(e),e!==null?Xf(e):null}function Xf(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Xf(e);if(t!==null)return t;e=e.sibling}return null}var Qf=Cn.unstable_scheduleCallback,bc=Cn.unstable_cancelCallback,n0=Cn.unstable_shouldYield,r0=Cn.unstable_requestPaint,Mt=Cn.unstable_now,i0=Cn.unstable_getCurrentPriorityLevel,lu=Cn.unstable_ImmediatePriority,Zf=Cn.unstable_UserBlockingPriority,_a=Cn.unstable_NormalPriority,o0=Cn.unstable_LowPriority,ed=Cn.unstable_IdlePriority,Xa=null,Qn=null;function a0(e){if(Qn&&typeof Qn.onCommitFiberRoot=="function")try{Qn.onCommitFiberRoot(Xa,e,void 0,(e.current.flags&128)===128)}catch{}}var Vn=Math.clz32?Math.clz32:u0,s0=Math.log,l0=Math.LN2;function u0(e){return e>>>=0,e===0?32:31-(s0(e)/l0|0)|0}var Qo=64,Zo=4194304;function to(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Da(e,t){var n=e.pendingLanes;if(n===0)return 0;var i=0,o=e.suspendedLanes,l=e.pingedLanes,a=n&268435455;if(a!==0){var v=a&~o;v!==0?i=to(v):(l&=a,l!==0&&(i=to(l)))}else a=n&~o,a!==0?i=to(a):l!==0&&(i=to(l));if(i===0)return 0;if(t!==0&&t!==i&&!(t&o)&&(o=i&-i,l=t&-t,o>=l||o===16&&(l&4194240)!==0))return t;if(i&4&&(i|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=i;0<t;)n=31-Vn(t),o=1<<n,i|=e[n],t&=~o;return i}function c0(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function f0(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,l=e.pendingLanes;0<l;){var a=31-Vn(l),v=1<<a,h=o[a];h===-1?(!(v&n)||v&i)&&(o[a]=c0(v,t)):h<=t&&(e.expiredLanes|=v),l&=~v}}function Tl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function td(){var e=Qo;return Qo<<=1,!(Qo&4194240)&&(Qo=64),e}function Fs(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ro(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Vn(t),e[t]=n}function d0(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var i=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-Vn(n),l=1<<o;t[o]=0,i[o]=-1,e[o]=-1,n&=~l}}function uu(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-Vn(n),o=1<<i;o&t|e[i]&t&&(e[i]|=t),n&=~o}}var mt=0;function nd(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var rd,cu,id,od,ad,Sl=!1,ea=[],wr=null,br=null,kr=null,vo=new Map,mo=new Map,Er=[],h0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function kc(e,t){switch(e){case"focusin":case"focusout":wr=null;break;case"dragenter":case"dragleave":br=null;break;case"mouseover":case"mouseout":kr=null;break;case"pointerover":case"pointerout":vo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":mo.delete(t.pointerId)}}function qi(e,t,n,i,o,l){return e===null||e.nativeEvent!==l?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:l,targetContainers:[o]},t!==null&&(t=Po(t),t!==null&&cu(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function p0(e,t,n,i,o){switch(t){case"focusin":return wr=qi(wr,e,t,n,i,o),!0;case"dragenter":return br=qi(br,e,t,n,i,o),!0;case"mouseover":return kr=qi(kr,e,t,n,i,o),!0;case"pointerover":var l=o.pointerId;return vo.set(l,qi(vo.get(l)||null,e,t,n,i,o)),!0;case"gotpointercapture":return l=o.pointerId,mo.set(l,qi(mo.get(l)||null,e,t,n,i,o)),!0}return!1}function sd(e){var t=Wr(e.target);if(t!==null){var n=ri(t);if(n!==null){if(t=n.tag,t===13){if(t=Yf(n),t!==null){e.blockedOn=t,ad(e.priority,function(){id(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ha(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Ll(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var i=new n.constructor(n.type,n);vl=i,n.target.dispatchEvent(i),vl=null}else return t=Po(n),t!==null&&cu(t),e.blockedOn=n,!1;t.shift()}return!0}function xc(e,t,n){ha(e)&&n.delete(t)}function g0(){Sl=!1,wr!==null&&ha(wr)&&(wr=null),br!==null&&ha(br)&&(br=null),kr!==null&&ha(kr)&&(kr=null),vo.forEach(xc),mo.forEach(xc)}function Ji(e,t){e.blockedOn===t&&(e.blockedOn=null,Sl||(Sl=!0,Cn.unstable_scheduleCallback(Cn.unstable_NormalPriority,g0)))}function yo(e){function t(o){return Ji(o,e)}if(0<ea.length){Ji(ea[0],e);for(var n=1;n<ea.length;n++){var i=ea[n];i.blockedOn===e&&(i.blockedOn=null)}}for(wr!==null&&Ji(wr,e),br!==null&&Ji(br,e),kr!==null&&Ji(kr,e),vo.forEach(t),mo.forEach(t),n=0;n<Er.length;n++)i=Er[n],i.blockedOn===e&&(i.blockedOn=null);for(;0<Er.length&&(n=Er[0],n.blockedOn===null);)sd(n),n.blockedOn===null&&Er.shift()}var Li=dr.ReactCurrentBatchConfig,Ra=!0;function v0(e,t,n,i){var o=mt,l=Li.transition;Li.transition=null;try{mt=1,fu(e,t,n,i)}finally{mt=o,Li.transition=l}}function m0(e,t,n,i){var o=mt,l=Li.transition;Li.transition=null;try{mt=4,fu(e,t,n,i)}finally{mt=o,Li.transition=l}}function fu(e,t,n,i){if(Ra){var o=Ll(e,t,n,i);if(o===null)Vs(e,t,i,Oa,n),kc(e,i);else if(p0(o,e,t,n,i))i.stopPropagation();else if(kc(e,i),t&4&&-1<h0.indexOf(e)){for(;o!==null;){var l=Po(o);if(l!==null&&rd(l),l=Ll(e,t,n,i),l===null&&Vs(e,t,i,Oa,n),l===o)break;o=l}o!==null&&i.stopPropagation()}else Vs(e,t,i,null,n)}}var Oa=null;function Ll(e,t,n,i){if(Oa=null,e=su(i),e=Wr(e),e!==null)if(t=ri(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Yf(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Oa=e,null}function ld(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(i0()){case lu:return 1;case Zf:return 4;case _a:case o0:return 16;case ed:return 536870912;default:return 16}default:return 16}}var Sr=null,du=null,pa=null;function ud(){if(pa)return pa;var e,t=du,n=t.length,i,o="value"in Sr?Sr.value:Sr.textContent,l=o.length;for(e=0;e<n&&t[e]===o[e];e++);var a=n-e;for(i=1;i<=a&&t[n-i]===o[l-i];i++);return pa=o.slice(e,1<i?1-i:void 0)}function ga(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ta(){return!0}function Cc(){return!1}function _n(e){function t(n,i,o,l,a){this._reactName=n,this._targetInst=o,this.type=i,this.nativeEvent=l,this.target=a,this.currentTarget=null;for(var v in e)e.hasOwnProperty(v)&&(n=e[v],this[v]=n?n(l):l[v]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?ta:Cc,this.isPropagationStopped=Cc,this}return It(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ta)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ta)},persist:function(){},isPersistent:ta}),t}var Pi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hu=_n(Pi),Oo=It({},Pi,{view:0,detail:0}),y0=_n(Oo),Ms,Ns,Yi,Qa=It({},Oo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Yi&&(Yi&&e.type==="mousemove"?(Ms=e.screenX-Yi.screenX,Ns=e.screenY-Yi.screenY):Ns=Ms=0,Yi=e),Ms)},movementY:function(e){return"movementY"in e?e.movementY:Ns}}),Ac=_n(Qa),E0=It({},Qa,{dataTransfer:0}),T0=_n(E0),S0=It({},Oo,{relatedTarget:0}),Bs=_n(S0),L0=It({},Pi,{animationName:0,elapsedTime:0,pseudoElement:0}),w0=_n(L0),b0=It({},Pi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),k0=_n(b0),x0=It({},Pi,{data:0}),_c=_n(x0),C0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},A0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function D0(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=_0[e])?!!t[e]:!1}function pu(){return D0}var R0=It({},Oo,{key:function(e){if(e.key){var t=C0[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ga(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?A0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pu,charCode:function(e){return e.type==="keypress"?ga(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ga(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),O0=_n(R0),P0=It({},Qa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Dc=_n(P0),I0=It({},Oo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pu}),F0=_n(I0),M0=It({},Pi,{propertyName:0,elapsedTime:0,pseudoElement:0}),N0=_n(M0),B0=It({},Qa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),j0=_n(B0),U0=[9,13,27,32],gu=lr&&"CompositionEvent"in window,oo=null;lr&&"documentMode"in document&&(oo=document.documentMode);var G0=lr&&"TextEvent"in window&&!oo,cd=lr&&(!gu||oo&&8<oo&&11>=oo),Rc=String.fromCharCode(32),Oc=!1;function fd(e,t){switch(e){case"keyup":return U0.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function dd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ui=!1;function H0(e,t){switch(e){case"compositionend":return dd(t);case"keypress":return t.which!==32?null:(Oc=!0,Rc);case"textInput":return e=t.data,e===Rc&&Oc?null:e;default:return null}}function z0(e,t){if(ui)return e==="compositionend"||!gu&&fd(e,t)?(e=ud(),pa=du=Sr=null,ui=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return cd&&t.locale!=="ko"?null:t.data;default:return null}}var K0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Pc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!K0[e.type]:t==="textarea"}function hd(e,t,n,i){Kf(i),t=Pa(t,"onChange"),0<t.length&&(n=new hu("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var ao=null,Eo=null;function V0(e){bd(e,0)}function Za(e){var t=di(e);if(Nf(t))return e}function W0(e,t){if(e==="change")return t}var pd=!1;if(lr){var js;if(lr){var Us="oninput"in document;if(!Us){var Ic=document.createElement("div");Ic.setAttribute("oninput","return;"),Us=typeof Ic.oninput=="function"}js=Us}else js=!1;pd=js&&(!document.documentMode||9<document.documentMode)}function Fc(){ao&&(ao.detachEvent("onpropertychange",gd),Eo=ao=null)}function gd(e){if(e.propertyName==="value"&&Za(Eo)){var t=[];hd(t,Eo,e,su(e)),Jf(V0,t)}}function q0(e,t,n){e==="focusin"?(Fc(),ao=t,Eo=n,ao.attachEvent("onpropertychange",gd)):e==="focusout"&&Fc()}function J0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Za(Eo)}function Y0(e,t){if(e==="click")return Za(t)}function $0(e,t){if(e==="input"||e==="change")return Za(t)}function X0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var qn=typeof Object.is=="function"?Object.is:X0;function To(e,t){if(qn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var o=n[i];if(!il.call(t,o)||!qn(e[o],t[o]))return!1}return!0}function Mc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Nc(e,t){var n=Mc(e);e=0;for(var i;n;){if(n.nodeType===3){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Mc(n)}}function vd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?vd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function md(){for(var e=window,t=xa();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=xa(e.document)}return t}function vu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Q0(e){var t=md(),n=e.focusedElem,i=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&vd(n.ownerDocument.documentElement,n)){if(i!==null&&vu(n)){if(t=i.start,e=i.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=n.textContent.length,l=Math.min(i.start,o);i=i.end===void 0?l:Math.min(i.end,o),!e.extend&&l>i&&(o=i,i=l,l=o),o=Nc(n,l);var a=Nc(n,i);o&&a&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),l>i?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Z0=lr&&"documentMode"in document&&11>=document.documentMode,ci=null,wl=null,so=null,bl=!1;function Bc(e,t,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;bl||ci==null||ci!==xa(i)||(i=ci,"selectionStart"in i&&vu(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),so&&To(so,i)||(so=i,i=Pa(wl,"onSelect"),0<i.length&&(t=new hu("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=ci)))}function na(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var fi={animationend:na("Animation","AnimationEnd"),animationiteration:na("Animation","AnimationIteration"),animationstart:na("Animation","AnimationStart"),transitionend:na("Transition","TransitionEnd")},Gs={},yd={};lr&&(yd=document.createElement("div").style,"AnimationEvent"in window||(delete fi.animationend.animation,delete fi.animationiteration.animation,delete fi.animationstart.animation),"TransitionEvent"in window||delete fi.transitionend.transition);function es(e){if(Gs[e])return Gs[e];if(!fi[e])return e;var t=fi[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in yd)return Gs[e]=t[n];return e}var Ed=es("animationend"),Td=es("animationiteration"),Sd=es("animationstart"),Ld=es("transitionend"),wd=new Map,jc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pr(e,t){wd.set(e,t),ni(t,[e])}for(var Hs=0;Hs<jc.length;Hs++){var zs=jc[Hs],eg=zs.toLowerCase(),tg=zs[0].toUpperCase()+zs.slice(1);Pr(eg,"on"+tg)}Pr(Ed,"onAnimationEnd");Pr(Td,"onAnimationIteration");Pr(Sd,"onAnimationStart");Pr("dblclick","onDoubleClick");Pr("focusin","onFocus");Pr("focusout","onBlur");Pr(Ld,"onTransitionEnd");ki("onMouseEnter",["mouseout","mouseover"]);ki("onMouseLeave",["mouseout","mouseover"]);ki("onPointerEnter",["pointerout","pointerover"]);ki("onPointerLeave",["pointerout","pointerover"]);ni("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ni("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ni("onBeforeInput",["compositionend","keypress","textInput","paste"]);ni("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ni("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ni("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var no="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ng=new Set("cancel close invalid load scroll toggle".split(" ").concat(no));function Uc(e,t,n){var i=e.type||"unknown-event";e.currentTarget=n,e0(i,t,void 0,e),e.currentTarget=null}function bd(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var i=e[n],o=i.event;i=i.listeners;e:{var l=void 0;if(t)for(var a=i.length-1;0<=a;a--){var v=i[a],h=v.instance,T=v.currentTarget;if(v=v.listener,h!==l&&o.isPropagationStopped())break e;Uc(o,v,T),l=h}else for(a=0;a<i.length;a++){if(v=i[a],h=v.instance,T=v.currentTarget,v=v.listener,h!==l&&o.isPropagationStopped())break e;Uc(o,v,T),l=h}}}if(Aa)throw e=El,Aa=!1,El=null,e}function xt(e,t){var n=t[_l];n===void 0&&(n=t[_l]=new Set);var i=e+"__bubble";n.has(i)||(kd(t,e,2,!1),n.add(i))}function Ks(e,t,n){var i=0;t&&(i|=4),kd(n,e,i,t)}var ra="_reactListening"+Math.random().toString(36).slice(2);function So(e){if(!e[ra]){e[ra]=!0,Of.forEach(function(n){n!=="selectionchange"&&(ng.has(n)||Ks(n,!1,e),Ks(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ra]||(t[ra]=!0,Ks("selectionchange",!1,t))}}function kd(e,t,n,i){switch(ld(t)){case 1:var o=v0;break;case 4:o=m0;break;default:o=fu}n=o.bind(null,t,n,e),o=void 0,!yl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),i?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Vs(e,t,n,i,o){var l=i;if(!(t&1)&&!(t&2)&&i!==null)e:for(;;){if(i===null)return;var a=i.tag;if(a===3||a===4){var v=i.stateNode.containerInfo;if(v===o||v.nodeType===8&&v.parentNode===o)break;if(a===4)for(a=i.return;a!==null;){var h=a.tag;if((h===3||h===4)&&(h=a.stateNode.containerInfo,h===o||h.nodeType===8&&h.parentNode===o))return;a=a.return}for(;v!==null;){if(a=Wr(v),a===null)return;if(h=a.tag,h===5||h===6){i=l=a;continue e}v=v.parentNode}}i=i.return}Jf(function(){var T=l,P=su(n),I=[];e:{var A=wd.get(e);if(A!==void 0){var x=hu,_=e;switch(e){case"keypress":if(ga(n)===0)break e;case"keydown":case"keyup":x=O0;break;case"focusin":_="focus",x=Bs;break;case"focusout":_="blur",x=Bs;break;case"beforeblur":case"afterblur":x=Bs;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=Ac;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=T0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=F0;break;case Ed:case Td:case Sd:x=w0;break;case Ld:x=N0;break;case"scroll":x=y0;break;case"wheel":x=j0;break;case"copy":case"cut":case"paste":x=k0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=Dc}var b=(t&4)!==0,D=!b&&e==="scroll",L=b?A!==null?A+"Capture":null:A;b=[];for(var S=T,c;S!==null;){c=S;var u=c.stateNode;if(c.tag===5&&u!==null&&(c=u,L!==null&&(u=go(S,L),u!=null&&b.push(Lo(S,u,c)))),D)break;S=S.return}0<b.length&&(A=new x(A,_,null,n,P),I.push({event:A,listeners:b}))}}if(!(t&7)){e:{if(A=e==="mouseover"||e==="pointerover",x=e==="mouseout"||e==="pointerout",A&&n!==vl&&(_=n.relatedTarget||n.fromElement)&&(Wr(_)||_[ur]))break e;if((x||A)&&(A=P.window===P?P:(A=P.ownerDocument)?A.defaultView||A.parentWindow:window,x?(_=n.relatedTarget||n.toElement,x=T,_=_?Wr(_):null,_!==null&&(D=ri(_),_!==D||_.tag!==5&&_.tag!==6)&&(_=null)):(x=null,_=T),x!==_)){if(b=Ac,u="onMouseLeave",L="onMouseEnter",S="mouse",(e==="pointerout"||e==="pointerover")&&(b=Dc,u="onPointerLeave",L="onPointerEnter",S="pointer"),D=x==null?A:di(x),c=_==null?A:di(_),A=new b(u,S+"leave",x,n,P),A.target=D,A.relatedTarget=c,u=null,Wr(P)===T&&(b=new b(L,S+"enter",_,n,P),b.target=c,b.relatedTarget=D,u=b),D=u,x&&_)t:{for(b=x,L=_,S=0,c=b;c;c=ai(c))S++;for(c=0,u=L;u;u=ai(u))c++;for(;0<S-c;)b=ai(b),S--;for(;0<c-S;)L=ai(L),c--;for(;S--;){if(b===L||L!==null&&b===L.alternate)break t;b=ai(b),L=ai(L)}b=null}else b=null;x!==null&&Gc(I,A,x,b,!1),_!==null&&D!==null&&Gc(I,D,_,b,!0)}}e:{if(A=T?di(T):window,x=A.nodeName&&A.nodeName.toLowerCase(),x==="select"||x==="input"&&A.type==="file")var f=W0;else if(Pc(A))if(pd)f=$0;else{f=J0;var r=q0}else(x=A.nodeName)&&x.toLowerCase()==="input"&&(A.type==="checkbox"||A.type==="radio")&&(f=Y0);if(f&&(f=f(e,T))){hd(I,f,n,P);break e}r&&r(e,A,T),e==="focusout"&&(r=A._wrapperState)&&r.controlled&&A.type==="number"&&fl(A,"number",A.value)}switch(r=T?di(T):window,e){case"focusin":(Pc(r)||r.contentEditable==="true")&&(ci=r,wl=T,so=null);break;case"focusout":so=wl=ci=null;break;case"mousedown":bl=!0;break;case"contextmenu":case"mouseup":case"dragend":bl=!1,Bc(I,n,P);break;case"selectionchange":if(Z0)break;case"keydown":case"keyup":Bc(I,n,P)}var p;if(gu)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else ui?fd(e,n)&&(C="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(cd&&n.locale!=="ko"&&(ui||C!=="onCompositionStart"?C==="onCompositionEnd"&&ui&&(p=ud()):(Sr=P,du="value"in Sr?Sr.value:Sr.textContent,ui=!0)),r=Pa(T,C),0<r.length&&(C=new _c(C,e,null,n,P),I.push({event:C,listeners:r}),p?C.data=p:(p=dd(n),p!==null&&(C.data=p)))),(p=G0?H0(e,n):z0(e,n))&&(T=Pa(T,"onBeforeInput"),0<T.length&&(P=new _c("onBeforeInput","beforeinput",null,n,P),I.push({event:P,listeners:T}),P.data=p))}bd(I,t)})}function Lo(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Pa(e,t){for(var n=t+"Capture",i=[];e!==null;){var o=e,l=o.stateNode;o.tag===5&&l!==null&&(o=l,l=go(e,n),l!=null&&i.unshift(Lo(e,l,o)),l=go(e,t),l!=null&&i.push(Lo(e,l,o))),e=e.return}return i}function ai(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Gc(e,t,n,i,o){for(var l=t._reactName,a=[];n!==null&&n!==i;){var v=n,h=v.alternate,T=v.stateNode;if(h!==null&&h===i)break;v.tag===5&&T!==null&&(v=T,o?(h=go(n,l),h!=null&&a.unshift(Lo(n,h,v))):o||(h=go(n,l),h!=null&&a.push(Lo(n,h,v)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var rg=/\r\n?/g,ig=/\u0000|\uFFFD/g;function Hc(e){return(typeof e=="string"?e:""+e).replace(rg,`
`).replace(ig,"")}function ia(e,t,n){if(t=Hc(t),Hc(e)!==t&&n)throw Error(Se(425))}function Ia(){}var kl=null,xl=null;function Cl(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Al=typeof setTimeout=="function"?setTimeout:void 0,og=typeof clearTimeout=="function"?clearTimeout:void 0,zc=typeof Promise=="function"?Promise:void 0,ag=typeof queueMicrotask=="function"?queueMicrotask:typeof zc<"u"?function(e){return zc.resolve(null).then(e).catch(sg)}:Al;function sg(e){setTimeout(function(){throw e})}function Ws(e,t){var n=t,i=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(i===0){e.removeChild(o),yo(t);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=o}while(n);yo(t)}function xr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Kc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Ii=Math.random().toString(36).slice(2),Xn="__reactFiber$"+Ii,wo="__reactProps$"+Ii,ur="__reactContainer$"+Ii,_l="__reactEvents$"+Ii,lg="__reactListeners$"+Ii,ug="__reactHandles$"+Ii;function Wr(e){var t=e[Xn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ur]||n[Xn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Kc(e);e!==null;){if(n=e[Xn])return n;e=Kc(e)}return t}e=n,n=e.parentNode}return null}function Po(e){return e=e[Xn]||e[ur],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function di(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Se(33))}function ts(e){return e[wo]||null}var Dl=[],hi=-1;function Ir(e){return{current:e}}function Ct(e){0>hi||(e.current=Dl[hi],Dl[hi]=null,hi--)}function wt(e,t){hi++,Dl[hi]=e.current,e.current=t}var Or={},on=Ir(Or),gn=Ir(!1),Xr=Or;function xi(e,t){var n=e.type.contextTypes;if(!n)return Or;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var o={},l;for(l in n)o[l]=t[l];return i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function vn(e){return e=e.childContextTypes,e!=null}function Fa(){Ct(gn),Ct(on)}function Vc(e,t,n){if(on.current!==Or)throw Error(Se(168));wt(on,t),wt(gn,n)}function xd(e,t,n){var i=e.stateNode;if(t=t.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var o in i)if(!(o in t))throw Error(Se(108,qp(e)||"Unknown",o));return It({},n,i)}function Ma(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Or,Xr=on.current,wt(on,e),wt(gn,gn.current),!0}function Wc(e,t,n){var i=e.stateNode;if(!i)throw Error(Se(169));n?(e=xd(e,t,Xr),i.__reactInternalMemoizedMergedChildContext=e,Ct(gn),Ct(on),wt(on,e)):Ct(gn),wt(gn,n)}var rr=null,ns=!1,qs=!1;function Cd(e){rr===null?rr=[e]:rr.push(e)}function cg(e){ns=!0,Cd(e)}function Fr(){if(!qs&&rr!==null){qs=!0;var e=0,t=mt;try{var n=rr;for(mt=1;e<n.length;e++){var i=n[e];do i=i(!0);while(i!==null)}rr=null,ns=!1}catch(o){throw rr!==null&&(rr=rr.slice(e+1)),Qf(lu,Fr),o}finally{mt=t,qs=!1}}return null}var pi=[],gi=0,Na=null,Ba=0,Pn=[],In=0,Qr=null,ir=1,or="";function Kr(e,t){pi[gi++]=Ba,pi[gi++]=Na,Na=e,Ba=t}function Ad(e,t,n){Pn[In++]=ir,Pn[In++]=or,Pn[In++]=Qr,Qr=e;var i=ir;e=or;var o=32-Vn(i)-1;i&=~(1<<o),n+=1;var l=32-Vn(t)+o;if(30<l){var a=o-o%5;l=(i&(1<<a)-1).toString(32),i>>=a,o-=a,ir=1<<32-Vn(t)+o|n<<o|i,or=l+e}else ir=1<<l|n<<o|i,or=e}function mu(e){e.return!==null&&(Kr(e,1),Ad(e,1,0))}function yu(e){for(;e===Na;)Na=pi[--gi],pi[gi]=null,Ba=pi[--gi],pi[gi]=null;for(;e===Qr;)Qr=Pn[--In],Pn[In]=null,or=Pn[--In],Pn[In]=null,ir=Pn[--In],Pn[In]=null}var xn=null,kn=null,Dt=!1,Kn=null;function _d(e,t){var n=Fn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function qc(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,xn=e,kn=xr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,xn=e,kn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Qr!==null?{id:ir,overflow:or}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Fn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,xn=e,kn=null,!0):!1;default:return!1}}function Rl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ol(e){if(Dt){var t=kn;if(t){var n=t;if(!qc(e,t)){if(Rl(e))throw Error(Se(418));t=xr(n.nextSibling);var i=xn;t&&qc(e,t)?_d(i,n):(e.flags=e.flags&-4097|2,Dt=!1,xn=e)}}else{if(Rl(e))throw Error(Se(418));e.flags=e.flags&-4097|2,Dt=!1,xn=e}}}function Jc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;xn=e}function oa(e){if(e!==xn)return!1;if(!Dt)return Jc(e),Dt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Cl(e.type,e.memoizedProps)),t&&(t=kn)){if(Rl(e))throw Dd(),Error(Se(418));for(;t;)_d(e,t),t=xr(t.nextSibling)}if(Jc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Se(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){kn=xr(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}kn=null}}else kn=xn?xr(e.stateNode.nextSibling):null;return!0}function Dd(){for(var e=kn;e;)e=xr(e.nextSibling)}function Ci(){kn=xn=null,Dt=!1}function Eu(e){Kn===null?Kn=[e]:Kn.push(e)}var fg=dr.ReactCurrentBatchConfig;function Hn(e,t){if(e&&e.defaultProps){t=It({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var ja=Ir(null),Ua=null,vi=null,Tu=null;function Su(){Tu=vi=Ua=null}function Lu(e){var t=ja.current;Ct(ja),e._currentValue=t}function Pl(e,t,n){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function wi(e,t){Ua=e,Tu=vi=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(pn=!0),e.firstContext=null)}function Nn(e){var t=e._currentValue;if(Tu!==e)if(e={context:e,memoizedValue:t,next:null},vi===null){if(Ua===null)throw Error(Se(308));vi=e,Ua.dependencies={lanes:0,firstContext:e}}else vi=vi.next=e;return t}var qr=null;function wu(e){qr===null?qr=[e]:qr.push(e)}function Rd(e,t,n,i){var o=t.interleaved;return o===null?(n.next=n,wu(t)):(n.next=o.next,o.next=n),t.interleaved=n,cr(e,i)}function cr(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var yr=!1;function bu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Od(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function sr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Cr(e,t,n){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,dt&2){var o=i.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),i.pending=t,cr(e,n)}return o=i.interleaved,o===null?(t.next=t,wu(i)):(t.next=o.next,o.next=t),i.interleaved=t,cr(e,n)}function va(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,uu(e,n)}}function Yc(e,t){var n=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var o=null,l=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};l===null?o=l=a:l=l.next=a,n=n.next}while(n!==null);l===null?o=l=t:l=l.next=t}else o=l=t;n={baseState:i.baseState,firstBaseUpdate:o,lastBaseUpdate:l,shared:i.shared,effects:i.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ga(e,t,n,i){var o=e.updateQueue;yr=!1;var l=o.firstBaseUpdate,a=o.lastBaseUpdate,v=o.shared.pending;if(v!==null){o.shared.pending=null;var h=v,T=h.next;h.next=null,a===null?l=T:a.next=T,a=h;var P=e.alternate;P!==null&&(P=P.updateQueue,v=P.lastBaseUpdate,v!==a&&(v===null?P.firstBaseUpdate=T:v.next=T,P.lastBaseUpdate=h))}if(l!==null){var I=o.baseState;a=0,P=T=h=null,v=l;do{var A=v.lane,x=v.eventTime;if((i&A)===A){P!==null&&(P=P.next={eventTime:x,lane:0,tag:v.tag,payload:v.payload,callback:v.callback,next:null});e:{var _=e,b=v;switch(A=t,x=n,b.tag){case 1:if(_=b.payload,typeof _=="function"){I=_.call(x,I,A);break e}I=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=b.payload,A=typeof _=="function"?_.call(x,I,A):_,A==null)break e;I=It({},I,A);break e;case 2:yr=!0}}v.callback!==null&&v.lane!==0&&(e.flags|=64,A=o.effects,A===null?o.effects=[v]:A.push(v))}else x={eventTime:x,lane:A,tag:v.tag,payload:v.payload,callback:v.callback,next:null},P===null?(T=P=x,h=I):P=P.next=x,a|=A;if(v=v.next,v===null){if(v=o.shared.pending,v===null)break;A=v,v=A.next,A.next=null,o.lastBaseUpdate=A,o.shared.pending=null}}while(1);if(P===null&&(h=I),o.baseState=h,o.firstBaseUpdate=T,o.lastBaseUpdate=P,t=o.shared.interleaved,t!==null){o=t;do a|=o.lane,o=o.next;while(o!==t)}else l===null&&(o.shared.lanes=0);ei|=a,e.lanes=a,e.memoizedState=I}}function $c(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var i=e[t],o=i.callback;if(o!==null){if(i.callback=null,i=n,typeof o!="function")throw Error(Se(191,o));o.call(i)}}}var Pd=new Rf.Component().refs;function Il(e,t,n,i){t=e.memoizedState,n=n(i,t),n=n==null?t:It({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var rs={isMounted:function(e){return(e=e._reactInternals)?ri(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var i=sn(),o=_r(e),l=sr(i,o);l.payload=t,n!=null&&(l.callback=n),t=Cr(e,l,o),t!==null&&(Wn(t,e,o,i),va(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=sn(),o=_r(e),l=sr(i,o);l.tag=1,l.payload=t,n!=null&&(l.callback=n),t=Cr(e,l,o),t!==null&&(Wn(t,e,o,i),va(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=sn(),i=_r(e),o=sr(n,i);o.tag=2,t!=null&&(o.callback=t),t=Cr(e,o,i),t!==null&&(Wn(t,e,i,n),va(t,e,i))}};function Xc(e,t,n,i,o,l,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,l,a):t.prototype&&t.prototype.isPureReactComponent?!To(n,i)||!To(o,l):!0}function Id(e,t,n){var i=!1,o=Or,l=t.contextType;return typeof l=="object"&&l!==null?l=Nn(l):(o=vn(t)?Xr:on.current,i=t.contextTypes,l=(i=i!=null)?xi(e,o):Or),t=new t(n,l),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=rs,e.stateNode=t,t._reactInternals=e,i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=l),t}function Qc(e,t,n,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&rs.enqueueReplaceState(t,t.state,null)}function Fl(e,t,n,i){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs=Pd,bu(e);var l=t.contextType;typeof l=="object"&&l!==null?o.context=Nn(l):(l=vn(t)?Xr:on.current,o.context=xi(e,l)),o.state=e.memoizedState,l=t.getDerivedStateFromProps,typeof l=="function"&&(Il(e,t,l,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&rs.enqueueReplaceState(o,o.state,null),Ga(e,n,o,i),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function $i(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Se(309));var i=n.stateNode}if(!i)throw Error(Se(147,e));var o=i,l=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===l?t.ref:(t=function(a){var v=o.refs;v===Pd&&(v=o.refs={}),a===null?delete v[l]:v[l]=a},t._stringRef=l,t)}if(typeof e!="string")throw Error(Se(284));if(!n._owner)throw Error(Se(290,e))}return e}function aa(e,t){throw e=Object.prototype.toString.call(t),Error(Se(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Zc(e){var t=e._init;return t(e._payload)}function Fd(e){function t(L,S){if(e){var c=L.deletions;c===null?(L.deletions=[S],L.flags|=16):c.push(S)}}function n(L,S){if(!e)return null;for(;S!==null;)t(L,S),S=S.sibling;return null}function i(L,S){for(L=new Map;S!==null;)S.key!==null?L.set(S.key,S):L.set(S.index,S),S=S.sibling;return L}function o(L,S){return L=Dr(L,S),L.index=0,L.sibling=null,L}function l(L,S,c){return L.index=c,e?(c=L.alternate,c!==null?(c=c.index,c<S?(L.flags|=2,S):c):(L.flags|=2,S)):(L.flags|=1048576,S)}function a(L){return e&&L.alternate===null&&(L.flags|=2),L}function v(L,S,c,u){return S===null||S.tag!==6?(S=el(c,L.mode,u),S.return=L,S):(S=o(S,c),S.return=L,S)}function h(L,S,c,u){var f=c.type;return f===li?P(L,S,c.props.children,u,c.key):S!==null&&(S.elementType===f||typeof f=="object"&&f!==null&&f.$$typeof===mr&&Zc(f)===S.type)?(u=o(S,c.props),u.ref=$i(L,S,c),u.return=L,u):(u=La(c.type,c.key,c.props,null,L.mode,u),u.ref=$i(L,S,c),u.return=L,u)}function T(L,S,c,u){return S===null||S.tag!==4||S.stateNode.containerInfo!==c.containerInfo||S.stateNode.implementation!==c.implementation?(S=tl(c,L.mode,u),S.return=L,S):(S=o(S,c.children||[]),S.return=L,S)}function P(L,S,c,u,f){return S===null||S.tag!==7?(S=$r(c,L.mode,u,f),S.return=L,S):(S=o(S,c),S.return=L,S)}function I(L,S,c){if(typeof S=="string"&&S!==""||typeof S=="number")return S=el(""+S,L.mode,c),S.return=L,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Yo:return c=La(S.type,S.key,S.props,null,L.mode,c),c.ref=$i(L,null,S),c.return=L,c;case si:return S=tl(S,L.mode,c),S.return=L,S;case mr:var u=S._init;return I(L,u(S._payload),c)}if(eo(S)||Vi(S))return S=$r(S,L.mode,c,null),S.return=L,S;aa(L,S)}return null}function A(L,S,c,u){var f=S!==null?S.key:null;if(typeof c=="string"&&c!==""||typeof c=="number")return f!==null?null:v(L,S,""+c,u);if(typeof c=="object"&&c!==null){switch(c.$$typeof){case Yo:return c.key===f?h(L,S,c,u):null;case si:return c.key===f?T(L,S,c,u):null;case mr:return f=c._init,A(L,S,f(c._payload),u)}if(eo(c)||Vi(c))return f!==null?null:P(L,S,c,u,null);aa(L,c)}return null}function x(L,S,c,u,f){if(typeof u=="string"&&u!==""||typeof u=="number")return L=L.get(c)||null,v(S,L,""+u,f);if(typeof u=="object"&&u!==null){switch(u.$$typeof){case Yo:return L=L.get(u.key===null?c:u.key)||null,h(S,L,u,f);case si:return L=L.get(u.key===null?c:u.key)||null,T(S,L,u,f);case mr:var r=u._init;return x(L,S,c,r(u._payload),f)}if(eo(u)||Vi(u))return L=L.get(c)||null,P(S,L,u,f,null);aa(S,u)}return null}function _(L,S,c,u){for(var f=null,r=null,p=S,C=S=0,g=null;p!==null&&C<c.length;C++){p.index>C?(g=p,p=null):g=p.sibling;var m=A(L,p,c[C],u);if(m===null){p===null&&(p=g);break}e&&p&&m.alternate===null&&t(L,p),S=l(m,S,C),r===null?f=m:r.sibling=m,r=m,p=g}if(C===c.length)return n(L,p),Dt&&Kr(L,C),f;if(p===null){for(;C<c.length;C++)p=I(L,c[C],u),p!==null&&(S=l(p,S,C),r===null?f=p:r.sibling=p,r=p);return Dt&&Kr(L,C),f}for(p=i(L,p);C<c.length;C++)g=x(p,L,C,c[C],u),g!==null&&(e&&g.alternate!==null&&p.delete(g.key===null?C:g.key),S=l(g,S,C),r===null?f=g:r.sibling=g,r=g);return e&&p.forEach(function(k){return t(L,k)}),Dt&&Kr(L,C),f}function b(L,S,c,u){var f=Vi(c);if(typeof f!="function")throw Error(Se(150));if(c=f.call(c),c==null)throw Error(Se(151));for(var r=f=null,p=S,C=S=0,g=null,m=c.next();p!==null&&!m.done;C++,m=c.next()){p.index>C?(g=p,p=null):g=p.sibling;var k=A(L,p,m.value,u);if(k===null){p===null&&(p=g);break}e&&p&&k.alternate===null&&t(L,p),S=l(k,S,C),r===null?f=k:r.sibling=k,r=k,p=g}if(m.done)return n(L,p),Dt&&Kr(L,C),f;if(p===null){for(;!m.done;C++,m=c.next())m=I(L,m.value,u),m!==null&&(S=l(m,S,C),r===null?f=m:r.sibling=m,r=m);return Dt&&Kr(L,C),f}for(p=i(L,p);!m.done;C++,m=c.next())m=x(p,L,C,m.value,u),m!==null&&(e&&m.alternate!==null&&p.delete(m.key===null?C:m.key),S=l(m,S,C),r===null?f=m:r.sibling=m,r=m);return e&&p.forEach(function(d){return t(L,d)}),Dt&&Kr(L,C),f}function D(L,S,c,u){if(typeof c=="object"&&c!==null&&c.type===li&&c.key===null&&(c=c.props.children),typeof c=="object"&&c!==null){switch(c.$$typeof){case Yo:e:{for(var f=c.key,r=S;r!==null;){if(r.key===f){if(f=c.type,f===li){if(r.tag===7){n(L,r.sibling),S=o(r,c.props.children),S.return=L,L=S;break e}}else if(r.elementType===f||typeof f=="object"&&f!==null&&f.$$typeof===mr&&Zc(f)===r.type){n(L,r.sibling),S=o(r,c.props),S.ref=$i(L,r,c),S.return=L,L=S;break e}n(L,r);break}else t(L,r);r=r.sibling}c.type===li?(S=$r(c.props.children,L.mode,u,c.key),S.return=L,L=S):(u=La(c.type,c.key,c.props,null,L.mode,u),u.ref=$i(L,S,c),u.return=L,L=u)}return a(L);case si:e:{for(r=c.key;S!==null;){if(S.key===r)if(S.tag===4&&S.stateNode.containerInfo===c.containerInfo&&S.stateNode.implementation===c.implementation){n(L,S.sibling),S=o(S,c.children||[]),S.return=L,L=S;break e}else{n(L,S);break}else t(L,S);S=S.sibling}S=tl(c,L.mode,u),S.return=L,L=S}return a(L);case mr:return r=c._init,D(L,S,r(c._payload),u)}if(eo(c))return _(L,S,c,u);if(Vi(c))return b(L,S,c,u);aa(L,c)}return typeof c=="string"&&c!==""||typeof c=="number"?(c=""+c,S!==null&&S.tag===6?(n(L,S.sibling),S=o(S,c),S.return=L,L=S):(n(L,S),S=el(c,L.mode,u),S.return=L,L=S),a(L)):n(L,S)}return D}var Ai=Fd(!0),Md=Fd(!1),Io={},Zn=Ir(Io),bo=Ir(Io),ko=Ir(Io);function Jr(e){if(e===Io)throw Error(Se(174));return e}function ku(e,t){switch(wt(ko,t),wt(bo,e),wt(Zn,Io),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:hl(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=hl(t,e)}Ct(Zn),wt(Zn,t)}function _i(){Ct(Zn),Ct(bo),Ct(ko)}function Nd(e){Jr(ko.current);var t=Jr(Zn.current),n=hl(t,e.type);t!==n&&(wt(bo,e),wt(Zn,n))}function xu(e){bo.current===e&&(Ct(Zn),Ct(bo))}var Ot=Ir(0);function Ha(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Js=[];function Cu(){for(var e=0;e<Js.length;e++)Js[e]._workInProgressVersionPrimary=null;Js.length=0}var ma=dr.ReactCurrentDispatcher,Ys=dr.ReactCurrentBatchConfig,Zr=0,Pt=null,Kt=null,qt=null,za=!1,lo=!1,xo=0,dg=0;function tn(){throw Error(Se(321))}function Au(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!qn(e[n],t[n]))return!1;return!0}function _u(e,t,n,i,o,l){if(Zr=l,Pt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ma.current=e===null||e.memoizedState===null?vg:mg,e=n(i,o),lo){l=0;do{if(lo=!1,xo=0,25<=l)throw Error(Se(301));l+=1,qt=Kt=null,t.updateQueue=null,ma.current=yg,e=n(i,o)}while(lo)}if(ma.current=Ka,t=Kt!==null&&Kt.next!==null,Zr=0,qt=Kt=Pt=null,za=!1,t)throw Error(Se(300));return e}function Du(){var e=xo!==0;return xo=0,e}function $n(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qt===null?Pt.memoizedState=qt=e:qt=qt.next=e,qt}function Bn(){if(Kt===null){var e=Pt.alternate;e=e!==null?e.memoizedState:null}else e=Kt.next;var t=qt===null?Pt.memoizedState:qt.next;if(t!==null)qt=t,Kt=e;else{if(e===null)throw Error(Se(310));Kt=e,e={memoizedState:Kt.memoizedState,baseState:Kt.baseState,baseQueue:Kt.baseQueue,queue:Kt.queue,next:null},qt===null?Pt.memoizedState=qt=e:qt=qt.next=e}return qt}function Co(e,t){return typeof t=="function"?t(e):t}function $s(e){var t=Bn(),n=t.queue;if(n===null)throw Error(Se(311));n.lastRenderedReducer=e;var i=Kt,o=i.baseQueue,l=n.pending;if(l!==null){if(o!==null){var a=o.next;o.next=l.next,l.next=a}i.baseQueue=o=l,n.pending=null}if(o!==null){l=o.next,i=i.baseState;var v=a=null,h=null,T=l;do{var P=T.lane;if((Zr&P)===P)h!==null&&(h=h.next={lane:0,action:T.action,hasEagerState:T.hasEagerState,eagerState:T.eagerState,next:null}),i=T.hasEagerState?T.eagerState:e(i,T.action);else{var I={lane:P,action:T.action,hasEagerState:T.hasEagerState,eagerState:T.eagerState,next:null};h===null?(v=h=I,a=i):h=h.next=I,Pt.lanes|=P,ei|=P}T=T.next}while(T!==null&&T!==l);h===null?a=i:h.next=v,qn(i,t.memoizedState)||(pn=!0),t.memoizedState=i,t.baseState=a,t.baseQueue=h,n.lastRenderedState=i}if(e=n.interleaved,e!==null){o=e;do l=o.lane,Pt.lanes|=l,ei|=l,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Xs(e){var t=Bn(),n=t.queue;if(n===null)throw Error(Se(311));n.lastRenderedReducer=e;var i=n.dispatch,o=n.pending,l=t.memoizedState;if(o!==null){n.pending=null;var a=o=o.next;do l=e(l,a.action),a=a.next;while(a!==o);qn(l,t.memoizedState)||(pn=!0),t.memoizedState=l,t.baseQueue===null&&(t.baseState=l),n.lastRenderedState=l}return[l,i]}function Bd(){}function jd(e,t){var n=Pt,i=Bn(),o=t(),l=!qn(i.memoizedState,o);if(l&&(i.memoizedState=o,pn=!0),i=i.queue,Ru(Hd.bind(null,n,i,e),[e]),i.getSnapshot!==t||l||qt!==null&&qt.memoizedState.tag&1){if(n.flags|=2048,Ao(9,Gd.bind(null,n,i,o,t),void 0,null),Jt===null)throw Error(Se(349));Zr&30||Ud(n,t,o)}return o}function Ud(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Pt.updateQueue,t===null?(t={lastEffect:null,stores:null},Pt.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Gd(e,t,n,i){t.value=n,t.getSnapshot=i,zd(t)&&Kd(e)}function Hd(e,t,n){return n(function(){zd(t)&&Kd(e)})}function zd(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!qn(e,n)}catch{return!0}}function Kd(e){var t=cr(e,1);t!==null&&Wn(t,e,1,-1)}function ef(e){var t=$n();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Co,lastRenderedState:e},t.queue=e,e=e.dispatch=gg.bind(null,Pt,e),[t.memoizedState,e]}function Ao(e,t,n,i){return e={tag:e,create:t,destroy:n,deps:i,next:null},t=Pt.updateQueue,t===null?(t={lastEffect:null,stores:null},Pt.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e)),e}function Vd(){return Bn().memoizedState}function ya(e,t,n,i){var o=$n();Pt.flags|=e,o.memoizedState=Ao(1|t,n,void 0,i===void 0?null:i)}function is(e,t,n,i){var o=Bn();i=i===void 0?null:i;var l=void 0;if(Kt!==null){var a=Kt.memoizedState;if(l=a.destroy,i!==null&&Au(i,a.deps)){o.memoizedState=Ao(t,n,l,i);return}}Pt.flags|=e,o.memoizedState=Ao(1|t,n,l,i)}function tf(e,t){return ya(8390656,8,e,t)}function Ru(e,t){return is(2048,8,e,t)}function Wd(e,t){return is(4,2,e,t)}function qd(e,t){return is(4,4,e,t)}function Jd(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Yd(e,t,n){return n=n!=null?n.concat([e]):null,is(4,4,Jd.bind(null,t,e),n)}function Ou(){}function $d(e,t){var n=Bn();t=t===void 0?null:t;var i=n.memoizedState;return i!==null&&t!==null&&Au(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function Xd(e,t){var n=Bn();t=t===void 0?null:t;var i=n.memoizedState;return i!==null&&t!==null&&Au(t,i[1])?i[0]:(e=e(),n.memoizedState=[e,t],e)}function Qd(e,t,n){return Zr&21?(qn(n,t)||(n=td(),Pt.lanes|=n,ei|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,pn=!0),e.memoizedState=n)}function hg(e,t){var n=mt;mt=n!==0&&4>n?n:4,e(!0);var i=Ys.transition;Ys.transition={};try{e(!1),t()}finally{mt=n,Ys.transition=i}}function Zd(){return Bn().memoizedState}function pg(e,t,n){var i=_r(e);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},eh(e))th(t,n);else if(n=Rd(e,t,n,i),n!==null){var o=sn();Wn(n,e,i,o),nh(n,t,i)}}function gg(e,t,n){var i=_r(e),o={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(eh(e))th(t,o);else{var l=e.alternate;if(e.lanes===0&&(l===null||l.lanes===0)&&(l=t.lastRenderedReducer,l!==null))try{var a=t.lastRenderedState,v=l(a,n);if(o.hasEagerState=!0,o.eagerState=v,qn(v,a)){var h=t.interleaved;h===null?(o.next=o,wu(t)):(o.next=h.next,h.next=o),t.interleaved=o;return}}catch{}finally{}n=Rd(e,t,o,i),n!==null&&(o=sn(),Wn(n,e,i,o),nh(n,t,i))}}function eh(e){var t=e.alternate;return e===Pt||t!==null&&t===Pt}function th(e,t){lo=za=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function nh(e,t,n){if(n&4194240){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,uu(e,n)}}var Ka={readContext:Nn,useCallback:tn,useContext:tn,useEffect:tn,useImperativeHandle:tn,useInsertionEffect:tn,useLayoutEffect:tn,useMemo:tn,useReducer:tn,useRef:tn,useState:tn,useDebugValue:tn,useDeferredValue:tn,useTransition:tn,useMutableSource:tn,useSyncExternalStore:tn,useId:tn,unstable_isNewReconciler:!1},vg={readContext:Nn,useCallback:function(e,t){return $n().memoizedState=[e,t===void 0?null:t],e},useContext:Nn,useEffect:tf,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,ya(4194308,4,Jd.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ya(4194308,4,e,t)},useInsertionEffect:function(e,t){return ya(4,2,e,t)},useMemo:function(e,t){var n=$n();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var i=$n();return t=n!==void 0?n(t):t,i.memoizedState=i.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},i.queue=e,e=e.dispatch=pg.bind(null,Pt,e),[i.memoizedState,e]},useRef:function(e){var t=$n();return e={current:e},t.memoizedState=e},useState:ef,useDebugValue:Ou,useDeferredValue:function(e){return $n().memoizedState=e},useTransition:function(){var e=ef(!1),t=e[0];return e=hg.bind(null,e[1]),$n().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var i=Pt,o=$n();if(Dt){if(n===void 0)throw Error(Se(407));n=n()}else{if(n=t(),Jt===null)throw Error(Se(349));Zr&30||Ud(i,t,n)}o.memoizedState=n;var l={value:n,getSnapshot:t};return o.queue=l,tf(Hd.bind(null,i,l,e),[e]),i.flags|=2048,Ao(9,Gd.bind(null,i,l,n,t),void 0,null),n},useId:function(){var e=$n(),t=Jt.identifierPrefix;if(Dt){var n=or,i=ir;n=(i&~(1<<32-Vn(i)-1)).toString(32)+n,t=":"+t+"R"+n,n=xo++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=dg++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},mg={readContext:Nn,useCallback:$d,useContext:Nn,useEffect:Ru,useImperativeHandle:Yd,useInsertionEffect:Wd,useLayoutEffect:qd,useMemo:Xd,useReducer:$s,useRef:Vd,useState:function(){return $s(Co)},useDebugValue:Ou,useDeferredValue:function(e){var t=Bn();return Qd(t,Kt.memoizedState,e)},useTransition:function(){var e=$s(Co)[0],t=Bn().memoizedState;return[e,t]},useMutableSource:Bd,useSyncExternalStore:jd,useId:Zd,unstable_isNewReconciler:!1},yg={readContext:Nn,useCallback:$d,useContext:Nn,useEffect:Ru,useImperativeHandle:Yd,useInsertionEffect:Wd,useLayoutEffect:qd,useMemo:Xd,useReducer:Xs,useRef:Vd,useState:function(){return Xs(Co)},useDebugValue:Ou,useDeferredValue:function(e){var t=Bn();return Kt===null?t.memoizedState=e:Qd(t,Kt.memoizedState,e)},useTransition:function(){var e=Xs(Co)[0],t=Bn().memoizedState;return[e,t]},useMutableSource:Bd,useSyncExternalStore:jd,useId:Zd,unstable_isNewReconciler:!1};function Di(e,t){try{var n="",i=t;do n+=Wp(i),i=i.return;while(i);var o=n}catch(l){o=`
Error generating stack: `+l.message+`
`+l.stack}return{value:e,source:t,stack:o,digest:null}}function Qs(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Ml(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Eg=typeof WeakMap=="function"?WeakMap:Map;function rh(e,t,n){n=sr(-1,n),n.tag=3,n.payload={element:null};var i=t.value;return n.callback=function(){Wa||(Wa=!0,Wl=i),Ml(e,t)},n}function ih(e,t,n){n=sr(-1,n),n.tag=3;var i=e.type.getDerivedStateFromError;if(typeof i=="function"){var o=t.value;n.payload=function(){return i(o)},n.callback=function(){Ml(e,t)}}var l=e.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(n.callback=function(){Ml(e,t),typeof i!="function"&&(Ar===null?Ar=new Set([this]):Ar.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function nf(e,t,n){var i=e.pingCache;if(i===null){i=e.pingCache=new Eg;var o=new Set;i.set(t,o)}else o=i.get(t),o===void 0&&(o=new Set,i.set(t,o));o.has(n)||(o.add(n),e=Pg.bind(null,e,t,n),t.then(e,e))}function rf(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function of(e,t,n,i,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=sr(-1,1),t.tag=2,Cr(n,t,1))),n.lanes|=1),e)}var Tg=dr.ReactCurrentOwner,pn=!1;function an(e,t,n,i){t.child=e===null?Md(t,null,n,i):Ai(t,e.child,n,i)}function af(e,t,n,i,o){n=n.render;var l=t.ref;return wi(t,o),i=_u(e,t,n,i,l,o),n=Du(),e!==null&&!pn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,fr(e,t,o)):(Dt&&n&&mu(t),t.flags|=1,an(e,t,i,o),t.child)}function sf(e,t,n,i,o){if(e===null){var l=n.type;return typeof l=="function"&&!Uu(l)&&l.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=l,oh(e,t,l,i,o)):(e=La(n.type,null,i,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(l=e.child,!(e.lanes&o)){var a=l.memoizedProps;if(n=n.compare,n=n!==null?n:To,n(a,i)&&e.ref===t.ref)return fr(e,t,o)}return t.flags|=1,e=Dr(l,i),e.ref=t.ref,e.return=t,t.child=e}function oh(e,t,n,i,o){if(e!==null){var l=e.memoizedProps;if(To(l,i)&&e.ref===t.ref)if(pn=!1,t.pendingProps=i=l,(e.lanes&o)!==0)e.flags&131072&&(pn=!0);else return t.lanes=e.lanes,fr(e,t,o)}return Nl(e,t,n,i,o)}function ah(e,t,n){var i=t.pendingProps,o=i.children,l=e!==null?e.memoizedState:null;if(i.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},wt(yi,bn),bn|=n;else{if(!(n&1073741824))return e=l!==null?l.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,wt(yi,bn),bn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=l!==null?l.baseLanes:n,wt(yi,bn),bn|=i}else l!==null?(i=l.baseLanes|n,t.memoizedState=null):i=n,wt(yi,bn),bn|=i;return an(e,t,o,n),t.child}function sh(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Nl(e,t,n,i,o){var l=vn(n)?Xr:on.current;return l=xi(t,l),wi(t,o),n=_u(e,t,n,i,l,o),i=Du(),e!==null&&!pn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,fr(e,t,o)):(Dt&&i&&mu(t),t.flags|=1,an(e,t,n,o),t.child)}function lf(e,t,n,i,o){if(vn(n)){var l=!0;Ma(t)}else l=!1;if(wi(t,o),t.stateNode===null)Ea(e,t),Id(t,n,i),Fl(t,n,i,o),i=!0;else if(e===null){var a=t.stateNode,v=t.memoizedProps;a.props=v;var h=a.context,T=n.contextType;typeof T=="object"&&T!==null?T=Nn(T):(T=vn(n)?Xr:on.current,T=xi(t,T));var P=n.getDerivedStateFromProps,I=typeof P=="function"||typeof a.getSnapshotBeforeUpdate=="function";I||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(v!==i||h!==T)&&Qc(t,a,i,T),yr=!1;var A=t.memoizedState;a.state=A,Ga(t,i,a,o),h=t.memoizedState,v!==i||A!==h||gn.current||yr?(typeof P=="function"&&(Il(t,n,P,i),h=t.memoizedState),(v=yr||Xc(t,n,v,i,A,h,T))?(I||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=h),a.props=i,a.state=h,a.context=T,i=v):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{a=t.stateNode,Od(e,t),v=t.memoizedProps,T=t.type===t.elementType?v:Hn(t.type,v),a.props=T,I=t.pendingProps,A=a.context,h=n.contextType,typeof h=="object"&&h!==null?h=Nn(h):(h=vn(n)?Xr:on.current,h=xi(t,h));var x=n.getDerivedStateFromProps;(P=typeof x=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(v!==I||A!==h)&&Qc(t,a,i,h),yr=!1,A=t.memoizedState,a.state=A,Ga(t,i,a,o);var _=t.memoizedState;v!==I||A!==_||gn.current||yr?(typeof x=="function"&&(Il(t,n,x,i),_=t.memoizedState),(T=yr||Xc(t,n,T,i,A,_,h)||!1)?(P||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(i,_,h),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(i,_,h)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||v===e.memoizedProps&&A===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&A===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=_),a.props=i,a.state=_,a.context=h,i=T):(typeof a.componentDidUpdate!="function"||v===e.memoizedProps&&A===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&A===e.memoizedState||(t.flags|=1024),i=!1)}return Bl(e,t,n,i,l,o)}function Bl(e,t,n,i,o,l){sh(e,t);var a=(t.flags&128)!==0;if(!i&&!a)return o&&Wc(t,n,!1),fr(e,t,l);i=t.stateNode,Tg.current=t;var v=a&&typeof n.getDerivedStateFromError!="function"?null:i.render();return t.flags|=1,e!==null&&a?(t.child=Ai(t,e.child,null,l),t.child=Ai(t,null,v,l)):an(e,t,v,l),t.memoizedState=i.state,o&&Wc(t,n,!0),t.child}function lh(e){var t=e.stateNode;t.pendingContext?Vc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Vc(e,t.context,!1),ku(e,t.containerInfo)}function uf(e,t,n,i,o){return Ci(),Eu(o),t.flags|=256,an(e,t,n,i),t.child}var jl={dehydrated:null,treeContext:null,retryLane:0};function Ul(e){return{baseLanes:e,cachePool:null,transitions:null}}function uh(e,t,n){var i=t.pendingProps,o=Ot.current,l=!1,a=(t.flags&128)!==0,v;if((v=a)||(v=e!==null&&e.memoizedState===null?!1:(o&2)!==0),v?(l=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),wt(Ot,o&1),e===null)return Ol(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=i.children,e=i.fallback,l?(i=t.mode,l=t.child,a={mode:"hidden",children:a},!(i&1)&&l!==null?(l.childLanes=0,l.pendingProps=a):l=ss(a,i,0,null),e=$r(e,i,n,null),l.return=t,e.return=t,l.sibling=e,t.child=l,t.child.memoizedState=Ul(n),t.memoizedState=jl,e):Pu(t,a));if(o=e.memoizedState,o!==null&&(v=o.dehydrated,v!==null))return Sg(e,t,a,i,v,o,n);if(l){l=i.fallback,a=t.mode,o=e.child,v=o.sibling;var h={mode:"hidden",children:i.children};return!(a&1)&&t.child!==o?(i=t.child,i.childLanes=0,i.pendingProps=h,t.deletions=null):(i=Dr(o,h),i.subtreeFlags=o.subtreeFlags&14680064),v!==null?l=Dr(v,l):(l=$r(l,a,n,null),l.flags|=2),l.return=t,i.return=t,i.sibling=l,t.child=i,i=l,l=t.child,a=e.child.memoizedState,a=a===null?Ul(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},l.memoizedState=a,l.childLanes=e.childLanes&~n,t.memoizedState=jl,i}return l=e.child,e=l.sibling,i=Dr(l,{mode:"visible",children:i.children}),!(t.mode&1)&&(i.lanes=n),i.return=t,i.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Pu(e,t){return t=ss({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function sa(e,t,n,i){return i!==null&&Eu(i),Ai(t,e.child,null,n),e=Pu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Sg(e,t,n,i,o,l,a){if(n)return t.flags&256?(t.flags&=-257,i=Qs(Error(Se(422))),sa(e,t,a,i)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(l=i.fallback,o=t.mode,i=ss({mode:"visible",children:i.children},o,0,null),l=$r(l,o,a,null),l.flags|=2,i.return=t,l.return=t,i.sibling=l,t.child=i,t.mode&1&&Ai(t,e.child,null,a),t.child.memoizedState=Ul(a),t.memoizedState=jl,l);if(!(t.mode&1))return sa(e,t,a,null);if(o.data==="$!"){if(i=o.nextSibling&&o.nextSibling.dataset,i)var v=i.dgst;return i=v,l=Error(Se(419)),i=Qs(l,i,void 0),sa(e,t,a,i)}if(v=(a&e.childLanes)!==0,pn||v){if(i=Jt,i!==null){switch(a&-a){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(i.suspendedLanes|a)?0:o,o!==0&&o!==l.retryLane&&(l.retryLane=o,cr(e,o),Wn(i,e,o,-1))}return ju(),i=Qs(Error(Se(421))),sa(e,t,a,i)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=Ig.bind(null,e),o._reactRetry=t,null):(e=l.treeContext,kn=xr(o.nextSibling),xn=t,Dt=!0,Kn=null,e!==null&&(Pn[In++]=ir,Pn[In++]=or,Pn[In++]=Qr,ir=e.id,or=e.overflow,Qr=t),t=Pu(t,i.children),t.flags|=4096,t)}function cf(e,t,n){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),Pl(e.return,t,n)}function Zs(e,t,n,i,o){var l=e.memoizedState;l===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:o}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=i,l.tail=n,l.tailMode=o)}function ch(e,t,n){var i=t.pendingProps,o=i.revealOrder,l=i.tail;if(an(e,t,i.children,n),i=Ot.current,i&2)i=i&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&cf(e,n,t);else if(e.tag===19)cf(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(wt(Ot,i),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&Ha(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),Zs(t,!1,o,n,l);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&Ha(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}Zs(t,!0,n,null,l);break;case"together":Zs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ea(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function fr(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ei|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Se(153));if(t.child!==null){for(e=t.child,n=Dr(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Dr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Lg(e,t,n){switch(t.tag){case 3:lh(t),Ci();break;case 5:Nd(t);break;case 1:vn(t.type)&&Ma(t);break;case 4:ku(t,t.stateNode.containerInfo);break;case 10:var i=t.type._context,o=t.memoizedProps.value;wt(ja,i._currentValue),i._currentValue=o;break;case 13:if(i=t.memoizedState,i!==null)return i.dehydrated!==null?(wt(Ot,Ot.current&1),t.flags|=128,null):n&t.child.childLanes?uh(e,t,n):(wt(Ot,Ot.current&1),e=fr(e,t,n),e!==null?e.sibling:null);wt(Ot,Ot.current&1);break;case 19:if(i=(n&t.childLanes)!==0,e.flags&128){if(i)return ch(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),wt(Ot,Ot.current),i)break;return null;case 22:case 23:return t.lanes=0,ah(e,t,n)}return fr(e,t,n)}var fh,Gl,dh,hh;fh=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Gl=function(){};dh=function(e,t,n,i){var o=e.memoizedProps;if(o!==i){e=t.stateNode,Jr(Zn.current);var l=null;switch(n){case"input":o=ul(e,o),i=ul(e,i),l=[];break;case"select":o=It({},o,{value:void 0}),i=It({},i,{value:void 0}),l=[];break;case"textarea":o=dl(e,o),i=dl(e,i),l=[];break;default:typeof o.onClick!="function"&&typeof i.onClick=="function"&&(e.onclick=Ia)}pl(n,i);var a;n=null;for(T in o)if(!i.hasOwnProperty(T)&&o.hasOwnProperty(T)&&o[T]!=null)if(T==="style"){var v=o[T];for(a in v)v.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else T!=="dangerouslySetInnerHTML"&&T!=="children"&&T!=="suppressContentEditableWarning"&&T!=="suppressHydrationWarning"&&T!=="autoFocus"&&(ho.hasOwnProperty(T)?l||(l=[]):(l=l||[]).push(T,null));for(T in i){var h=i[T];if(v=o!=null?o[T]:void 0,i.hasOwnProperty(T)&&h!==v&&(h!=null||v!=null))if(T==="style")if(v){for(a in v)!v.hasOwnProperty(a)||h&&h.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in h)h.hasOwnProperty(a)&&v[a]!==h[a]&&(n||(n={}),n[a]=h[a])}else n||(l||(l=[]),l.push(T,n)),n=h;else T==="dangerouslySetInnerHTML"?(h=h?h.__html:void 0,v=v?v.__html:void 0,h!=null&&v!==h&&(l=l||[]).push(T,h)):T==="children"?typeof h!="string"&&typeof h!="number"||(l=l||[]).push(T,""+h):T!=="suppressContentEditableWarning"&&T!=="suppressHydrationWarning"&&(ho.hasOwnProperty(T)?(h!=null&&T==="onScroll"&&xt("scroll",e),l||v===h||(l=[])):(l=l||[]).push(T,h))}n&&(l=l||[]).push("style",n);var T=l;(t.updateQueue=T)&&(t.flags|=4)}};hh=function(e,t,n,i){n!==i&&(t.flags|=4)};function Xi(e,t){if(!Dt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function nn(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,i=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,i|=o.subtreeFlags&14680064,i|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,i|=o.subtreeFlags,i|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function wg(e,t,n){var i=t.pendingProps;switch(yu(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nn(t),null;case 1:return vn(t.type)&&Fa(),nn(t),null;case 3:return i=t.stateNode,_i(),Ct(gn),Ct(on),Cu(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(oa(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Kn!==null&&(Yl(Kn),Kn=null))),Gl(e,t),nn(t),null;case 5:xu(t);var o=Jr(ko.current);if(n=t.type,e!==null&&t.stateNode!=null)dh(e,t,n,i,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!i){if(t.stateNode===null)throw Error(Se(166));return nn(t),null}if(e=Jr(Zn.current),oa(t)){i=t.stateNode,n=t.type;var l=t.memoizedProps;switch(i[Xn]=t,i[wo]=l,e=(t.mode&1)!==0,n){case"dialog":xt("cancel",i),xt("close",i);break;case"iframe":case"object":case"embed":xt("load",i);break;case"video":case"audio":for(o=0;o<no.length;o++)xt(no[o],i);break;case"source":xt("error",i);break;case"img":case"image":case"link":xt("error",i),xt("load",i);break;case"details":xt("toggle",i);break;case"input":yc(i,l),xt("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!l.multiple},xt("invalid",i);break;case"textarea":Tc(i,l),xt("invalid",i)}pl(n,l),o=null;for(var a in l)if(l.hasOwnProperty(a)){var v=l[a];a==="children"?typeof v=="string"?i.textContent!==v&&(l.suppressHydrationWarning!==!0&&ia(i.textContent,v,e),o=["children",v]):typeof v=="number"&&i.textContent!==""+v&&(l.suppressHydrationWarning!==!0&&ia(i.textContent,v,e),o=["children",""+v]):ho.hasOwnProperty(a)&&v!=null&&a==="onScroll"&&xt("scroll",i)}switch(n){case"input":$o(i),Ec(i,l,!0);break;case"textarea":$o(i),Sc(i);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(i.onclick=Ia)}i=o,t.updateQueue=i,i!==null&&(t.flags|=4)}else{a=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Uf(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof i.is=="string"?e=a.createElement(n,{is:i.is}):(e=a.createElement(n),n==="select"&&(a=e,i.multiple?a.multiple=!0:i.size&&(a.size=i.size))):e=a.createElementNS(e,n),e[Xn]=t,e[wo]=i,fh(e,t,!1,!1),t.stateNode=e;e:{switch(a=gl(n,i),n){case"dialog":xt("cancel",e),xt("close",e),o=i;break;case"iframe":case"object":case"embed":xt("load",e),o=i;break;case"video":case"audio":for(o=0;o<no.length;o++)xt(no[o],e);o=i;break;case"source":xt("error",e),o=i;break;case"img":case"image":case"link":xt("error",e),xt("load",e),o=i;break;case"details":xt("toggle",e),o=i;break;case"input":yc(e,i),o=ul(e,i),xt("invalid",e);break;case"option":o=i;break;case"select":e._wrapperState={wasMultiple:!!i.multiple},o=It({},i,{value:void 0}),xt("invalid",e);break;case"textarea":Tc(e,i),o=dl(e,i),xt("invalid",e);break;default:o=i}pl(n,o),v=o;for(l in v)if(v.hasOwnProperty(l)){var h=v[l];l==="style"?zf(e,h):l==="dangerouslySetInnerHTML"?(h=h?h.__html:void 0,h!=null&&Gf(e,h)):l==="children"?typeof h=="string"?(n!=="textarea"||h!=="")&&po(e,h):typeof h=="number"&&po(e,""+h):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(ho.hasOwnProperty(l)?h!=null&&l==="onScroll"&&xt("scroll",e):h!=null&&ru(e,l,h,a))}switch(n){case"input":$o(e),Ec(e,i,!1);break;case"textarea":$o(e),Sc(e);break;case"option":i.value!=null&&e.setAttribute("value",""+Rr(i.value));break;case"select":e.multiple=!!i.multiple,l=i.value,l!=null?Ei(e,!!i.multiple,l,!1):i.defaultValue!=null&&Ei(e,!!i.multiple,i.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=Ia)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return nn(t),null;case 6:if(e&&t.stateNode!=null)hh(e,t,e.memoizedProps,i);else{if(typeof i!="string"&&t.stateNode===null)throw Error(Se(166));if(n=Jr(ko.current),Jr(Zn.current),oa(t)){if(i=t.stateNode,n=t.memoizedProps,i[Xn]=t,(l=i.nodeValue!==n)&&(e=xn,e!==null))switch(e.tag){case 3:ia(i.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ia(i.nodeValue,n,(e.mode&1)!==0)}l&&(t.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[Xn]=t,t.stateNode=i}return nn(t),null;case 13:if(Ct(Ot),i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Dt&&kn!==null&&t.mode&1&&!(t.flags&128))Dd(),Ci(),t.flags|=98560,l=!1;else if(l=oa(t),i!==null&&i.dehydrated!==null){if(e===null){if(!l)throw Error(Se(318));if(l=t.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(Se(317));l[Xn]=t}else Ci(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;nn(t),l=!1}else Kn!==null&&(Yl(Kn),Kn=null),l=!0;if(!l)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(i=i!==null,i!==(e!==null&&e.memoizedState!==null)&&i&&(t.child.flags|=8192,t.mode&1&&(e===null||Ot.current&1?Vt===0&&(Vt=3):ju())),t.updateQueue!==null&&(t.flags|=4),nn(t),null);case 4:return _i(),Gl(e,t),e===null&&So(t.stateNode.containerInfo),nn(t),null;case 10:return Lu(t.type._context),nn(t),null;case 17:return vn(t.type)&&Fa(),nn(t),null;case 19:if(Ct(Ot),l=t.memoizedState,l===null)return nn(t),null;if(i=(t.flags&128)!==0,a=l.rendering,a===null)if(i)Xi(l,!1);else{if(Vt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=Ha(e),a!==null){for(t.flags|=128,Xi(l,!1),i=a.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),t.subtreeFlags=0,i=n,n=t.child;n!==null;)l=n,e=i,l.flags&=14680066,a=l.alternate,a===null?(l.childLanes=0,l.lanes=e,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=a.childLanes,l.lanes=a.lanes,l.child=a.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=a.memoizedProps,l.memoizedState=a.memoizedState,l.updateQueue=a.updateQueue,l.type=a.type,e=a.dependencies,l.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return wt(Ot,Ot.current&1|2),t.child}e=e.sibling}l.tail!==null&&Mt()>Ri&&(t.flags|=128,i=!0,Xi(l,!1),t.lanes=4194304)}else{if(!i)if(e=Ha(a),e!==null){if(t.flags|=128,i=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Xi(l,!0),l.tail===null&&l.tailMode==="hidden"&&!a.alternate&&!Dt)return nn(t),null}else 2*Mt()-l.renderingStartTime>Ri&&n!==1073741824&&(t.flags|=128,i=!0,Xi(l,!1),t.lanes=4194304);l.isBackwards?(a.sibling=t.child,t.child=a):(n=l.last,n!==null?n.sibling=a:t.child=a,l.last=a)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Mt(),t.sibling=null,n=Ot.current,wt(Ot,i?n&1|2:n&1),t):(nn(t),null);case 22:case 23:return Bu(),i=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==i&&(t.flags|=8192),i&&t.mode&1?bn&1073741824&&(nn(t),t.subtreeFlags&6&&(t.flags|=8192)):nn(t),null;case 24:return null;case 25:return null}throw Error(Se(156,t.tag))}function bg(e,t){switch(yu(t),t.tag){case 1:return vn(t.type)&&Fa(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return _i(),Ct(gn),Ct(on),Cu(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return xu(t),null;case 13:if(Ct(Ot),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Se(340));Ci()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ct(Ot),null;case 4:return _i(),null;case 10:return Lu(t.type._context),null;case 22:case 23:return Bu(),null;case 24:return null;default:return null}}var la=!1,rn=!1,kg=typeof WeakSet=="function"?WeakSet:Set,Oe=null;function mi(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){Ft(e,t,i)}else n.current=null}function Hl(e,t,n){try{n()}catch(i){Ft(e,t,i)}}var ff=!1;function xg(e,t){if(kl=Ra,e=md(),vu(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var o=i.anchorOffset,l=i.focusNode;i=i.focusOffset;try{n.nodeType,l.nodeType}catch{n=null;break e}var a=0,v=-1,h=-1,T=0,P=0,I=e,A=null;t:for(;;){for(var x;I!==n||o!==0&&I.nodeType!==3||(v=a+o),I!==l||i!==0&&I.nodeType!==3||(h=a+i),I.nodeType===3&&(a+=I.nodeValue.length),(x=I.firstChild)!==null;)A=I,I=x;for(;;){if(I===e)break t;if(A===n&&++T===o&&(v=a),A===l&&++P===i&&(h=a),(x=I.nextSibling)!==null)break;I=A,A=I.parentNode}I=x}n=v===-1||h===-1?null:{start:v,end:h}}else n=null}n=n||{start:0,end:0}}else n=null;for(xl={focusedElem:e,selectionRange:n},Ra=!1,Oe=t;Oe!==null;)if(t=Oe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Oe=e;else for(;Oe!==null;){t=Oe;try{var _=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var b=_.memoizedProps,D=_.memoizedState,L=t.stateNode,S=L.getSnapshotBeforeUpdate(t.elementType===t.type?b:Hn(t.type,b),D);L.__reactInternalSnapshotBeforeUpdate=S}break;case 3:var c=t.stateNode.containerInfo;c.nodeType===1?c.textContent="":c.nodeType===9&&c.documentElement&&c.removeChild(c.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Se(163))}}catch(u){Ft(t,t.return,u)}if(e=t.sibling,e!==null){e.return=t.return,Oe=e;break}Oe=t.return}return _=ff,ff=!1,_}function uo(e,t,n){var i=t.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var o=i=i.next;do{if((o.tag&e)===e){var l=o.destroy;o.destroy=void 0,l!==void 0&&Hl(t,n,l)}o=o.next}while(o!==i)}}function os(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var i=n.create;n.destroy=i()}n=n.next}while(n!==t)}}function zl(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function ph(e){var t=e.alternate;t!==null&&(e.alternate=null,ph(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Xn],delete t[wo],delete t[_l],delete t[lg],delete t[ug])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function gh(e){return e.tag===5||e.tag===3||e.tag===4}function df(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||gh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Kl(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Ia));else if(i!==4&&(e=e.child,e!==null))for(Kl(e,t,n),e=e.sibling;e!==null;)Kl(e,t,n),e=e.sibling}function Vl(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(i!==4&&(e=e.child,e!==null))for(Vl(e,t,n),e=e.sibling;e!==null;)Vl(e,t,n),e=e.sibling}var Yt=null,zn=!1;function vr(e,t,n){for(n=n.child;n!==null;)vh(e,t,n),n=n.sibling}function vh(e,t,n){if(Qn&&typeof Qn.onCommitFiberUnmount=="function")try{Qn.onCommitFiberUnmount(Xa,n)}catch{}switch(n.tag){case 5:rn||mi(n,t);case 6:var i=Yt,o=zn;Yt=null,vr(e,t,n),Yt=i,zn=o,Yt!==null&&(zn?(e=Yt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Yt.removeChild(n.stateNode));break;case 18:Yt!==null&&(zn?(e=Yt,n=n.stateNode,e.nodeType===8?Ws(e.parentNode,n):e.nodeType===1&&Ws(e,n),yo(e)):Ws(Yt,n.stateNode));break;case 4:i=Yt,o=zn,Yt=n.stateNode.containerInfo,zn=!0,vr(e,t,n),Yt=i,zn=o;break;case 0:case 11:case 14:case 15:if(!rn&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){o=i=i.next;do{var l=o,a=l.destroy;l=l.tag,a!==void 0&&(l&2||l&4)&&Hl(n,t,a),o=o.next}while(o!==i)}vr(e,t,n);break;case 1:if(!rn&&(mi(n,t),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(v){Ft(n,t,v)}vr(e,t,n);break;case 21:vr(e,t,n);break;case 22:n.mode&1?(rn=(i=rn)||n.memoizedState!==null,vr(e,t,n),rn=i):vr(e,t,n);break;default:vr(e,t,n)}}function hf(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new kg),t.forEach(function(i){var o=Fg.bind(null,e,i);n.has(i)||(n.add(i),i.then(o,o))})}}function Gn(e,t){var n=t.deletions;if(n!==null)for(var i=0;i<n.length;i++){var o=n[i];try{var l=e,a=t,v=a;e:for(;v!==null;){switch(v.tag){case 5:Yt=v.stateNode,zn=!1;break e;case 3:Yt=v.stateNode.containerInfo,zn=!0;break e;case 4:Yt=v.stateNode.containerInfo,zn=!0;break e}v=v.return}if(Yt===null)throw Error(Se(160));vh(l,a,o),Yt=null,zn=!1;var h=o.alternate;h!==null&&(h.return=null),o.return=null}catch(T){Ft(o,t,T)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)mh(t,e),t=t.sibling}function mh(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Gn(t,e),Yn(e),i&4){try{uo(3,e,e.return),os(3,e)}catch(b){Ft(e,e.return,b)}try{uo(5,e,e.return)}catch(b){Ft(e,e.return,b)}}break;case 1:Gn(t,e),Yn(e),i&512&&n!==null&&mi(n,n.return);break;case 5:if(Gn(t,e),Yn(e),i&512&&n!==null&&mi(n,n.return),e.flags&32){var o=e.stateNode;try{po(o,"")}catch(b){Ft(e,e.return,b)}}if(i&4&&(o=e.stateNode,o!=null)){var l=e.memoizedProps,a=n!==null?n.memoizedProps:l,v=e.type,h=e.updateQueue;if(e.updateQueue=null,h!==null)try{v==="input"&&l.type==="radio"&&l.name!=null&&Bf(o,l),gl(v,a);var T=gl(v,l);for(a=0;a<h.length;a+=2){var P=h[a],I=h[a+1];P==="style"?zf(o,I):P==="dangerouslySetInnerHTML"?Gf(o,I):P==="children"?po(o,I):ru(o,P,I,T)}switch(v){case"input":cl(o,l);break;case"textarea":jf(o,l);break;case"select":var A=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!l.multiple;var x=l.value;x!=null?Ei(o,!!l.multiple,x,!1):A!==!!l.multiple&&(l.defaultValue!=null?Ei(o,!!l.multiple,l.defaultValue,!0):Ei(o,!!l.multiple,l.multiple?[]:"",!1))}o[wo]=l}catch(b){Ft(e,e.return,b)}}break;case 6:if(Gn(t,e),Yn(e),i&4){if(e.stateNode===null)throw Error(Se(162));o=e.stateNode,l=e.memoizedProps;try{o.nodeValue=l}catch(b){Ft(e,e.return,b)}}break;case 3:if(Gn(t,e),Yn(e),i&4&&n!==null&&n.memoizedState.isDehydrated)try{yo(t.containerInfo)}catch(b){Ft(e,e.return,b)}break;case 4:Gn(t,e),Yn(e);break;case 13:Gn(t,e),Yn(e),o=e.child,o.flags&8192&&(l=o.memoizedState!==null,o.stateNode.isHidden=l,!l||o.alternate!==null&&o.alternate.memoizedState!==null||(Mu=Mt())),i&4&&hf(e);break;case 22:if(P=n!==null&&n.memoizedState!==null,e.mode&1?(rn=(T=rn)||P,Gn(t,e),rn=T):Gn(t,e),Yn(e),i&8192){if(T=e.memoizedState!==null,(e.stateNode.isHidden=T)&&!P&&e.mode&1)for(Oe=e,P=e.child;P!==null;){for(I=Oe=P;Oe!==null;){switch(A=Oe,x=A.child,A.tag){case 0:case 11:case 14:case 15:uo(4,A,A.return);break;case 1:mi(A,A.return);var _=A.stateNode;if(typeof _.componentWillUnmount=="function"){i=A,n=A.return;try{t=i,_.props=t.memoizedProps,_.state=t.memoizedState,_.componentWillUnmount()}catch(b){Ft(i,n,b)}}break;case 5:mi(A,A.return);break;case 22:if(A.memoizedState!==null){gf(I);continue}}x!==null?(x.return=A,Oe=x):gf(I)}P=P.sibling}e:for(P=null,I=e;;){if(I.tag===5){if(P===null){P=I;try{o=I.stateNode,T?(l=o.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none"):(v=I.stateNode,h=I.memoizedProps.style,a=h!=null&&h.hasOwnProperty("display")?h.display:null,v.style.display=Hf("display",a))}catch(b){Ft(e,e.return,b)}}}else if(I.tag===6){if(P===null)try{I.stateNode.nodeValue=T?"":I.memoizedProps}catch(b){Ft(e,e.return,b)}}else if((I.tag!==22&&I.tag!==23||I.memoizedState===null||I===e)&&I.child!==null){I.child.return=I,I=I.child;continue}if(I===e)break e;for(;I.sibling===null;){if(I.return===null||I.return===e)break e;P===I&&(P=null),I=I.return}P===I&&(P=null),I.sibling.return=I.return,I=I.sibling}}break;case 19:Gn(t,e),Yn(e),i&4&&hf(e);break;case 21:break;default:Gn(t,e),Yn(e)}}function Yn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(gh(n)){var i=n;break e}n=n.return}throw Error(Se(160))}switch(i.tag){case 5:var o=i.stateNode;i.flags&32&&(po(o,""),i.flags&=-33);var l=df(e);Vl(e,l,o);break;case 3:case 4:var a=i.stateNode.containerInfo,v=df(e);Kl(e,v,a);break;default:throw Error(Se(161))}}catch(h){Ft(e,e.return,h)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Cg(e,t,n){Oe=e,yh(e)}function yh(e,t,n){for(var i=(e.mode&1)!==0;Oe!==null;){var o=Oe,l=o.child;if(o.tag===22&&i){var a=o.memoizedState!==null||la;if(!a){var v=o.alternate,h=v!==null&&v.memoizedState!==null||rn;v=la;var T=rn;if(la=a,(rn=h)&&!T)for(Oe=o;Oe!==null;)a=Oe,h=a.child,a.tag===22&&a.memoizedState!==null?vf(o):h!==null?(h.return=a,Oe=h):vf(o);for(;l!==null;)Oe=l,yh(l),l=l.sibling;Oe=o,la=v,rn=T}pf(e)}else o.subtreeFlags&8772&&l!==null?(l.return=o,Oe=l):pf(e)}}function pf(e){for(;Oe!==null;){var t=Oe;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:rn||os(5,t);break;case 1:var i=t.stateNode;if(t.flags&4&&!rn)if(n===null)i.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:Hn(t.type,n.memoizedProps);i.componentDidUpdate(o,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var l=t.updateQueue;l!==null&&$c(t,l,i);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}$c(t,a,n)}break;case 5:var v=t.stateNode;if(n===null&&t.flags&4){n=v;var h=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":h.autoFocus&&n.focus();break;case"img":h.src&&(n.src=h.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var T=t.alternate;if(T!==null){var P=T.memoizedState;if(P!==null){var I=P.dehydrated;I!==null&&yo(I)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Se(163))}rn||t.flags&512&&zl(t)}catch(A){Ft(t,t.return,A)}}if(t===e){Oe=null;break}if(n=t.sibling,n!==null){n.return=t.return,Oe=n;break}Oe=t.return}}function gf(e){for(;Oe!==null;){var t=Oe;if(t===e){Oe=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Oe=n;break}Oe=t.return}}function vf(e){for(;Oe!==null;){var t=Oe;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{os(4,t)}catch(h){Ft(t,n,h)}break;case 1:var i=t.stateNode;if(typeof i.componentDidMount=="function"){var o=t.return;try{i.componentDidMount()}catch(h){Ft(t,o,h)}}var l=t.return;try{zl(t)}catch(h){Ft(t,l,h)}break;case 5:var a=t.return;try{zl(t)}catch(h){Ft(t,a,h)}}}catch(h){Ft(t,t.return,h)}if(t===e){Oe=null;break}var v=t.sibling;if(v!==null){v.return=t.return,Oe=v;break}Oe=t.return}}var Ag=Math.ceil,Va=dr.ReactCurrentDispatcher,Iu=dr.ReactCurrentOwner,Mn=dr.ReactCurrentBatchConfig,dt=0,Jt=null,Bt=null,$t=0,bn=0,yi=Ir(0),Vt=0,_o=null,ei=0,as=0,Fu=0,co=null,hn=null,Mu=0,Ri=1/0,nr=null,Wa=!1,Wl=null,Ar=null,ua=!1,Lr=null,qa=0,fo=0,ql=null,Ta=-1,Sa=0;function sn(){return dt&6?Mt():Ta!==-1?Ta:Ta=Mt()}function _r(e){return e.mode&1?dt&2&&$t!==0?$t&-$t:fg.transition!==null?(Sa===0&&(Sa=td()),Sa):(e=mt,e!==0||(e=window.event,e=e===void 0?16:ld(e.type)),e):1}function Wn(e,t,n,i){if(50<fo)throw fo=0,ql=null,Error(Se(185));Ro(e,n,i),(!(dt&2)||e!==Jt)&&(e===Jt&&(!(dt&2)&&(as|=n),Vt===4&&Tr(e,$t)),mn(e,i),n===1&&dt===0&&!(t.mode&1)&&(Ri=Mt()+500,ns&&Fr()))}function mn(e,t){var n=e.callbackNode;f0(e,t);var i=Da(e,e===Jt?$t:0);if(i===0)n!==null&&bc(n),e.callbackNode=null,e.callbackPriority=0;else if(t=i&-i,e.callbackPriority!==t){if(n!=null&&bc(n),t===1)e.tag===0?cg(mf.bind(null,e)):Cd(mf.bind(null,e)),ag(function(){!(dt&6)&&Fr()}),n=null;else{switch(nd(i)){case 1:n=lu;break;case 4:n=Zf;break;case 16:n=_a;break;case 536870912:n=ed;break;default:n=_a}n=xh(n,Eh.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Eh(e,t){if(Ta=-1,Sa=0,dt&6)throw Error(Se(327));var n=e.callbackNode;if(bi()&&e.callbackNode!==n)return null;var i=Da(e,e===Jt?$t:0);if(i===0)return null;if(i&30||i&e.expiredLanes||t)t=Ja(e,i);else{t=i;var o=dt;dt|=2;var l=Sh();(Jt!==e||$t!==t)&&(nr=null,Ri=Mt()+500,Yr(e,t));do try{Rg();break}catch(v){Th(e,v)}while(1);Su(),Va.current=l,dt=o,Bt!==null?t=0:(Jt=null,$t=0,t=Vt)}if(t!==0){if(t===2&&(o=Tl(e),o!==0&&(i=o,t=Jl(e,o))),t===1)throw n=_o,Yr(e,0),Tr(e,i),mn(e,Mt()),n;if(t===6)Tr(e,i);else{if(o=e.current.alternate,!(i&30)&&!_g(o)&&(t=Ja(e,i),t===2&&(l=Tl(e),l!==0&&(i=l,t=Jl(e,l))),t===1))throw n=_o,Yr(e,0),Tr(e,i),mn(e,Mt()),n;switch(e.finishedWork=o,e.finishedLanes=i,t){case 0:case 1:throw Error(Se(345));case 2:Vr(e,hn,nr);break;case 3:if(Tr(e,i),(i&130023424)===i&&(t=Mu+500-Mt(),10<t)){if(Da(e,0)!==0)break;if(o=e.suspendedLanes,(o&i)!==i){sn(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=Al(Vr.bind(null,e,hn,nr),t);break}Vr(e,hn,nr);break;case 4:if(Tr(e,i),(i&4194240)===i)break;for(t=e.eventTimes,o=-1;0<i;){var a=31-Vn(i);l=1<<a,a=t[a],a>o&&(o=a),i&=~l}if(i=o,i=Mt()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*Ag(i/1960))-i,10<i){e.timeoutHandle=Al(Vr.bind(null,e,hn,nr),i);break}Vr(e,hn,nr);break;case 5:Vr(e,hn,nr);break;default:throw Error(Se(329))}}}return mn(e,Mt()),e.callbackNode===n?Eh.bind(null,e):null}function Jl(e,t){var n=co;return e.current.memoizedState.isDehydrated&&(Yr(e,t).flags|=256),e=Ja(e,t),e!==2&&(t=hn,hn=n,t!==null&&Yl(t)),e}function Yl(e){hn===null?hn=e:hn.push.apply(hn,e)}function _g(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var o=n[i],l=o.getSnapshot;o=o.value;try{if(!qn(l(),o))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Tr(e,t){for(t&=~Fu,t&=~as,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Vn(t),i=1<<n;e[n]=-1,t&=~i}}function mf(e){if(dt&6)throw Error(Se(327));bi();var t=Da(e,0);if(!(t&1))return mn(e,Mt()),null;var n=Ja(e,t);if(e.tag!==0&&n===2){var i=Tl(e);i!==0&&(t=i,n=Jl(e,i))}if(n===1)throw n=_o,Yr(e,0),Tr(e,t),mn(e,Mt()),n;if(n===6)throw Error(Se(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Vr(e,hn,nr),mn(e,Mt()),null}function Nu(e,t){var n=dt;dt|=1;try{return e(t)}finally{dt=n,dt===0&&(Ri=Mt()+500,ns&&Fr())}}function ti(e){Lr!==null&&Lr.tag===0&&!(dt&6)&&bi();var t=dt;dt|=1;var n=Mn.transition,i=mt;try{if(Mn.transition=null,mt=1,e)return e()}finally{mt=i,Mn.transition=n,dt=t,!(dt&6)&&Fr()}}function Bu(){bn=yi.current,Ct(yi)}function Yr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,og(n)),Bt!==null)for(n=Bt.return;n!==null;){var i=n;switch(yu(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&Fa();break;case 3:_i(),Ct(gn),Ct(on),Cu();break;case 5:xu(i);break;case 4:_i();break;case 13:Ct(Ot);break;case 19:Ct(Ot);break;case 10:Lu(i.type._context);break;case 22:case 23:Bu()}n=n.return}if(Jt=e,Bt=e=Dr(e.current,null),$t=bn=t,Vt=0,_o=null,Fu=as=ei=0,hn=co=null,qr!==null){for(t=0;t<qr.length;t++)if(n=qr[t],i=n.interleaved,i!==null){n.interleaved=null;var o=i.next,l=n.pending;if(l!==null){var a=l.next;l.next=o,i.next=a}n.pending=i}qr=null}return e}function Th(e,t){do{var n=Bt;try{if(Su(),ma.current=Ka,za){for(var i=Pt.memoizedState;i!==null;){var o=i.queue;o!==null&&(o.pending=null),i=i.next}za=!1}if(Zr=0,qt=Kt=Pt=null,lo=!1,xo=0,Iu.current=null,n===null||n.return===null){Vt=1,_o=t,Bt=null;break}e:{var l=e,a=n.return,v=n,h=t;if(t=$t,v.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){var T=h,P=v,I=P.tag;if(!(P.mode&1)&&(I===0||I===11||I===15)){var A=P.alternate;A?(P.updateQueue=A.updateQueue,P.memoizedState=A.memoizedState,P.lanes=A.lanes):(P.updateQueue=null,P.memoizedState=null)}var x=rf(a);if(x!==null){x.flags&=-257,of(x,a,v,l,t),x.mode&1&&nf(l,T,t),t=x,h=T;var _=t.updateQueue;if(_===null){var b=new Set;b.add(h),t.updateQueue=b}else _.add(h);break e}else{if(!(t&1)){nf(l,T,t),ju();break e}h=Error(Se(426))}}else if(Dt&&v.mode&1){var D=rf(a);if(D!==null){!(D.flags&65536)&&(D.flags|=256),of(D,a,v,l,t),Eu(Di(h,v));break e}}l=h=Di(h,v),Vt!==4&&(Vt=2),co===null?co=[l]:co.push(l),l=a;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t;var L=rh(l,h,t);Yc(l,L);break e;case 1:v=h;var S=l.type,c=l.stateNode;if(!(l.flags&128)&&(typeof S.getDerivedStateFromError=="function"||c!==null&&typeof c.componentDidCatch=="function"&&(Ar===null||!Ar.has(c)))){l.flags|=65536,t&=-t,l.lanes|=t;var u=ih(l,v,t);Yc(l,u);break e}}l=l.return}while(l!==null)}wh(n)}catch(f){t=f,Bt===n&&n!==null&&(Bt=n=n.return);continue}break}while(1)}function Sh(){var e=Va.current;return Va.current=Ka,e===null?Ka:e}function ju(){(Vt===0||Vt===3||Vt===2)&&(Vt=4),Jt===null||!(ei&268435455)&&!(as&268435455)||Tr(Jt,$t)}function Ja(e,t){var n=dt;dt|=2;var i=Sh();(Jt!==e||$t!==t)&&(nr=null,Yr(e,t));do try{Dg();break}catch(o){Th(e,o)}while(1);if(Su(),dt=n,Va.current=i,Bt!==null)throw Error(Se(261));return Jt=null,$t=0,Vt}function Dg(){for(;Bt!==null;)Lh(Bt)}function Rg(){for(;Bt!==null&&!n0();)Lh(Bt)}function Lh(e){var t=kh(e.alternate,e,bn);e.memoizedProps=e.pendingProps,t===null?wh(e):Bt=t,Iu.current=null}function wh(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=bg(n,t),n!==null){n.flags&=32767,Bt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Vt=6,Bt=null;return}}else if(n=wg(n,t,bn),n!==null){Bt=n;return}if(t=t.sibling,t!==null){Bt=t;return}Bt=t=e}while(t!==null);Vt===0&&(Vt=5)}function Vr(e,t,n){var i=mt,o=Mn.transition;try{Mn.transition=null,mt=1,Og(e,t,n,i)}finally{Mn.transition=o,mt=i}return null}function Og(e,t,n,i){do bi();while(Lr!==null);if(dt&6)throw Error(Se(327));n=e.finishedWork;var o=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(Se(177));e.callbackNode=null,e.callbackPriority=0;var l=n.lanes|n.childLanes;if(d0(e,l),e===Jt&&(Bt=Jt=null,$t=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ua||(ua=!0,xh(_a,function(){return bi(),null})),l=(n.flags&15990)!==0,n.subtreeFlags&15990||l){l=Mn.transition,Mn.transition=null;var a=mt;mt=1;var v=dt;dt|=4,Iu.current=null,xg(e,n),mh(n,e),Q0(xl),Ra=!!kl,xl=kl=null,e.current=n,Cg(n),r0(),dt=v,mt=a,Mn.transition=l}else e.current=n;if(ua&&(ua=!1,Lr=e,qa=o),l=e.pendingLanes,l===0&&(Ar=null),a0(n.stateNode),mn(e,Mt()),t!==null)for(i=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],i(o.value,{componentStack:o.stack,digest:o.digest});if(Wa)throw Wa=!1,e=Wl,Wl=null,e;return qa&1&&e.tag!==0&&bi(),l=e.pendingLanes,l&1?e===ql?fo++:(fo=0,ql=e):fo=0,Fr(),null}function bi(){if(Lr!==null){var e=nd(qa),t=Mn.transition,n=mt;try{if(Mn.transition=null,mt=16>e?16:e,Lr===null)var i=!1;else{if(e=Lr,Lr=null,qa=0,dt&6)throw Error(Se(331));var o=dt;for(dt|=4,Oe=e.current;Oe!==null;){var l=Oe,a=l.child;if(Oe.flags&16){var v=l.deletions;if(v!==null){for(var h=0;h<v.length;h++){var T=v[h];for(Oe=T;Oe!==null;){var P=Oe;switch(P.tag){case 0:case 11:case 15:uo(8,P,l)}var I=P.child;if(I!==null)I.return=P,Oe=I;else for(;Oe!==null;){P=Oe;var A=P.sibling,x=P.return;if(ph(P),P===T){Oe=null;break}if(A!==null){A.return=x,Oe=A;break}Oe=x}}}var _=l.alternate;if(_!==null){var b=_.child;if(b!==null){_.child=null;do{var D=b.sibling;b.sibling=null,b=D}while(b!==null)}}Oe=l}}if(l.subtreeFlags&2064&&a!==null)a.return=l,Oe=a;else e:for(;Oe!==null;){if(l=Oe,l.flags&2048)switch(l.tag){case 0:case 11:case 15:uo(9,l,l.return)}var L=l.sibling;if(L!==null){L.return=l.return,Oe=L;break e}Oe=l.return}}var S=e.current;for(Oe=S;Oe!==null;){a=Oe;var c=a.child;if(a.subtreeFlags&2064&&c!==null)c.return=a,Oe=c;else e:for(a=S;Oe!==null;){if(v=Oe,v.flags&2048)try{switch(v.tag){case 0:case 11:case 15:os(9,v)}}catch(f){Ft(v,v.return,f)}if(v===a){Oe=null;break e}var u=v.sibling;if(u!==null){u.return=v.return,Oe=u;break e}Oe=v.return}}if(dt=o,Fr(),Qn&&typeof Qn.onPostCommitFiberRoot=="function")try{Qn.onPostCommitFiberRoot(Xa,e)}catch{}i=!0}return i}finally{mt=n,Mn.transition=t}}return!1}function yf(e,t,n){t=Di(n,t),t=rh(e,t,1),e=Cr(e,t,1),t=sn(),e!==null&&(Ro(e,1,t),mn(e,t))}function Ft(e,t,n){if(e.tag===3)yf(e,e,n);else for(;t!==null;){if(t.tag===3){yf(t,e,n);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Ar===null||!Ar.has(i))){e=Di(n,e),e=ih(t,e,1),t=Cr(t,e,1),e=sn(),t!==null&&(Ro(t,1,e),mn(t,e));break}}t=t.return}}function Pg(e,t,n){var i=e.pingCache;i!==null&&i.delete(t),t=sn(),e.pingedLanes|=e.suspendedLanes&n,Jt===e&&($t&n)===n&&(Vt===4||Vt===3&&($t&130023424)===$t&&500>Mt()-Mu?Yr(e,0):Fu|=n),mn(e,t)}function bh(e,t){t===0&&(e.mode&1?(t=Zo,Zo<<=1,!(Zo&130023424)&&(Zo=4194304)):t=1);var n=sn();e=cr(e,t),e!==null&&(Ro(e,t,n),mn(e,n))}function Ig(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),bh(e,n)}function Fg(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(Se(314))}i!==null&&i.delete(t),bh(e,n)}var kh;kh=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||gn.current)pn=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return pn=!1,Lg(e,t,n);pn=!!(e.flags&131072)}else pn=!1,Dt&&t.flags&1048576&&Ad(t,Ba,t.index);switch(t.lanes=0,t.tag){case 2:var i=t.type;Ea(e,t),e=t.pendingProps;var o=xi(t,on.current);wi(t,n),o=_u(null,t,i,e,o,n);var l=Du();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,vn(i)?(l=!0,Ma(t)):l=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,bu(t),o.updater=rs,t.stateNode=o,o._reactInternals=t,Fl(t,i,e,n),t=Bl(null,t,i,!0,l,n)):(t.tag=0,Dt&&l&&mu(t),an(null,t,o,n),t=t.child),t;case 16:i=t.elementType;e:{switch(Ea(e,t),e=t.pendingProps,o=i._init,i=o(i._payload),t.type=i,o=t.tag=Ng(i),e=Hn(i,e),o){case 0:t=Nl(null,t,i,e,n);break e;case 1:t=lf(null,t,i,e,n);break e;case 11:t=af(null,t,i,e,n);break e;case 14:t=sf(null,t,i,Hn(i.type,e),n);break e}throw Error(Se(306,i,""))}return t;case 0:return i=t.type,o=t.pendingProps,o=t.elementType===i?o:Hn(i,o),Nl(e,t,i,o,n);case 1:return i=t.type,o=t.pendingProps,o=t.elementType===i?o:Hn(i,o),lf(e,t,i,o,n);case 3:e:{if(lh(t),e===null)throw Error(Se(387));i=t.pendingProps,l=t.memoizedState,o=l.element,Od(e,t),Ga(t,i,null,n);var a=t.memoizedState;if(i=a.element,l.isDehydrated)if(l={element:i,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=l,t.memoizedState=l,t.flags&256){o=Di(Error(Se(423)),t),t=uf(e,t,i,n,o);break e}else if(i!==o){o=Di(Error(Se(424)),t),t=uf(e,t,i,n,o);break e}else for(kn=xr(t.stateNode.containerInfo.firstChild),xn=t,Dt=!0,Kn=null,n=Md(t,null,i,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ci(),i===o){t=fr(e,t,n);break e}an(e,t,i,n)}t=t.child}return t;case 5:return Nd(t),e===null&&Ol(t),i=t.type,o=t.pendingProps,l=e!==null?e.memoizedProps:null,a=o.children,Cl(i,o)?a=null:l!==null&&Cl(i,l)&&(t.flags|=32),sh(e,t),an(e,t,a,n),t.child;case 6:return e===null&&Ol(t),null;case 13:return uh(e,t,n);case 4:return ku(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=Ai(t,null,i,n):an(e,t,i,n),t.child;case 11:return i=t.type,o=t.pendingProps,o=t.elementType===i?o:Hn(i,o),af(e,t,i,o,n);case 7:return an(e,t,t.pendingProps,n),t.child;case 8:return an(e,t,t.pendingProps.children,n),t.child;case 12:return an(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(i=t.type._context,o=t.pendingProps,l=t.memoizedProps,a=o.value,wt(ja,i._currentValue),i._currentValue=a,l!==null)if(qn(l.value,a)){if(l.children===o.children&&!gn.current){t=fr(e,t,n);break e}}else for(l=t.child,l!==null&&(l.return=t);l!==null;){var v=l.dependencies;if(v!==null){a=l.child;for(var h=v.firstContext;h!==null;){if(h.context===i){if(l.tag===1){h=sr(-1,n&-n),h.tag=2;var T=l.updateQueue;if(T!==null){T=T.shared;var P=T.pending;P===null?h.next=h:(h.next=P.next,P.next=h),T.pending=h}}l.lanes|=n,h=l.alternate,h!==null&&(h.lanes|=n),Pl(l.return,n,t),v.lanes|=n;break}h=h.next}}else if(l.tag===10)a=l.type===t.type?null:l.child;else if(l.tag===18){if(a=l.return,a===null)throw Error(Se(341));a.lanes|=n,v=a.alternate,v!==null&&(v.lanes|=n),Pl(a,n,t),a=l.sibling}else a=l.child;if(a!==null)a.return=l;else for(a=l;a!==null;){if(a===t){a=null;break}if(l=a.sibling,l!==null){l.return=a.return,a=l;break}a=a.return}l=a}an(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,i=t.pendingProps.children,wi(t,n),o=Nn(o),i=i(o),t.flags|=1,an(e,t,i,n),t.child;case 14:return i=t.type,o=Hn(i,t.pendingProps),o=Hn(i.type,o),sf(e,t,i,o,n);case 15:return oh(e,t,t.type,t.pendingProps,n);case 17:return i=t.type,o=t.pendingProps,o=t.elementType===i?o:Hn(i,o),Ea(e,t),t.tag=1,vn(i)?(e=!0,Ma(t)):e=!1,wi(t,n),Id(t,i,o),Fl(t,i,o,n),Bl(null,t,i,!0,e,n);case 19:return ch(e,t,n);case 22:return ah(e,t,n)}throw Error(Se(156,t.tag))};function xh(e,t){return Qf(e,t)}function Mg(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fn(e,t,n,i){return new Mg(e,t,n,i)}function Uu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ng(e){if(typeof e=="function")return Uu(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ou)return 11;if(e===au)return 14}return 2}function Dr(e,t){var n=e.alternate;return n===null?(n=Fn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function La(e,t,n,i,o,l){var a=2;if(i=e,typeof e=="function")Uu(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case li:return $r(n.children,o,l,t);case iu:a=8,o|=8;break;case ol:return e=Fn(12,n,t,o|2),e.elementType=ol,e.lanes=l,e;case al:return e=Fn(13,n,t,o),e.elementType=al,e.lanes=l,e;case sl:return e=Fn(19,n,t,o),e.elementType=sl,e.lanes=l,e;case Ff:return ss(n,o,l,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Pf:a=10;break e;case If:a=9;break e;case ou:a=11;break e;case au:a=14;break e;case mr:a=16,i=null;break e}throw Error(Se(130,e==null?e:typeof e,""))}return t=Fn(a,n,t,o),t.elementType=e,t.type=i,t.lanes=l,t}function $r(e,t,n,i){return e=Fn(7,e,i,t),e.lanes=n,e}function ss(e,t,n,i){return e=Fn(22,e,i,t),e.elementType=Ff,e.lanes=n,e.stateNode={isHidden:!1},e}function el(e,t,n){return e=Fn(6,e,null,t),e.lanes=n,e}function tl(e,t,n){return t=Fn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Bg(e,t,n,i,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Fs(0),this.expirationTimes=Fs(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fs(0),this.identifierPrefix=i,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function Gu(e,t,n,i,o,l,a,v,h){return e=new Bg(e,t,n,v,h),t===1?(t=1,l===!0&&(t|=8)):t=0,l=Fn(3,null,null,t),e.current=l,l.stateNode=e,l.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},bu(l),e}function jg(e,t,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:si,key:i==null?null:""+i,children:e,containerInfo:t,implementation:n}}function Ch(e){if(!e)return Or;e=e._reactInternals;e:{if(ri(e)!==e||e.tag!==1)throw Error(Se(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(vn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Se(171))}if(e.tag===1){var n=e.type;if(vn(n))return xd(e,n,t)}return t}function Ah(e,t,n,i,o,l,a,v,h){return e=Gu(n,i,!0,e,o,l,a,v,h),e.context=Ch(null),n=e.current,i=sn(),o=_r(n),l=sr(i,o),l.callback=t??null,Cr(n,l,o),e.current.lanes=o,Ro(e,o,i),mn(e,i),e}function ls(e,t,n,i){var o=t.current,l=sn(),a=_r(o);return n=Ch(n),t.context===null?t.context=n:t.pendingContext=n,t=sr(l,a),t.payload={element:e},i=i===void 0?null:i,i!==null&&(t.callback=i),e=Cr(o,t,a),e!==null&&(Wn(e,o,a,l),va(e,o,a)),a}function Ya(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Ef(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Hu(e,t){Ef(e,t),(e=e.alternate)&&Ef(e,t)}function Ug(){return null}var _h=typeof reportError=="function"?reportError:function(e){console.error(e)};function zu(e){this._internalRoot=e}us.prototype.render=zu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Se(409));ls(e,t,null,null)};us.prototype.unmount=zu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ti(function(){ls(null,e,null,null)}),t[ur]=null}};function us(e){this._internalRoot=e}us.prototype.unstable_scheduleHydration=function(e){if(e){var t=od();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Er.length&&t!==0&&t<Er[n].priority;n++);Er.splice(n,0,e),n===0&&sd(e)}};function Ku(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function cs(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Tf(){}function Gg(e,t,n,i,o){if(o){if(typeof i=="function"){var l=i;i=function(){var T=Ya(a);l.call(T)}}var a=Ah(t,i,e,0,null,!1,!1,"",Tf);return e._reactRootContainer=a,e[ur]=a.current,So(e.nodeType===8?e.parentNode:e),ti(),a}for(;o=e.lastChild;)e.removeChild(o);if(typeof i=="function"){var v=i;i=function(){var T=Ya(h);v.call(T)}}var h=Gu(e,0,!1,null,null,!1,!1,"",Tf);return e._reactRootContainer=h,e[ur]=h.current,So(e.nodeType===8?e.parentNode:e),ti(function(){ls(t,h,n,i)}),h}function fs(e,t,n,i,o){var l=n._reactRootContainer;if(l){var a=l;if(typeof o=="function"){var v=o;o=function(){var h=Ya(a);v.call(h)}}ls(t,a,e,o)}else a=Gg(n,t,e,o,i);return Ya(a)}rd=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=to(t.pendingLanes);n!==0&&(uu(t,n|1),mn(t,Mt()),!(dt&6)&&(Ri=Mt()+500,Fr()))}break;case 13:ti(function(){var i=cr(e,1);if(i!==null){var o=sn();Wn(i,e,1,o)}}),Hu(e,1)}};cu=function(e){if(e.tag===13){var t=cr(e,134217728);if(t!==null){var n=sn();Wn(t,e,134217728,n)}Hu(e,134217728)}};id=function(e){if(e.tag===13){var t=_r(e),n=cr(e,t);if(n!==null){var i=sn();Wn(n,e,t,i)}Hu(e,t)}};od=function(){return mt};ad=function(e,t){var n=mt;try{return mt=e,t()}finally{mt=n}};ml=function(e,t,n){switch(t){case"input":if(cl(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var o=ts(i);if(!o)throw Error(Se(90));Nf(i),cl(i,o)}}}break;case"textarea":jf(e,n);break;case"select":t=n.value,t!=null&&Ei(e,!!n.multiple,t,!1)}};Wf=Nu;qf=ti;var Hg={usingClientEntryPoint:!1,Events:[Po,di,ts,Kf,Vf,Nu]},Qi={findFiberByHostInstance:Wr,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},zg={bundleType:Qi.bundleType,version:Qi.version,rendererPackageName:Qi.rendererPackageName,rendererConfig:Qi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:dr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=$f(e),e===null?null:e.stateNode},findFiberByHostInstance:Qi.findFiberByHostInstance||Ug,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ca=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ca.isDisabled&&ca.supportsFiber)try{Xa=ca.inject(zg),Qn=ca}catch{}}An.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Hg;An.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ku(t))throw Error(Se(200));return jg(e,t,null,n)};An.createRoot=function(e,t){if(!Ku(e))throw Error(Se(299));var n=!1,i="",o=_h;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=Gu(e,1,!1,null,null,n,!1,i,o),e[ur]=t.current,So(e.nodeType===8?e.parentNode:e),new zu(t)};An.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Se(188)):(e=Object.keys(e).join(","),Error(Se(268,e)));return e=$f(t),e=e===null?null:e.stateNode,e};An.flushSync=function(e){return ti(e)};An.hydrate=function(e,t,n){if(!cs(t))throw Error(Se(200));return fs(null,e,t,!0,n)};An.hydrateRoot=function(e,t,n){if(!Ku(e))throw Error(Se(405));var i=n!=null&&n.hydratedSources||null,o=!1,l="",a=_h;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=Ah(t,null,e,1,n??null,o,!1,l,a),e[ur]=t.current,So(e),i)for(e=0;e<i.length;e++)n=i[e],o=n._getVersion,o=o(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new us(t)};An.render=function(e,t,n){if(!cs(t))throw Error(Se(200));return fs(null,e,t,!1,n)};An.unmountComponentAtNode=function(e){if(!cs(e))throw Error(Se(40));return e._reactRootContainer?(ti(function(){fs(null,null,e,!1,function(){e._reactRootContainer=null,e[ur]=null})}),!0):!1};An.unstable_batchedUpdates=Nu;An.unstable_renderSubtreeIntoContainer=function(e,t,n,i){if(!cs(n))throw Error(Se(200));if(e==null||e._reactInternals===void 0)throw Error(Se(38));return fs(e,t,n,!1,i)};An.version="18.2.0-next-9e3b772b8-20220608";(function(e){function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(n){console.error(n)}}t(),e.exports=An})(Up);var Sf=ka;nl.createRoot=Sf.createRoot,nl.hydrateRoot=Sf.hydrateRoot;var Kg=function(e){var t={};function n(i){if(t[i])return t[i].exports;var o=t[i]={i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(i,o,l){n.o(i,o)||Object.defineProperty(i,o,{enumerable:!0,get:l})},n.r=function(i){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},n.t=function(i,o){if(1&o&&(i=n(i)),8&o||4&o&&typeof i=="object"&&i&&i.__esModule)return i;var l=Object.create(null);if(n.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:i}),2&o&&typeof i!="string")for(var a in i)n.d(l,a,function(v){return i[v]}.bind(null,a));return l},n.n=function(i){var o=i&&i.__esModule?function(){return i.default}:function(){return i};return n.d(o,"a",o),o},n.o=function(i,o){return Object.prototype.hasOwnProperty.call(i,o)},n.p="",n(n.s=111)}([function(e,t){e.exports=ar},function(e,t,n){(function(i){var o;o=function(){var l=function(x){var _=x.id,b=x.viewBox,D=x.content;this.id=_,this.viewBox=b,this.content=D};function a(x,_){return x(_={exports:{}},_.exports),_.exports}l.prototype.stringify=function(){return this.content},l.prototype.toString=function(){return this.stringify()},l.prototype.destroy=function(){var x=this;["id","viewBox","content"].forEach(function(_){return delete x[_]})};var v=a(function(x,_){x.exports=function(){function b(c){return c&&typeof c=="object"&&Object.prototype.toString.call(c)!=="[object RegExp]"&&Object.prototype.toString.call(c)!=="[object Date]"}function D(c,u){var f;return u&&u.clone===!0&&b(c)?S((f=c,Array.isArray(f)?[]:{}),c,u):c}function L(c,u,f){var r=c.slice();return u.forEach(function(p,C){r[C]===void 0?r[C]=D(p,f):b(p)?r[C]=S(c[C],p,f):c.indexOf(p)===-1&&r.push(D(p,f))}),r}function S(c,u,f){var r=Array.isArray(u),p=(f||{arrayMerge:L}).arrayMerge||L;return r?Array.isArray(c)?p(c,u,f):D(u,f):function(C,g,m){var k={};return b(C)&&Object.keys(C).forEach(function(d){k[d]=D(C[d],m)}),Object.keys(g).forEach(function(d){b(g[d])&&C[d]?k[d]=S(C[d],g[d],m):k[d]=D(g[d],m)}),k}(c,u,f)}return S.all=function(c,u){if(!Array.isArray(c)||c.length<2)throw new Error("first argument should be an array with at least two elements");return c.reduce(function(f,r){return S(f,r,u)})},S}()}),h=a(function(x,_){_.default={svg:{name:"xmlns",uri:"http://www.w3.org/2000/svg"},xlink:{name:"xmlns:xlink",uri:"http://www.w3.org/1999/xlink"}},x.exports=_.default}),T=h.svg,P=h.xlink,I={};I[T.name]=T.uri,I[P.name]=P.uri;var A=function(x,_){return x===void 0&&(x=""),"<svg "+function(b){return Object.keys(b).map(function(D){return D+'="'+b[D].toString().replace(/"/g,"&quot;")+'"'}).join(" ")}(v(I,_||{}))+">"+x+"</svg>"};return function(x){function _(){x.apply(this,arguments)}x&&(_.__proto__=x),_.prototype=Object.create(x&&x.prototype),_.prototype.constructor=_;var b={isMounted:{}};return b.isMounted.get=function(){return!!this.node},_.createFromExistingNode=function(D){return new _({id:D.getAttribute("id"),viewBox:D.getAttribute("viewBox"),content:D.outerHTML})},_.prototype.destroy=function(){this.isMounted&&this.unmount(),x.prototype.destroy.call(this)},_.prototype.mount=function(D){if(this.isMounted)return this.node;var L=typeof D=="string"?document.querySelector(D):D,S=this.render();return this.node=S,L.appendChild(S),S},_.prototype.render=function(){var D=this.stringify();return function(L){var S=!!document.importNode,c=new DOMParser().parseFromString(L,"image/svg+xml").documentElement;return S?document.importNode(c,!0):c}(A(D)).childNodes[0]},_.prototype.unmount=function(){this.node.parentNode.removeChild(this.node)},Object.defineProperties(_.prototype,b),_}(l)},e.exports=o()}).call(this,n(48))},function(e,t,n){(function(i){var o;o=function(){function l(W,J){return W(J={exports:{}},J.exports),J.exports}var a=l(function(W,J){W.exports=function(){function Z(fe){return fe&&typeof fe=="object"&&Object.prototype.toString.call(fe)!=="[object RegExp]"&&Object.prototype.toString.call(fe)!=="[object Date]"}function ee(fe,ve){var be;return ve&&ve.clone===!0&&Z(fe)?ue((be=fe,Array.isArray(be)?[]:{}),fe,ve):fe}function le(fe,ve,be){var we=fe.slice();return ve.forEach(function(_e,Pe){we[Pe]===void 0?we[Pe]=ee(_e,be):Z(_e)?we[Pe]=ue(fe[Pe],_e,be):fe.indexOf(_e)===-1&&we.push(ee(_e,be))}),we}function ue(fe,ve,be){var we=Array.isArray(ve),_e=(be||{arrayMerge:le}).arrayMerge||le;return we?Array.isArray(fe)?_e(fe,ve,be):ee(ve,be):function(Pe,Le,Be){var ut={};return Z(Pe)&&Object.keys(Pe).forEach(function(Ue){ut[Ue]=ee(Pe[Ue],Be)}),Object.keys(Le).forEach(function(Ue){Z(Le[Ue])&&Pe[Ue]?ut[Ue]=ue(Pe[Ue],Le[Ue],Be):ut[Ue]=ee(Le[Ue],Be)}),ut}(fe,ve,be)}return ue.all=function(fe,ve){if(!Array.isArray(fe)||fe.length<2)throw new Error("first argument should be an array with at least two elements");return fe.reduce(function(be,we){return ue(be,we,ve)})},ue}()}),v=l(function(W,J){J.default={svg:{name:"xmlns",uri:"http://www.w3.org/2000/svg"},xlink:{name:"xmlns:xlink",uri:"http://www.w3.org/1999/xlink"}},W.exports=J.default}),h=v.svg,T=v.xlink,P={};P[h.name]=h.uri,P[T.name]=T.uri;var I,A=function(W,J){return W===void 0&&(W=""),"<svg "+function(Z){return Object.keys(Z).map(function(ee){return ee+'="'+Z[ee].toString().replace(/"/g,"&quot;")+'"'}).join(" ")}(a(P,J||{}))+">"+W+"</svg>"},x=v.svg,_=v.xlink,b={attrs:(I={style:["position: absolute","width: 0","height: 0"].join("; "),"aria-hidden":"true"},I[x.name]=x.uri,I[_.name]=_.uri,I)},D=function(W){this.config=a(b,W||{}),this.symbols=[]};D.prototype.add=function(W){var J=this.symbols,Z=this.find(W.id);return Z?(J[J.indexOf(Z)]=W,!1):(J.push(W),!0)},D.prototype.remove=function(W){var J=this.symbols,Z=this.find(W);return!!Z&&(J.splice(J.indexOf(Z),1),Z.destroy(),!0)},D.prototype.find=function(W){return this.symbols.filter(function(J){return J.id===W})[0]||null},D.prototype.has=function(W){return this.find(W)!==null},D.prototype.stringify=function(){var W=this.config.attrs,J=this.symbols.map(function(Z){return Z.stringify()}).join("");return A(J,W)},D.prototype.toString=function(){return this.stringify()},D.prototype.destroy=function(){this.symbols.forEach(function(W){return W.destroy()})};var L=function(W){var J=W.id,Z=W.viewBox,ee=W.content;this.id=J,this.viewBox=Z,this.content=ee};L.prototype.stringify=function(){return this.content},L.prototype.toString=function(){return this.stringify()},L.prototype.destroy=function(){var W=this;["id","viewBox","content"].forEach(function(J){return delete W[J]})};var S=function(W){var J=!!document.importNode,Z=new DOMParser().parseFromString(W,"image/svg+xml").documentElement;return J?document.importNode(Z,!0):Z},c=function(W){function J(){W.apply(this,arguments)}W&&(J.__proto__=W),J.prototype=Object.create(W&&W.prototype),J.prototype.constructor=J;var Z={isMounted:{}};return Z.isMounted.get=function(){return!!this.node},J.createFromExistingNode=function(ee){return new J({id:ee.getAttribute("id"),viewBox:ee.getAttribute("viewBox"),content:ee.outerHTML})},J.prototype.destroy=function(){this.isMounted&&this.unmount(),W.prototype.destroy.call(this)},J.prototype.mount=function(ee){if(this.isMounted)return this.node;var le=typeof ee=="string"?document.querySelector(ee):ee,ue=this.render();return this.node=ue,le.appendChild(ue),ue},J.prototype.render=function(){var ee=this.stringify();return S(A(ee)).childNodes[0]},J.prototype.unmount=function(){this.node.parentNode.removeChild(this.node)},Object.defineProperties(J.prototype,Z),J}(L),u={autoConfigure:!0,mountTo:"body",syncUrlsWithBaseTag:!1,listenLocationChangeEvent:!0,locationChangeEvent:"locationChange",locationChangeAngularEmitter:!1,usagesToUpdate:"use[*|href]",moveGradientsOutsideSymbol:!1},f=function(W){return Array.prototype.slice.call(W,0)},r=function(){return/firefox/i.test(navigator.userAgent)},p=function(){return/msie/i.test(navigator.userAgent)||/trident/i.test(navigator.userAgent)},C=function(){return/edge/i.test(navigator.userAgent)},g=function(W){return(W||window.location.href).split("#")[0]},m=function(W){angular.module("ng").run(["$rootScope",function(J){J.$on("$locationChangeSuccess",function(Z,ee,le){var ue,fe,ve;ue=W,fe={oldUrl:le,newUrl:ee},(ve=document.createEvent("CustomEvent")).initCustomEvent(ue,!1,!1,fe),window.dispatchEvent(ve)})}])},k=function(W,J){return J===void 0&&(J="linearGradient, radialGradient, pattern, mask, clipPath"),f(W.querySelectorAll("symbol")).forEach(function(Z){f(Z.querySelectorAll(J)).forEach(function(ee){Z.parentNode.insertBefore(ee,Z)})}),W},d=v.xlink.uri,w=/[{}|\\\^\[\]`"<>]/g;function y(W){return W.replace(w,function(J){return"%"+J[0].charCodeAt(0).toString(16).toUpperCase()})}var O,F=["clipPath","colorProfile","src","cursor","fill","filter","marker","markerStart","markerMid","markerEnd","mask","stroke","style"],B=F.map(function(W){return"["+W+"]"}).join(","),M=function(W,J,Z,ee){var le=y(Z),ue=y(ee);(function(fe,ve){return f(fe).reduce(function(be,we){if(!we.attributes)return be;var _e=f(we.attributes),Pe=ve?_e.filter(ve):_e;return be.concat(Pe)},[])})(W.querySelectorAll(B),function(fe){var ve=fe.localName,be=fe.value;return F.indexOf(ve)!==-1&&be.indexOf("url("+le)!==-1}).forEach(function(fe){return fe.value=fe.value.replace(new RegExp(le.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"g"),ue)}),function(fe,ve,be){f(fe).forEach(function(we){var _e=we.getAttribute("xlink:href");if(_e&&_e.indexOf(ve)===0){var Pe=_e.replace(ve,be);we.setAttributeNS(d,"xlink:href",Pe)}})}(J,le,ue)},j="mount",U="symbol_mount",z=function(W){function J(ee){var le=this;ee===void 0&&(ee={}),W.call(this,a(u,ee));var ue,fe=(ue=ue||Object.create(null),{on:function(_e,Pe){(ue[_e]||(ue[_e]=[])).push(Pe)},off:function(_e,Pe){ue[_e]&&ue[_e].splice(ue[_e].indexOf(Pe)>>>0,1)},emit:function(_e,Pe){(ue[_e]||[]).map(function(Le){Le(Pe)}),(ue["*"]||[]).map(function(Le){Le(_e,Pe)})}});this._emitter=fe,this.node=null;var ve=this.config;if(ve.autoConfigure&&this._autoConfigure(ee),ve.syncUrlsWithBaseTag){var be=document.getElementsByTagName("base")[0].getAttribute("href");fe.on(j,function(){return le.updateUrls("#",be)})}var we=this._handleLocationChange.bind(this);this._handleLocationChange=we,ve.listenLocationChangeEvent&&window.addEventListener(ve.locationChangeEvent,we),ve.locationChangeAngularEmitter&&m(ve.locationChangeEvent),fe.on(j,function(_e){ve.moveGradientsOutsideSymbol&&k(_e)}),fe.on(U,function(_e){var Pe;ve.moveGradientsOutsideSymbol&&k(_e.parentNode),(p()||C())&&(Pe=[],f(_e.querySelectorAll("style")).forEach(function(Le){Le.textContent+="",Pe.push(Le)}))})}W&&(J.__proto__=W),J.prototype=Object.create(W&&W.prototype),J.prototype.constructor=J;var Z={isMounted:{}};return Z.isMounted.get=function(){return!!this.node},J.prototype._autoConfigure=function(ee){var le=this.config;ee.syncUrlsWithBaseTag===void 0&&(le.syncUrlsWithBaseTag=document.getElementsByTagName("base")[0]!==void 0),ee.locationChangeAngularEmitter===void 0&&(le.locationChangeAngularEmitter=window.angular!==void 0),ee.moveGradientsOutsideSymbol===void 0&&(le.moveGradientsOutsideSymbol=r())},J.prototype._handleLocationChange=function(ee){var le=ee.detail,ue=le.oldUrl,fe=le.newUrl;this.updateUrls(ue,fe)},J.prototype.add=function(ee){var le=W.prototype.add.call(this,ee);return this.isMounted&&le&&(ee.mount(this.node),this._emitter.emit(U,ee.node)),le},J.prototype.attach=function(ee){var le=this,ue=this;if(ue.isMounted)return ue.node;var fe=typeof ee=="string"?document.querySelector(ee):ee;return ue.node=fe,this.symbols.forEach(function(ve){ve.mount(ue.node),le._emitter.emit(U,ve.node)}),f(fe.querySelectorAll("symbol")).forEach(function(ve){var be=c.createFromExistingNode(ve);be.node=ve,ue.add(be)}),this._emitter.emit(j,fe),fe},J.prototype.destroy=function(){var ee=this.config,le=this.symbols,ue=this._emitter;le.forEach(function(fe){return fe.destroy()}),ue.off("*"),window.removeEventListener(ee.locationChangeEvent,this._handleLocationChange),this.isMounted&&this.unmount()},J.prototype.mount=function(ee,le){if(ee===void 0&&(ee=this.config.mountTo),le===void 0&&(le=!1),this.isMounted)return this.node;var ue=typeof ee=="string"?document.querySelector(ee):ee,fe=this.render();return this.node=fe,le&&ue.childNodes[0]?ue.insertBefore(fe,ue.childNodes[0]):ue.appendChild(fe),this._emitter.emit(j,fe),fe},J.prototype.render=function(){return S(this.stringify())},J.prototype.unmount=function(){this.node.parentNode.removeChild(this.node)},J.prototype.updateUrls=function(ee,le){if(!this.isMounted)return!1;var ue=document.querySelectorAll(this.config.usagesToUpdate);return M(this.node,ue,g(ee)+"#",g(le)+"#"),!0},Object.defineProperties(J.prototype,Z),J}(D),q=l(function(W){var J,Z,ee,le,ue;W.exports=(Z=[],ee=document,le=ee.documentElement.doScroll,(ue=(le?/^loaded|^c/:/^loaded|^i|^c/).test(ee.readyState))||ee.addEventListener("DOMContentLoaded",J=function(){for(ee.removeEventListener("DOMContentLoaded",J),ue=1;J=Z.shift();)J()}),function(fe){ue?setTimeout(fe,0):Z.push(fe)})});window.__SVG_SPRITE__?O=window.__SVG_SPRITE__:(O=new z({attrs:{id:"__SVG_SPRITE_NODE__","aria-hidden":"true"}}),window.__SVG_SPRITE__=O);var Y=function(){var W=document.getElementById("__SVG_SPRITE_NODE__");W?O.attach(W):O.mount(document.body,!0)};return document.body?Y():q(Y),O},e.exports=o()}).call(this,n(48))},function(e,t,n){for(var i=n(50),o=n(25),l=n(19),a=n(6),v=n(9),h=n(27),T=n(8),P=T("iterator"),I=T("toStringTag"),A=h.Array,x={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},_=o(x),b=0;b<_.length;b++){var D,L=_[b],S=x[L],c=a[L],u=c&&c.prototype;if(u&&(u[P]||v(u,P,A),u[I]||v(u,I,L),h[L]=A,S))for(D in i)u[D]||l(u,D,i[D],!0)}},function(e,t,n){var i,o=function(){return i===void 0&&(i=Boolean(window&&document&&document.all&&!window.atob)),i},l=function(){var L={};return function(S){if(L[S]===void 0){var c=document.querySelector(S);if(window.HTMLIFrameElement&&c instanceof window.HTMLIFrameElement)try{c=c.contentDocument.head}catch{c=null}L[S]=c}return L[S]}}(),a=[];function v(L){for(var S=-1,c=0;c<a.length;c++)if(a[c].identifier===L){S=c;break}return S}function h(L,S){for(var c={},u=[],f=0;f<L.length;f++){var r=L[f],p=S.base?r[0]+S.base:r[0],C=c[p]||0,g="".concat(p," ").concat(C);c[p]=C+1;var m=v(g),k={css:r[1],media:r[2],sourceMap:r[3]};m!==-1?(a[m].references++,a[m].updater(k)):a.push({identifier:g,updater:D(k,S),references:1}),u.push(g)}return u}function T(L){var S=document.createElement("style"),c=L.attributes||{};if(c.nonce===void 0){var u=n.nc;u&&(c.nonce=u)}if(Object.keys(c).forEach(function(r){S.setAttribute(r,c[r])}),typeof L.insert=="function")L.insert(S);else{var f=l(L.insert||"head");if(!f)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");f.appendChild(S)}return S}var P,I=(P=[],function(L,S){return P[L]=S,P.filter(Boolean).join(`
`)});function A(L,S,c,u){var f=c?"":u.media?"@media ".concat(u.media," {").concat(u.css,"}"):u.css;if(L.styleSheet)L.styleSheet.cssText=I(S,f);else{var r=document.createTextNode(f),p=L.childNodes;p[S]&&L.removeChild(p[S]),p.length?L.insertBefore(r,p[S]):L.appendChild(r)}}function x(L,S,c){var u=c.css,f=c.media,r=c.sourceMap;if(f?L.setAttribute("media",f):L.removeAttribute("media"),r&&typeof btoa<"u"&&(u+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */")),L.styleSheet)L.styleSheet.cssText=u;else{for(;L.firstChild;)L.removeChild(L.firstChild);L.appendChild(document.createTextNode(u))}}var _=null,b=0;function D(L,S){var c,u,f;if(S.singleton){var r=b++;c=_||(_=T(S)),u=A.bind(null,c,r,!1),f=A.bind(null,c,r,!0)}else c=T(S),u=x.bind(null,c,S),f=function(){(function(p){if(p.parentNode===null)return!1;p.parentNode.removeChild(p)})(c)};return u(L),function(p){if(p){if(p.css===L.css&&p.media===L.media&&p.sourceMap===L.sourceMap)return;u(L=p)}else f()}}e.exports=function(L,S){(S=S||{}).singleton||typeof S.singleton=="boolean"||(S.singleton=o());var c=h(L=L||[],S);return function(u){if(u=u||[],Object.prototype.toString.call(u)==="[object Array]"){for(var f=0;f<c.length;f++){var r=v(c[f]);a[r].references--}for(var p=h(u,S),C=0;C<c.length;C++){var g=v(c[C]);a[g].references===0&&(a[g].updater(),a.splice(g,1))}c=p}}}},function(e,t,n){e.exports=function(i){var o=[];return o.toString=function(){return this.map(function(l){var a=function(v,h){var T=v[1]||"",P=v[3];if(!P)return T;if(h&&typeof btoa=="function"){var I=(x=P,_=btoa(unescape(encodeURIComponent(JSON.stringify(x)))),b="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(_),"/*# ".concat(b," */")),A=P.sources.map(function(D){return"/*# sourceURL=".concat(P.sourceRoot||"").concat(D," */")});return[T].concat(A).concat([I]).join(`
`)}var x,_,b;return[T].join(`
`)}(l,i);return l[2]?"@media ".concat(l[2]," {").concat(a,"}"):a}).join("")},o.i=function(l,a,v){typeof l=="string"&&(l=[[null,l,""]]);var h={};if(v)for(var T=0;T<this.length;T++){var P=this[T][0];P!=null&&(h[P]=!0)}for(var I=0;I<l.length;I++){var A=[].concat(l[I]);v&&h[A[0]]||(a&&(A[2]?A[2]="".concat(a," and ").concat(A[2]):A[2]=a),o.push(A))}},o}},function(e,t){var n=e.exports=typeof window<"u"&&window.Math==Math?window:typeof self<"u"&&self.Math==Math?self:Function("return this")();typeof __g=="number"&&(__g=n)},function(e,t,n){e.exports=!n(11)(function(){return Object.defineProperty({},"a",{get:function(){return 7}}).a!=7})},function(e,t,n){var i=n(21)("wks"),o=n(17),l=n(6).Symbol,a=typeof l=="function";(e.exports=function(v){return i[v]||(i[v]=a&&l[v]||(a?l:o)("Symbol."+v))}).store=i},function(e,t,n){var i=n(10),o=n(24);e.exports=n(7)?function(l,a,v){return i.f(l,a,o(1,v))}:function(l,a,v){return l[a]=v,l}},function(e,t,n){var i=n(14),o=n(36),l=n(26),a=Object.defineProperty;t.f=n(7)?Object.defineProperty:function(v,h,T){if(i(v),h=l(h,!0),i(T),o)try{return a(v,h,T)}catch{}if("get"in T||"set"in T)throw TypeError("Accessors not supported!");return"value"in T&&(v[h]=T.value),v}},function(e,t){e.exports=function(n){try{return!!n()}catch{return!0}}},function(e,t){var n={}.hasOwnProperty;e.exports=function(i,o){return n.call(i,o)}},function(e,t,n){var i=n(6),o=n(12),l=n(7),a=n(28),v=n(19),h=n(64).KEY,T=n(11),P=n(21),I=n(31),A=n(17),x=n(8),_=n(44),b=n(65),D=n(66),L=n(67),S=n(14),c=n(18),u=n(32),f=n(15),r=n(26),p=n(24),C=n(41),g=n(68),m=n(69),k=n(45),d=n(10),w=n(25),y=m.f,O=d.f,F=g.f,B=i.Symbol,M=i.JSON,j=M&&M.stringify,U=x("_hidden"),z=x("toPrimitive"),q={}.propertyIsEnumerable,Y=P("symbol-registry"),W=P("symbols"),J=P("op-symbols"),Z=Object.prototype,ee=typeof B=="function"&&!!k.f,le=i.QObject,ue=!le||!le.prototype||!le.prototype.findChild,fe=l&&T(function(){return C(O({},"a",{get:function(){return O(this,"a",{value:7}).a}})).a!=7})?function(Ee,xe,ze){var rt=y(Z,xe);rt&&delete Z[xe],O(Ee,xe,ze),rt&&Ee!==Z&&O(Z,xe,rt)}:O,ve=function(Ee){var xe=W[Ee]=C(B.prototype);return xe._k=Ee,xe},be=ee&&typeof B.iterator=="symbol"?function(Ee){return typeof Ee=="symbol"}:function(Ee){return Ee instanceof B},we=function(Ee,xe,ze){return Ee===Z&&we(J,xe,ze),S(Ee),xe=r(xe,!0),S(ze),o(W,xe)?(ze.enumerable?(o(Ee,U)&&Ee[U][xe]&&(Ee[U][xe]=!1),ze=C(ze,{enumerable:p(0,!1)})):(o(Ee,U)||O(Ee,U,p(1,{})),Ee[U][xe]=!0),fe(Ee,xe,ze)):O(Ee,xe,ze)},_e=function(Ee,xe){S(Ee);for(var ze,rt=D(xe=f(xe)),at=0,jt=rt.length;jt>at;)we(Ee,ze=rt[at++],xe[ze]);return Ee},Pe=function(Ee){var xe=q.call(this,Ee=r(Ee,!0));return!(this===Z&&o(W,Ee)&&!o(J,Ee))&&(!(xe||!o(this,Ee)||!o(W,Ee)||o(this,U)&&this[U][Ee])||xe)},Le=function(Ee,xe){if(Ee=f(Ee),xe=r(xe,!0),Ee!==Z||!o(W,xe)||o(J,xe)){var ze=y(Ee,xe);return!ze||!o(W,xe)||o(Ee,U)&&Ee[U][xe]||(ze.enumerable=!0),ze}},Be=function(Ee){for(var xe,ze=F(f(Ee)),rt=[],at=0;ze.length>at;)o(W,xe=ze[at++])||xe==U||xe==h||rt.push(xe);return rt},ut=function(Ee){for(var xe,ze=Ee===Z,rt=F(ze?J:f(Ee)),at=[],jt=0;rt.length>jt;)!o(W,xe=rt[jt++])||ze&&!o(Z,xe)||at.push(W[xe]);return at};ee||(v((B=function(){if(this instanceof B)throw TypeError("Symbol is not a constructor!");var Ee=A(arguments.length>0?arguments[0]:void 0),xe=function(ze){this===Z&&xe.call(J,ze),o(this,U)&&o(this[U],Ee)&&(this[U][Ee]=!1),fe(this,Ee,p(1,ze))};return l&&ue&&fe(Z,Ee,{configurable:!0,set:xe}),ve(Ee)}).prototype,"toString",function(){return this._k}),m.f=Le,d.f=we,n(46).f=g.f=Be,n(33).f=Pe,k.f=ut,l&&!n(23)&&v(Z,"propertyIsEnumerable",Pe,!0),_.f=function(Ee){return ve(x(Ee))}),a(a.G+a.W+a.F*!ee,{Symbol:B});for(var Ue="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),et=0;Ue.length>et;)x(Ue[et++]);for(var ot=w(x.store),ht=0;ot.length>ht;)b(ot[ht++]);a(a.S+a.F*!ee,"Symbol",{for:function(Ee){return o(Y,Ee+="")?Y[Ee]:Y[Ee]=B(Ee)},keyFor:function(Ee){if(!be(Ee))throw TypeError(Ee+" is not a symbol!");for(var xe in Y)if(Y[xe]===Ee)return xe},useSetter:function(){ue=!0},useSimple:function(){ue=!1}}),a(a.S+a.F*!ee,"Object",{create:function(Ee,xe){return xe===void 0?C(Ee):_e(C(Ee),xe)},defineProperty:we,defineProperties:_e,getOwnPropertyDescriptor:Le,getOwnPropertyNames:Be,getOwnPropertySymbols:ut});var bt=T(function(){k.f(1)});a(a.S+a.F*bt,"Object",{getOwnPropertySymbols:function(Ee){return k.f(u(Ee))}}),M&&a(a.S+a.F*(!ee||T(function(){var Ee=B();return j([Ee])!="[null]"||j({a:Ee})!="{}"||j(Object(Ee))!="{}"})),"JSON",{stringify:function(Ee){for(var xe,ze,rt=[Ee],at=1;arguments.length>at;)rt.push(arguments[at++]);if(ze=xe=rt[1],(c(xe)||Ee!==void 0)&&!be(Ee))return L(xe)||(xe=function(jt,Ut){if(typeof ze=="function"&&(Ut=ze.call(this,jt,Ut)),!be(Ut))return Ut}),rt[1]=xe,j.apply(M,rt)}}),B.prototype[z]||n(9)(B.prototype,z,B.prototype.valueOf),I(B,"Symbol"),I(Math,"Math",!0),I(i.JSON,"JSON",!0)},function(e,t,n){var i=n(18);e.exports=function(o){if(!i(o))throw TypeError(o+" is not an object!");return o}},function(e,t,n){var i=n(53),o=n(39);e.exports=function(l){return i(o(l))}},function(e,t,n){var i=n(4),o=n(77);typeof(o=o.__esModule?o.default:o)=="string"&&(o=[[e.i,o,""]]);var l={insert:"head",singleton:!1};i(o,l),e.exports=o.locals||{}},function(e,t){var n=0,i=Math.random();e.exports=function(o){return"Symbol(".concat(o===void 0?"":o,")_",(++n+i).toString(36))}},function(e,t){e.exports=function(n){return typeof n=="object"?n!==null:typeof n=="function"}},function(e,t,n){var i=n(6),o=n(9),l=n(12),a=n(17)("src"),v=n(55),h=(""+v).split("toString");n(22).inspectSource=function(T){return v.call(T)},(e.exports=function(T,P,I,A){var x=typeof I=="function";x&&(l(I,"name")||o(I,"name",P)),T[P]!==I&&(x&&(l(I,a)||o(I,a,T[P]?""+T[P]:h.join(String(P)))),T===i?T[P]=I:A?T[P]?T[P]=I:o(T,P,I):(delete T[P],o(T,P,I)))})(Function.prototype,"toString",function(){return typeof this=="function"&&this[a]||v.call(this)})},function(e,t,n){/*!
* screenfull
* v5.1.0 - 2020-12-24
* (c) Sindre Sorhus; MIT License
*/(function(){var i=typeof window<"u"&&window.document!==void 0?window.document:{},o=e.exports,l=function(){for(var h,T=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],P=0,I=T.length,A={};P<I;P++)if((h=T[P])&&h[1]in i){for(P=0;P<h.length;P++)A[T[0][P]]=h[P];return A}return!1}(),a={change:l.fullscreenchange,error:l.fullscreenerror},v={request:function(h,T){return new Promise(function(P,I){var A=function(){this.off("change",A),P()}.bind(this);this.on("change",A);var x=(h=h||i.documentElement)[l.requestFullscreen](T);x instanceof Promise&&x.then(A).catch(I)}.bind(this))},exit:function(){return new Promise(function(h,T){if(this.isFullscreen){var P=function(){this.off("change",P),h()}.bind(this);this.on("change",P);var I=i[l.exitFullscreen]();I instanceof Promise&&I.then(P).catch(T)}else h()}.bind(this))},toggle:function(h,T){return this.isFullscreen?this.exit():this.request(h,T)},onchange:function(h){this.on("change",h)},onerror:function(h){this.on("error",h)},on:function(h,T){var P=a[h];P&&i.addEventListener(P,T,!1)},off:function(h,T){var P=a[h];P&&i.removeEventListener(P,T,!1)},raw:l};l?(Object.defineProperties(v,{isFullscreen:{get:function(){return Boolean(i[l.fullscreenElement])}},element:{enumerable:!0,get:function(){return i[l.fullscreenElement]}},isEnabled:{enumerable:!0,get:function(){return Boolean(i[l.fullscreenEnabled])}}}),o?e.exports=v:window.screenfull=v):o?e.exports={isEnabled:!1}:window.screenfull={isEnabled:!1}})()},function(e,t,n){var i=n(22),o=n(6),l=o["__core-js_shared__"]||(o["__core-js_shared__"]={});(e.exports=function(a,v){return l[a]||(l[a]=v!==void 0?v:{})})("versions",[]).push({version:i.version,mode:n(23)?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},function(e,t){var n=e.exports={version:"2.6.12"};typeof __e=="number"&&(__e=n)},function(e,t){e.exports=!1},function(e,t){e.exports=function(n,i){return{enumerable:!(1&n),configurable:!(2&n),writable:!(4&n),value:i}}},function(e,t,n){var i=n(42),o=n(30);e.exports=Object.keys||function(l){return i(l,o)}},function(e,t,n){var i=n(18);e.exports=function(o,l){if(!i(o))return o;var a,v;if(l&&typeof(a=o.toString)=="function"&&!i(v=a.call(o))||typeof(a=o.valueOf)=="function"&&!i(v=a.call(o))||!l&&typeof(a=o.toString)=="function"&&!i(v=a.call(o)))return v;throw TypeError("Can't convert object to primitive value")}},function(e,t){e.exports={}},function(e,t,n){var i=n(6),o=n(22),l=n(9),a=n(19),v=n(56),h=function(T,P,I){var A,x,_,b,D=T&h.F,L=T&h.G,S=T&h.S,c=T&h.P,u=T&h.B,f=L?i:S?i[P]||(i[P]={}):(i[P]||{}).prototype,r=L?o:o[P]||(o[P]={}),p=r.prototype||(r.prototype={});for(A in L&&(I=P),I)_=((x=!D&&f&&f[A]!==void 0)?f:I)[A],b=u&&x?v(_,i):c&&typeof _=="function"?v(Function.call,_):_,f&&a(f,A,_,T&h.U),r[A]!=_&&l(r,A,b),c&&p[A]!=_&&(p[A]=_)};i.core=o,h.F=1,h.G=2,h.S=4,h.P=8,h.B=16,h.W=32,h.U=64,h.R=128,e.exports=h},function(e,t,n){var i=n(21)("keys"),o=n(17);e.exports=function(l){return i[l]||(i[l]=o(l))}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,n){var i=n(10).f,o=n(12),l=n(8)("toStringTag");e.exports=function(a,v,h){a&&!o(a=h?a:a.prototype,l)&&i(a,l,{configurable:!0,value:v})}},function(e,t,n){var i=n(39);e.exports=function(o){return Object(i(o))}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,n){n(70);var i=n(14),o=n(47),l=n(7),a=/./.toString,v=function(h){n(19)(RegExp.prototype,"toString",h,!0)};n(11)(function(){return a.call({source:"a",flags:"b"})!="/a/b"})?v(function(){var h=i(this);return"/".concat(h.source,"/","flags"in h?h.flags:!l&&h instanceof RegExp?o.call(h):void 0)}):a.name!="toString"&&v(function(){return a.call(this)})},function(e,t,n){var i;typeof window<"u"&&(i=function(){return function(o){var l={};function a(v){if(l[v])return l[v].exports;var h=l[v]={i:v,l:!1,exports:{}};return o[v].call(h.exports,h,h.exports,a),h.l=!0,h.exports}return a.m=o,a.c=l,a.d=function(v,h,T){a.o(v,h)||Object.defineProperty(v,h,{enumerable:!0,get:T})},a.r=function(v){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(v,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(v,"__esModule",{value:!0})},a.t=function(v,h){if(1&h&&(v=a(v)),8&h||4&h&&typeof v=="object"&&v&&v.__esModule)return v;var T=Object.create(null);if(a.r(T),Object.defineProperty(T,"default",{enumerable:!0,value:v}),2&h&&typeof v!="string")for(var P in v)a.d(T,P,function(I){return v[I]}.bind(null,P));return T},a.n=function(v){var h=v&&v.__esModule?function(){return v.default}:function(){return v};return a.d(h,"a",h),h},a.o=function(v,h){return Object.prototype.hasOwnProperty.call(v,h)},a.p="/dist/",a(a.s="./src/hls.ts")}({"./node_modules/eventemitter3/index.js":function(o,l,a){var v=Object.prototype.hasOwnProperty,h="~";function T(){}function P(_,b,D){this.fn=_,this.context=b,this.once=D||!1}function I(_,b,D,L,S){if(typeof D!="function")throw new TypeError("The listener must be a function");var c=new P(D,L||_,S),u=h?h+b:b;return _._events[u]?_._events[u].fn?_._events[u]=[_._events[u],c]:_._events[u].push(c):(_._events[u]=c,_._eventsCount++),_}function A(_,b){--_._eventsCount==0?_._events=new T:delete _._events[b]}function x(){this._events=new T,this._eventsCount=0}Object.create&&(T.prototype=Object.create(null),new T().__proto__||(h=!1)),x.prototype.eventNames=function(){var _,b,D=[];if(this._eventsCount===0)return D;for(b in _=this._events)v.call(_,b)&&D.push(h?b.slice(1):b);return Object.getOwnPropertySymbols?D.concat(Object.getOwnPropertySymbols(_)):D},x.prototype.listeners=function(_){var b=h?h+_:_,D=this._events[b];if(!D)return[];if(D.fn)return[D.fn];for(var L=0,S=D.length,c=new Array(S);L<S;L++)c[L]=D[L].fn;return c},x.prototype.listenerCount=function(_){var b=h?h+_:_,D=this._events[b];return D?D.fn?1:D.length:0},x.prototype.emit=function(_,b,D,L,S,c){var u=h?h+_:_;if(!this._events[u])return!1;var f,r,p=this._events[u],C=arguments.length;if(p.fn){switch(p.once&&this.removeListener(_,p.fn,void 0,!0),C){case 1:return p.fn.call(p.context),!0;case 2:return p.fn.call(p.context,b),!0;case 3:return p.fn.call(p.context,b,D),!0;case 4:return p.fn.call(p.context,b,D,L),!0;case 5:return p.fn.call(p.context,b,D,L,S),!0;case 6:return p.fn.call(p.context,b,D,L,S,c),!0}for(r=1,f=new Array(C-1);r<C;r++)f[r-1]=arguments[r];p.fn.apply(p.context,f)}else{var g,m=p.length;for(r=0;r<m;r++)switch(p[r].once&&this.removeListener(_,p[r].fn,void 0,!0),C){case 1:p[r].fn.call(p[r].context);break;case 2:p[r].fn.call(p[r].context,b);break;case 3:p[r].fn.call(p[r].context,b,D);break;case 4:p[r].fn.call(p[r].context,b,D,L);break;default:if(!f)for(g=1,f=new Array(C-1);g<C;g++)f[g-1]=arguments[g];p[r].fn.apply(p[r].context,f)}}return!0},x.prototype.on=function(_,b,D){return I(this,_,b,D,!1)},x.prototype.once=function(_,b,D){return I(this,_,b,D,!0)},x.prototype.removeListener=function(_,b,D,L){var S=h?h+_:_;if(!this._events[S])return this;if(!b)return A(this,S),this;var c=this._events[S];if(c.fn)c.fn!==b||L&&!c.once||D&&c.context!==D||A(this,S);else{for(var u=0,f=[],r=c.length;u<r;u++)(c[u].fn!==b||L&&!c[u].once||D&&c[u].context!==D)&&f.push(c[u]);f.length?this._events[S]=f.length===1?f[0]:f:A(this,S)}return this},x.prototype.removeAllListeners=function(_){var b;return _?(b=h?h+_:_,this._events[b]&&A(this,b)):(this._events=new T,this._eventsCount=0),this},x.prototype.off=x.prototype.removeListener,x.prototype.addListener=x.prototype.on,x.prefixed=h,x.EventEmitter=x,o.exports=x},"./node_modules/url-toolkit/src/url-toolkit.js":function(o,l,a){var v,h,T,P,I;v=/^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/?#]*)?((?:[^\/?#]*\/)*[^;?#]*)?(;[^?#]*)?(\?[^#]*)?(#[^]*)?$/,h=/^([^\/?#]*)([^]*)$/,T=/(?:\/|^)\.(?=\/)/g,P=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,I={buildAbsoluteURL:function(A,x,_){if(_=_||{},A=A.trim(),!(x=x.trim())){if(!_.alwaysNormalize)return A;var b=I.parseURL(A);if(!b)throw new Error("Error trying to parse base URL.");return b.path=I.normalizePath(b.path),I.buildURLFromParts(b)}var D=I.parseURL(x);if(!D)throw new Error("Error trying to parse relative URL.");if(D.scheme)return _.alwaysNormalize?(D.path=I.normalizePath(D.path),I.buildURLFromParts(D)):x;var L=I.parseURL(A);if(!L)throw new Error("Error trying to parse base URL.");if(!L.netLoc&&L.path&&L.path[0]!=="/"){var S=h.exec(L.path);L.netLoc=S[1],L.path=S[2]}L.netLoc&&!L.path&&(L.path="/");var c={scheme:L.scheme,netLoc:D.netLoc,path:null,params:D.params,query:D.query,fragment:D.fragment};if(!D.netLoc&&(c.netLoc=L.netLoc,D.path[0]!=="/"))if(D.path){var u=L.path,f=u.substring(0,u.lastIndexOf("/")+1)+D.path;c.path=I.normalizePath(f)}else c.path=L.path,D.params||(c.params=L.params,D.query||(c.query=L.query));return c.path===null&&(c.path=_.alwaysNormalize?I.normalizePath(D.path):D.path),I.buildURLFromParts(c)},parseURL:function(A){var x=v.exec(A);return x?{scheme:x[1]||"",netLoc:x[2]||"",path:x[3]||"",params:x[4]||"",query:x[5]||"",fragment:x[6]||""}:null},normalizePath:function(A){for(A=A.split("").reverse().join("").replace(T,"");A.length!==(A=A.replace(P,"")).length;);return A.split("").reverse().join("")},buildURLFromParts:function(A){return A.scheme+A.netLoc+A.path+A.params+A.query+A.fragment}},o.exports=I},"./node_modules/webworkify-webpack/index.js":function(o,l,a){function v(I){var A={};function x(b){if(A[b])return A[b].exports;var D=A[b]={i:b,l:!1,exports:{}};return I[b].call(D.exports,D,D.exports,x),D.l=!0,D.exports}x.m=I,x.c=A,x.i=function(b){return b},x.d=function(b,D,L){x.o(b,D)||Object.defineProperty(b,D,{configurable:!1,enumerable:!0,get:L})},x.r=function(b){Object.defineProperty(b,"__esModule",{value:!0})},x.n=function(b){var D=b&&b.__esModule?function(){return b.default}:function(){return b};return x.d(D,"a",D),D},x.o=function(b,D){return Object.prototype.hasOwnProperty.call(b,D)},x.p="/",x.oe=function(b){throw console.error(b),b};var _=x(x.s=ENTRY_MODULE);return _.default||_}function h(I){return(I+"").replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}function T(I,A,x){var _={};_[x]=[];var b=A.toString(),D=b.match(/^function\s?\w*\(\w+,\s*\w+,\s*(\w+)\)/);if(!D)return _;for(var L,S=D[1],c=new RegExp("(\\\\n|\\W)"+h(S)+"\\(\\s*(/\\*.*?\\*/)?\\s*.*?([\\.|\\-|\\+|\\w|/|@]+).*?\\)","g");L=c.exec(b);)L[3]!=="dll-reference"&&_[x].push(L[3]);for(c=new RegExp("\\("+h(S)+'\\("(dll-reference\\s([\\.|\\-|\\+|\\w|/|@]+))"\\)\\)\\(\\s*(/\\*.*?\\*/)?\\s*.*?([\\.|\\-|\\+|\\w|/|@]+).*?\\)',"g");L=c.exec(b);)I[L[2]]||(_[x].push(L[1]),I[L[2]]=a(L[1]).m),_[L[2]]=_[L[2]]||[],_[L[2]].push(L[4]);for(var u,f=Object.keys(_),r=0;r<f.length;r++)for(var p=0;p<_[f[r]].length;p++)u=_[f[r]][p],isNaN(1*u)||(_[f[r]][p]=1*_[f[r]][p]);return _}function P(I){return Object.keys(I).reduce(function(A,x){return A||I[x].length>0},!1)}o.exports=function(I,A){A=A||{};var x={main:a.m},_=A.all?{main:Object.keys(x.main)}:function(c,u){for(var f={main:[u]},r={main:[]},p={main:{}};P(f);)for(var C=Object.keys(f),g=0;g<C.length;g++){var m=C[g],k=f[m].pop();if(p[m]=p[m]||{},!p[m][k]&&c[m][k]){p[m][k]=!0,r[m]=r[m]||[],r[m].push(k);for(var d=T(c,c[m][k],m),w=Object.keys(d),y=0;y<w.length;y++)f[w[y]]=f[w[y]]||[],f[w[y]]=f[w[y]].concat(d[w[y]])}}return r}(x,I),b="";Object.keys(_).filter(function(c){return c!=="main"}).forEach(function(c){for(var u=0;_[c][u];)u++;_[c].push(u),x[c][u]="(function(module, exports, __webpack_require__) { module.exports = __webpack_require__; })",b=b+"var "+c+" = ("+v.toString().replace("ENTRY_MODULE",JSON.stringify(u))+")({"+_[c].map(function(f){return JSON.stringify(f)+": "+x[c][f].toString()}).join(",")+`});
`}),b=b+"new (("+v.toString().replace("ENTRY_MODULE",JSON.stringify(I))+")({"+_.main.map(function(c){return JSON.stringify(c)+": "+x.main[c].toString()}).join(",")+"}))(self);";var D=new window.Blob([b],{type:"text/javascript"});if(A.bare)return D;var L=(window.URL||window.webkitURL||window.mozURL||window.msURL).createObjectURL(D),S=new window.Worker(L);return S.objectURL=L,S}},"./src/config.ts":function(o,l,a){a.r(l),a.d(l,"hlsDefaultConfig",function(){return m}),a.d(l,"mergeConfig",function(){return k}),a.d(l,"enableStreamingMode",function(){return d});var v=a("./src/controller/abr-controller.ts"),h=a("./src/controller/audio-stream-controller.ts"),T=a("./src/controller/audio-track-controller.ts"),P=a("./src/controller/subtitle-stream-controller.ts"),I=a("./src/controller/subtitle-track-controller.ts"),A=a("./src/controller/buffer-controller.ts"),x=a("./src/controller/timeline-controller.ts"),_=a("./src/controller/cap-level-controller.ts"),b=a("./src/controller/fps-controller.ts"),D=a("./src/controller/eme-controller.ts"),L=a("./src/utils/xhr-loader.ts"),S=a("./src/utils/fetch-loader.ts"),c=a("./src/utils/cues.ts"),u=a("./src/utils/mediakeys-helper.ts"),f=a("./src/utils/logger.ts");function r(){return(r=Object.assign||function(w){for(var y=1;y<arguments.length;y++){var O=arguments[y];for(var F in O)Object.prototype.hasOwnProperty.call(O,F)&&(w[F]=O[F])}return w}).apply(this,arguments)}function p(w,y){var O=Object.keys(w);if(Object.getOwnPropertySymbols){var F=Object.getOwnPropertySymbols(w);y&&(F=F.filter(function(B){return Object.getOwnPropertyDescriptor(w,B).enumerable})),O.push.apply(O,F)}return O}function C(w){for(var y=1;y<arguments.length;y++){var O=arguments[y]!=null?arguments[y]:{};y%2?p(Object(O),!0).forEach(function(F){g(w,F,O[F])}):Object.getOwnPropertyDescriptors?Object.defineProperties(w,Object.getOwnPropertyDescriptors(O)):p(Object(O)).forEach(function(F){Object.defineProperty(w,F,Object.getOwnPropertyDescriptor(O,F))})}return w}function g(w,y,O){return y in w?Object.defineProperty(w,y,{value:O,enumerable:!0,configurable:!0,writable:!0}):w[y]=O,w}var m=C(C({autoStartLoad:!0,startPosition:-1,defaultAudioCodec:void 0,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,initialLiveManifestSize:1,maxBufferLength:30,backBufferLength:1/0,maxBufferSize:6e7,maxBufferHole:.1,highBufferWatchdogPeriod:2,nudgeOffset:.1,nudgeMaxRetry:3,maxFragLookUpTolerance:.25,liveSyncDurationCount:3,liveMaxLatencyDurationCount:1/0,liveSyncDuration:void 0,liveMaxLatencyDuration:void 0,maxLiveSyncPlaybackRate:1,liveDurationInfinity:!1,liveBackBufferLength:null,maxMaxBufferLength:600,enableWorker:!0,enableSoftwareAES:!0,manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:64e3,startLevel:void 0,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingMaxRetryTimeout:64e3,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5e3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,loader:L.default,fLoader:void 0,pLoader:void 0,xhrSetup:void 0,licenseXhrSetup:void 0,licenseResponseCallback:void 0,abrController:v.default,bufferController:A.default,capLevelController:_.default,fpsController:b.default,stretchShortVideoTrack:!1,maxAudioFramesDrift:1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,abrMaxWithRealBitrate:!1,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0,emeEnabled:!1,widevineLicenseUrl:void 0,drmSystemOptions:{},requestMediaKeySystemAccessFunc:u.requestMediaKeySystemAccess,testBandwidth:!0,progressive:!1,lowLatencyMode:!0},{cueHandler:c.default,enableCEA708Captions:!0,enableWebVTT:!0,enableIMSC1:!0,captionsTextTrack1Label:"English",captionsTextTrack1LanguageCode:"en",captionsTextTrack2Label:"Spanish",captionsTextTrack2LanguageCode:"es",captionsTextTrack3Label:"Unknown CC",captionsTextTrack3LanguageCode:"",captionsTextTrack4Label:"Unknown CC",captionsTextTrack4LanguageCode:"",renderTextTracksNatively:!0}),{},{subtitleStreamController:P.SubtitleStreamController,subtitleTrackController:I.default,timelineController:x.TimelineController,audioStreamController:h.default,audioTrackController:T.default,emeController:D.default});function k(w,y){if((y.liveSyncDurationCount||y.liveMaxLatencyDurationCount)&&(y.liveSyncDuration||y.liveMaxLatencyDuration))throw new Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");if(y.liveMaxLatencyDurationCount!==void 0&&(y.liveSyncDurationCount===void 0||y.liveMaxLatencyDurationCount<=y.liveSyncDurationCount))throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be greater than "liveSyncDurationCount"');if(y.liveMaxLatencyDuration!==void 0&&(y.liveSyncDuration===void 0||y.liveMaxLatencyDuration<=y.liveSyncDuration))throw new Error('Illegal hls.js config: "liveMaxLatencyDuration" must be greater than "liveSyncDuration"');return r({},w,y)}function d(w){var y=w.loader;y!==S.default&&y!==L.default?(f.logger.log("[config]: Custom loader detected, cannot enable progressive streaming"),w.progressive=!1):Object(S.fetchSupported)()&&(w.loader=S.default,w.progressive=!0,w.enableSoftwareAES=!0,f.logger.log("[config]: Progressive streaming enabled, using FetchLoader"))}},"./src/controller/abr-controller.ts":function(o,l,a){a.r(l);var v=a("./src/polyfills/number.ts"),h=a("./src/utils/ewma-bandwidth-estimator.ts"),T=a("./src/events.ts"),P=a("./src/utils/buffer-helper.ts"),I=a("./src/errors.ts"),A=a("./src/types/loader.ts"),x=a("./src/utils/logger.ts");function _(D,L){for(var S=0;S<L.length;S++){var c=L[S];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(D,c.key,c)}}var b=function(){function D(u){this.hls=void 0,this.lastLoadedFragLevel=0,this._nextAutoLevel=-1,this.timer=void 0,this.onCheck=this._abandonRulesCheck.bind(this),this.fragCurrent=null,this.partCurrent=null,this.bitrateTestDelay=0,this.bwEstimator=void 0,this.hls=u;var f=u.config;this.bwEstimator=new h.default(f.abrEwmaSlowVoD,f.abrEwmaFastVoD,f.abrEwmaDefaultEstimate),this.registerListeners()}var L,S,c=D.prototype;return c.registerListeners=function(){var u=this.hls;u.on(T.Events.FRAG_LOADING,this.onFragLoading,this),u.on(T.Events.FRAG_LOADED,this.onFragLoaded,this),u.on(T.Events.FRAG_BUFFERED,this.onFragBuffered,this),u.on(T.Events.LEVEL_LOADED,this.onLevelLoaded,this),u.on(T.Events.ERROR,this.onError,this)},c.unregisterListeners=function(){var u=this.hls;u.off(T.Events.FRAG_LOADING,this.onFragLoading,this),u.off(T.Events.FRAG_LOADED,this.onFragLoaded,this),u.off(T.Events.FRAG_BUFFERED,this.onFragBuffered,this),u.off(T.Events.LEVEL_LOADED,this.onLevelLoaded,this),u.off(T.Events.ERROR,this.onError,this)},c.destroy=function(){this.unregisterListeners(),this.clearTimer(),this.hls=this.onCheck=null,this.fragCurrent=this.partCurrent=null},c.onFragLoading=function(u,f){var r,p=f.frag;p.type===A.PlaylistLevelType.MAIN&&(this.timer||(this.fragCurrent=p,this.partCurrent=(r=f.part)!=null?r:null,this.timer=self.setInterval(this.onCheck,100)))},c.onLevelLoaded=function(u,f){var r=this.hls.config;f.details.live?this.bwEstimator.update(r.abrEwmaSlowLive,r.abrEwmaFastLive):this.bwEstimator.update(r.abrEwmaSlowVoD,r.abrEwmaFastVoD)},c._abandonRulesCheck=function(){var u=this.fragCurrent,f=this.partCurrent,r=this.hls,p=r.autoLevelEnabled,C=r.config,g=r.media;if(u&&g){var m=f?f.stats:u.stats,k=f?f.duration:u.duration;if(m.aborted)return x.logger.warn("frag loader destroy or aborted, disarm abandonRules"),this.clearTimer(),void(this._nextAutoLevel=-1);if(p&&!g.paused&&g.playbackRate&&g.readyState){var d=performance.now()-m.loading.start,w=Math.abs(g.playbackRate);if(!(d<=500*k/w)){var y=r.levels,O=r.minAutoLevel,F=y[u.level],B=m.total||Math.max(m.loaded,Math.round(k*F.maxBitrate/8)),M=Math.max(1,m.bwEstimate?m.bwEstimate/8:1e3*m.loaded/d),j=(B-m.loaded)/M,U=g.currentTime,z=(P.BufferHelper.bufferInfo(g,U,C.maxBufferHole).end-U)/w;if(!(z>=2*k/w||j<=z)){var q,Y=Number.POSITIVE_INFINITY;for(q=u.level-1;q>O&&!((Y=k*y[q].maxBitrate/(6.4*M))<z);q--);if(!(Y>=j)){var W=this.bwEstimator.getEstimate();x.logger.warn("Fragment "+u.sn+(f?" part "+f.index:"")+" of level "+u.level+" is loading too slowly and will cause an underbuffer; aborting and switching to level "+q+`
      Current BW estimate: `+(Object(v.isFiniteNumber)(W)?(W/1024).toFixed(3):"Unknown")+` Kb/s
      Estimated load time for current fragment: `+j.toFixed(3)+` s
      Estimated load time for the next fragment: `+Y.toFixed(3)+` s
      Time to underbuffer: `+z.toFixed(3)+" s"),r.nextLoadLevel=q,this.bwEstimator.sample(d,m.loaded),this.clearTimer(),u.loader&&(this.fragCurrent=this.partCurrent=null,u.loader.abort()),r.trigger(T.Events.FRAG_LOAD_EMERGENCY_ABORTED,{frag:u,part:f,stats:m})}}}}}},c.onFragLoaded=function(u,f){var r=f.frag,p=f.part;if(r.type===A.PlaylistLevelType.MAIN&&Object(v.isFiniteNumber)(r.sn)){var C=p?p.stats:r.stats,g=p?p.duration:r.duration;if(this.clearTimer(),this.lastLoadedFragLevel=r.level,this._nextAutoLevel=-1,this.hls.config.abrMaxWithRealBitrate){var m=this.hls.levels[r.level],k=(m.loaded?m.loaded.bytes:0)+C.loaded,d=(m.loaded?m.loaded.duration:0)+g;m.loaded={bytes:k,duration:d},m.realBitrate=Math.round(8*k/d)}if(r.bitrateTest){var w={stats:C,frag:r,part:p,id:r.type};this.onFragBuffered(T.Events.FRAG_BUFFERED,w),r.bitrateTest=!1}}},c.onFragBuffered=function(u,f){var r=f.frag,p=f.part,C=p?p.stats:r.stats;if(!C.aborted&&r.type===A.PlaylistLevelType.MAIN&&r.sn!=="initSegment"){var g=C.parsing.end-C.loading.start;this.bwEstimator.sample(g,C.loaded),C.bwEstimate=this.bwEstimator.getEstimate(),r.bitrateTest?this.bitrateTestDelay=g/1e3:this.bitrateTestDelay=0}},c.onError=function(u,f){switch(f.details){case I.ErrorDetails.FRAG_LOAD_ERROR:case I.ErrorDetails.FRAG_LOAD_TIMEOUT:this.clearTimer()}},c.clearTimer=function(){self.clearInterval(this.timer),this.timer=void 0},c.getNextABRAutoLevel=function(){var u=this.fragCurrent,f=this.partCurrent,r=this.hls,p=r.maxAutoLevel,C=r.config,g=r.minAutoLevel,m=r.media,k=f?f.duration:u?u.duration:0,d=m?m.currentTime:0,w=m&&m.playbackRate!==0?Math.abs(m.playbackRate):1,y=this.bwEstimator?this.bwEstimator.getEstimate():C.abrEwmaDefaultEstimate,O=(P.BufferHelper.bufferInfo(m,d,C.maxBufferHole).end-d)/w,F=this.findBestLevel(y,g,p,O,C.abrBandWidthFactor,C.abrBandWidthUpFactor);if(F>=0)return F;x.logger.trace((O?"rebuffering expected":"buffer is empty")+", finding optimal quality level");var B=k?Math.min(k,C.maxStarvationDelay):C.maxStarvationDelay,M=C.abrBandWidthFactor,j=C.abrBandWidthUpFactor;if(!O){var U=this.bitrateTestDelay;U&&(B=(k?Math.min(k,C.maxLoadingDelay):C.maxLoadingDelay)-U,x.logger.trace("bitrate test took "+Math.round(1e3*U)+"ms, set first fragment max fetchDuration to "+Math.round(1e3*B)+" ms"),M=j=1)}return F=this.findBestLevel(y,g,p,O+B,M,j),Math.max(F,0)},c.findBestLevel=function(u,f,r,p,C,g){for(var m,k=this.fragCurrent,d=this.partCurrent,w=this.lastLoadedFragLevel,y=this.hls.levels,O=y[w],F=!(O==null||(m=O.details)===null||m===void 0||!m.live),B=O==null?void 0:O.codecSet,M=d?d.duration:k?k.duration:0,j=r;j>=f;j--){var U=y[j];if(U&&(!B||U.codecSet===B)){var z=U.details,q=(d?z==null?void 0:z.partTarget:z==null?void 0:z.averagetargetduration)||M,Y=void 0;Y=j<=w?C*u:g*u;var W=y[j].maxBitrate,J=W*q/Y;if(x.logger.trace("level/adjustedbw/bitrate/avgDuration/maxFetchDuration/fetchDuration: "+j+"/"+Math.round(Y)+"/"+W+"/"+q+"/"+p+"/"+J),Y>W&&(!J||F&&!this.bitrateTestDelay||J<p))return j}}return-1},L=D,(S=[{key:"nextAutoLevel",get:function(){var u=this._nextAutoLevel,f=this.bwEstimator;if(!(u===-1||f&&f.canEstimate()))return u;var r=this.getNextABRAutoLevel();return u!==-1&&(r=Math.min(u,r)),r},set:function(u){this._nextAutoLevel=u}}])&&_(L.prototype,S),D}();l.default=b},"./src/controller/audio-stream-controller.ts":function(o,l,a){a.r(l);var v=a("./src/polyfills/number.ts"),h=a("./src/controller/base-stream-controller.ts"),T=a("./src/events.ts"),P=a("./src/utils/buffer-helper.ts"),I=a("./src/controller/fragment-tracker.ts"),A=a("./src/types/level.ts"),x=a("./src/types/loader.ts"),_=a("./src/loader/fragment.ts"),b=a("./src/demux/chunk-cache.ts"),D=a("./src/demux/transmuxer-interface.ts"),L=a("./src/types/transmuxer.ts"),S=a("./src/controller/fragment-finders.ts"),c=a("./src/utils/discontinuities.ts"),u=a("./src/errors.ts"),f=a("./src/utils/logger.ts");function r(){return(r=Object.assign||function(g){for(var m=1;m<arguments.length;m++){var k=arguments[m];for(var d in k)Object.prototype.hasOwnProperty.call(k,d)&&(g[d]=k[d])}return g}).apply(this,arguments)}function p(g,m){return(p=Object.setPrototypeOf||function(k,d){return k.__proto__=d,k})(g,m)}var C=function(g){var m,k;function d(y,O){var F;return(F=g.call(this,y,O,"[audio-stream-controller]")||this).videoBuffer=null,F.videoTrackCC=-1,F.waitingVideoCC=-1,F.audioSwitch=!1,F.trackId=-1,F.waitingData=null,F.mainDetails=null,F.bufferFlushed=!1,F._registerListeners(),F}k=g,(m=d).prototype=Object.create(k.prototype),m.prototype.constructor=m,p(m,k);var w=d.prototype;return w.onHandlerDestroying=function(){this._unregisterListeners(),this.mainDetails=null},w._registerListeners=function(){var y=this.hls;y.on(T.Events.MEDIA_ATTACHED,this.onMediaAttached,this),y.on(T.Events.MEDIA_DETACHING,this.onMediaDetaching,this),y.on(T.Events.MANIFEST_LOADING,this.onManifestLoading,this),y.on(T.Events.LEVEL_LOADED,this.onLevelLoaded,this),y.on(T.Events.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),y.on(T.Events.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),y.on(T.Events.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),y.on(T.Events.ERROR,this.onError,this),y.on(T.Events.BUFFER_RESET,this.onBufferReset,this),y.on(T.Events.BUFFER_CREATED,this.onBufferCreated,this),y.on(T.Events.BUFFER_FLUSHED,this.onBufferFlushed,this),y.on(T.Events.INIT_PTS_FOUND,this.onInitPtsFound,this),y.on(T.Events.FRAG_BUFFERED,this.onFragBuffered,this)},w._unregisterListeners=function(){var y=this.hls;y.off(T.Events.MEDIA_ATTACHED,this.onMediaAttached,this),y.off(T.Events.MEDIA_DETACHING,this.onMediaDetaching,this),y.off(T.Events.MANIFEST_LOADING,this.onManifestLoading,this),y.off(T.Events.LEVEL_LOADED,this.onLevelLoaded,this),y.off(T.Events.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),y.off(T.Events.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),y.off(T.Events.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),y.off(T.Events.ERROR,this.onError,this),y.off(T.Events.BUFFER_RESET,this.onBufferReset,this),y.off(T.Events.BUFFER_CREATED,this.onBufferCreated,this),y.off(T.Events.BUFFER_FLUSHED,this.onBufferFlushed,this),y.off(T.Events.INIT_PTS_FOUND,this.onInitPtsFound,this),y.off(T.Events.FRAG_BUFFERED,this.onFragBuffered,this)},w.onInitPtsFound=function(y,O){var F=O.frag,B=O.id,M=O.initPTS;if(B==="main"){var j=F.cc;this.initPTS[F.cc]=M,this.log("InitPTS for cc: "+j+" found from main: "+M),this.videoTrackCC=j,this.state===h.State.WAITING_INIT_PTS&&this.tick()}},w.startLoad=function(y){if(!this.levels)return this.startPosition=y,void(this.state=h.State.STOPPED);var O=this.lastCurrentTime;this.stopLoad(),this.setInterval(100),this.fragLoadError=0,O>0&&y===-1?(this.log("Override startPosition with lastCurrentTime @"+O.toFixed(3)),this.state=h.State.IDLE):(this.loadedmetadata=!1,this.state=h.State.WAITING_TRACK),this.nextLoadPosition=this.startPosition=this.lastCurrentTime=y,this.tick()},w.doTick=function(){switch(this.state){case h.State.IDLE:this.doTickIdle();break;case h.State.WAITING_TRACK:var y,O=this.levels,F=this.trackId,B=O==null||(y=O[F])===null||y===void 0?void 0:y.details;if(B){if(this.waitForCdnTuneIn(B))break;this.state=h.State.WAITING_INIT_PTS}break;case h.State.FRAG_LOADING_WAITING_RETRY:var M,j=performance.now(),U=this.retryDate;(!U||j>=U||(M=this.media)!==null&&M!==void 0&&M.seeking)&&(this.log("RetryDate reached, switch back to IDLE state"),this.state=h.State.IDLE);break;case h.State.WAITING_INIT_PTS:var z=this.waitingData;if(z){var q=z.frag,Y=z.part,W=z.cache,J=z.complete;if(this.initPTS[q.cc]!==void 0){this.waitingData=null,this.waitingVideoCC=-1,this.state=h.State.FRAG_LOADING;var Z={frag:q,part:Y,payload:W.flush(),networkDetails:null};this._handleFragmentLoadProgress(Z),J&&g.prototype._handleFragmentLoadComplete.call(this,Z)}else if(this.videoTrackCC!==this.waitingVideoCC)f.logger.log("Waiting fragment cc ("+q.cc+") cancelled because video is at cc "+this.videoTrackCC),this.clearWaitingFragment();else{var ee=this.getLoadPosition(),le=P.BufferHelper.bufferInfo(this.mediaBuffer,ee,this.config.maxBufferHole);Object(S.fragmentWithinToleranceTest)(le.end,this.config.maxFragLookUpTolerance,q)<0&&(f.logger.log("Waiting fragment cc ("+q.cc+") @ "+q.start+" cancelled because another fragment at "+le.end+" is needed"),this.clearWaitingFragment())}}else this.state=h.State.IDLE}this.onTickEnd()},w.clearWaitingFragment=function(){var y=this.waitingData;y&&(this.fragmentTracker.removeFragment(y.frag),this.waitingData=null,this.waitingVideoCC=-1,this.state=h.State.IDLE)},w.onTickEnd=function(){var y=this.media;if(y&&y.readyState){var O=(this.mediaBuffer?this.mediaBuffer:y).buffered;!this.loadedmetadata&&O.length&&(this.loadedmetadata=!0),this.lastCurrentTime=y.currentTime}},w.doTickIdle=function(){var y,O,F=this.hls,B=this.levels,M=this.media,j=this.trackId,U=F.config;if(B&&B[j]&&(M||!this.startFragRequested&&U.startFragPrefetch)){var z=B[j].details;if(!z||z.live&&this.levelLastLoaded!==j||this.waitForCdnTuneIn(z))this.state=h.State.WAITING_TRACK;else{this.bufferFlushed&&(this.bufferFlushed=!1,this.afterBufferFlushed(this.mediaBuffer?this.mediaBuffer:this.media,_.ElementaryStreamTypes.AUDIO,x.PlaylistLevelType.AUDIO));var q=this.getFwdBufferInfo(this.mediaBuffer?this.mediaBuffer:this.media,x.PlaylistLevelType.AUDIO);if(q!==null){var Y=q.len,W=this.getMaxBufferLength(),J=this.audioSwitch;if(!(Y>=W)||J){if(!J&&this._streamEnded(q,z))return F.trigger(T.Events.BUFFER_EOS,{type:"audio"}),void(this.state=h.State.ENDED);var Z=z.fragments[0].start,ee=q.end;if(J){var le=this.getLoadPosition();ee=le,z.PTSKnown&&le<Z&&(q.end>Z||q.nextStart)&&(this.log("Alt audio track ahead of main track, seek to start of alt audio track"),M.currentTime=Z+.05)}var ue=this.getNextFragment(ee,z);ue?((y=ue.decryptdata)===null||y===void 0?void 0:y.keyFormat)!=="identity"||(O=ue.decryptdata)!==null&&O!==void 0&&O.key?this.loadFragment(ue,z,ee):this.loadKey(ue,z):this.bufferFlushed=!0}}}}},w.getMaxBufferLength=function(){var y=g.prototype.getMaxBufferLength.call(this),O=this.getFwdBufferInfo(this.videoBuffer?this.videoBuffer:this.media,x.PlaylistLevelType.MAIN);return O===null?y:Math.max(y,O.len)},w.onMediaDetaching=function(){this.videoBuffer=null,g.prototype.onMediaDetaching.call(this)},w.onAudioTracksUpdated=function(y,O){var F=O.audioTracks;this.resetTransmuxer(),this.levels=F.map(function(B){return new A.Level(B)})},w.onAudioTrackSwitching=function(y,O){var F=!!O.url;this.trackId=O.id;var B=this.fragCurrent;B!=null&&B.loader&&B.loader.abort(),this.fragCurrent=null,this.clearWaitingFragment(),F?this.setInterval(100):this.resetTransmuxer(),F?(this.audioSwitch=!0,this.state=h.State.IDLE):this.state=h.State.STOPPED,this.tick()},w.onManifestLoading=function(){this.mainDetails=null,this.fragmentTracker.removeAllFragments(),this.startPosition=this.lastCurrentTime=0,this.bufferFlushed=!1},w.onLevelLoaded=function(y,O){this.mainDetails=O.details},w.onAudioTrackLoaded=function(y,O){var F,B=this.levels,M=O.details,j=O.id;if(B){this.log("Track "+j+" loaded ["+M.startSN+","+M.endSN+"],duration:"+M.totalduration);var U=B[j],z=0;if(M.live||(F=U.details)!==null&&F!==void 0&&F.live){var q=this.mainDetails;if(M.fragments[0]||(M.deltaUpdateFailed=!0),M.deltaUpdateFailed||!q)return;!U.details&&M.hasProgramDateTime&&q.hasProgramDateTime?(Object(c.alignMediaPlaylistByPDT)(M,q),z=M.fragments[0].start):z=this.alignPlaylists(M,U.details)}U.details=M,this.levelLastLoaded=j,this.startFragRequested||!this.mainDetails&&M.live||this.setStartPosition(U.details,z),this.state!==h.State.WAITING_TRACK||this.waitForCdnTuneIn(M)||(this.state=h.State.IDLE),this.tick()}else this.warn("Audio tracks were reset while loading level "+j)},w._handleFragmentLoadProgress=function(y){var O,F=y.frag,B=y.part,M=y.payload,j=this.config,U=this.trackId,z=this.levels;if(z){var q=z[U];console.assert(q,"Audio track is defined on fragment load progress");var Y=q.details;console.assert(Y,"Audio track details are defined on fragment load progress");var W=j.defaultAudioCodec||q.audioCodec||"mp4a.40.2",J=this.transmuxer;J||(J=this.transmuxer=new D.default(this.hls,x.PlaylistLevelType.AUDIO,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)));var Z=this.initPTS[F.cc],ee=(O=F.initSegment)===null||O===void 0?void 0:O.data;if(Z!==void 0){var le=B?B.index:-1,ue=le!==-1,fe=new L.ChunkMetadata(F.level,F.sn,F.stats.chunkCount,M.byteLength,le,ue);J.push(M,ee,W,"",F,B,Y.totalduration,!1,fe,Z)}else f.logger.log("Unknown video PTS for cc "+F.cc+", waiting for video PTS before demuxing audio frag "+F.sn+" of ["+Y.startSN+" ,"+Y.endSN+"],track "+U),(this.waitingData=this.waitingData||{frag:F,part:B,cache:new b.default,complete:!1}).cache.push(new Uint8Array(M)),this.waitingVideoCC=this.videoTrackCC,this.state=h.State.WAITING_INIT_PTS}else this.warn("Audio tracks were reset while fragment load was in progress. Fragment "+F.sn+" of level "+F.level+" will not be buffered")},w._handleFragmentLoadComplete=function(y){this.waitingData?this.waitingData.complete=!0:g.prototype._handleFragmentLoadComplete.call(this,y)},w.onBufferReset=function(){this.mediaBuffer=this.videoBuffer=null,this.loadedmetadata=!1},w.onBufferCreated=function(y,O){var F=O.tracks.audio;F&&(this.mediaBuffer=F.buffer),O.tracks.video&&(this.videoBuffer=O.tracks.video.buffer)},w.onFragBuffered=function(y,O){var F=O.frag,B=O.part;F.type===x.PlaylistLevelType.AUDIO&&(this.fragContextChanged(F)?this.warn("Fragment "+F.sn+(B?" p: "+B.index:"")+" of level "+F.level+" finished buffering, but was aborted. state: "+this.state+", audioSwitch: "+this.audioSwitch):(F.sn!=="initSegment"&&(this.fragPrevious=F,this.audioSwitch&&(this.audioSwitch=!1,this.hls.trigger(T.Events.AUDIO_TRACK_SWITCHED,{id:this.trackId}))),this.fragBufferedComplete(F,B)))},w.onError=function(y,O){switch(O.details){case u.ErrorDetails.FRAG_LOAD_ERROR:case u.ErrorDetails.FRAG_LOAD_TIMEOUT:case u.ErrorDetails.KEY_LOAD_ERROR:case u.ErrorDetails.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(x.PlaylistLevelType.AUDIO,O);break;case u.ErrorDetails.AUDIO_TRACK_LOAD_ERROR:case u.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT:this.state!==h.State.ERROR&&this.state!==h.State.STOPPED&&(this.state=O.fatal?h.State.ERROR:h.State.IDLE,this.warn(O.details+" while loading frag, switching to "+this.state+" state"));break;case u.ErrorDetails.BUFFER_FULL_ERROR:if(O.parent==="audio"&&(this.state===h.State.PARSING||this.state===h.State.PARSED)){var F=!0,B=this.getFwdBufferInfo(this.mediaBuffer,x.PlaylistLevelType.AUDIO);B&&B.len>.5&&(F=!this.reduceMaxBufferLength(B.len)),F&&(this.warn("Buffer full error also media.currentTime is not buffered, flush audio buffer"),this.fragCurrent=null,g.prototype.flushMainBuffer.call(this,0,Number.POSITIVE_INFINITY,"audio")),this.resetLoadingState()}}},w.onBufferFlushed=function(y,O){O.type===_.ElementaryStreamTypes.AUDIO&&(this.bufferFlushed=!0)},w._handleTransmuxComplete=function(y){var O,F="audio",B=this.hls,M=y.remuxResult,j=y.chunkMeta,U=this.getCurrentContext(j);if(!U)return this.warn("The loading context changed while buffering fragment "+j.sn+" of level "+j.level+". This chunk will not be buffered."),void this.resetLiveStartWhenNotLoaded(j.level);var z=U.frag,q=U.part,Y=M.audio,W=M.text,J=M.id3,Z=M.initSegment;if(!this.fragContextChanged(z)){if(this.state=h.State.PARSING,this.audioSwitch&&Y&&this.completeAudioSwitch(),Z!=null&&Z.tracks&&(this._bufferInitSegment(Z.tracks,z,j),B.trigger(T.Events.FRAG_PARSING_INIT_SEGMENT,{frag:z,id:F,tracks:Z.tracks})),Y){var ee=Y.startPTS,le=Y.endPTS,ue=Y.startDTS,fe=Y.endDTS;q&&(q.elementaryStreams[_.ElementaryStreamTypes.AUDIO]={startPTS:ee,endPTS:le,startDTS:ue,endDTS:fe}),z.setElementaryStreamInfo(_.ElementaryStreamTypes.AUDIO,ee,le,ue,fe),this.bufferFragmentData(Y,z,q,j)}if(J!=null&&(O=J.samples)!==null&&O!==void 0&&O.length){var ve=r({frag:z,id:F},J);B.trigger(T.Events.FRAG_PARSING_METADATA,ve)}if(W){var be=r({frag:z,id:F},W);B.trigger(T.Events.FRAG_PARSING_USERDATA,be)}}},w._bufferInitSegment=function(y,O,F){if(this.state===h.State.PARSING){y.video&&delete y.video;var B=y.audio;if(B){B.levelCodec=B.codec,B.id="audio",this.log("Init audio buffer, container:"+B.container+", codecs[parsed]=["+B.codec+"]"),this.hls.trigger(T.Events.BUFFER_CODECS,y);var M=B.initSegment;if(M!=null&&M.byteLength){var j={type:"audio",frag:O,part:null,chunkMeta:F,parent:O.type,data:M};this.hls.trigger(T.Events.BUFFER_APPENDING,j)}this.tick()}}},w.loadFragment=function(y,O,F){var B=this.fragmentTracker.getState(y);this.fragCurrent=y,(this.audioSwitch||B===I.FragmentState.NOT_LOADED||B===I.FragmentState.PARTIAL)&&(y.sn==="initSegment"?this._loadInitSegment(y):O.live&&!Object(v.isFiniteNumber)(this.initPTS[y.cc])?(this.log("Waiting for video PTS in continuity counter "+y.cc+" of live stream before loading audio fragment "+y.sn+" of level "+this.trackId),this.state=h.State.WAITING_INIT_PTS):(this.startFragRequested=!0,g.prototype.loadFragment.call(this,y,O,F)))},w.completeAudioSwitch=function(){var y=this.hls,O=this.media,F=this.trackId;O&&(this.log("Switching audio track : flushing all audio"),g.prototype.flushMainBuffer.call(this,0,Number.POSITIVE_INFINITY,"audio")),this.audioSwitch=!1,y.trigger(T.Events.AUDIO_TRACK_SWITCHED,{id:F})},d}(h.default);l.default=C},"./src/controller/audio-track-controller.ts":function(o,l,a){a.r(l);var v=a("./src/events.ts"),h=a("./src/errors.ts"),T=a("./src/controller/base-playlist-controller.ts"),P=a("./src/types/loader.ts");function I(_,b){for(var D=0;D<b.length;D++){var L=b[D];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(_,L.key,L)}}function A(_,b){return(A=Object.setPrototypeOf||function(D,L){return D.__proto__=L,D})(_,b)}var x=function(_){var b,D;function L(f){var r;return(r=_.call(this,f,"[audio-track-controller]")||this).tracks=[],r.groupId=null,r.tracksInGroup=[],r.trackId=-1,r.trackName="",r.selectDefaultTrack=!0,r.registerListeners(),r}D=_,(b=L).prototype=Object.create(D.prototype),b.prototype.constructor=b,A(b,D);var S,c,u=L.prototype;return u.registerListeners=function(){var f=this.hls;f.on(v.Events.MANIFEST_LOADING,this.onManifestLoading,this),f.on(v.Events.MANIFEST_PARSED,this.onManifestParsed,this),f.on(v.Events.LEVEL_LOADING,this.onLevelLoading,this),f.on(v.Events.LEVEL_SWITCHING,this.onLevelSwitching,this),f.on(v.Events.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),f.on(v.Events.ERROR,this.onError,this)},u.unregisterListeners=function(){var f=this.hls;f.off(v.Events.MANIFEST_LOADING,this.onManifestLoading,this),f.off(v.Events.MANIFEST_PARSED,this.onManifestParsed,this),f.off(v.Events.LEVEL_LOADING,this.onLevelLoading,this),f.off(v.Events.LEVEL_SWITCHING,this.onLevelSwitching,this),f.off(v.Events.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),f.off(v.Events.ERROR,this.onError,this)},u.destroy=function(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,_.prototype.destroy.call(this)},u.onManifestLoading=function(){this.tracks=[],this.groupId=null,this.tracksInGroup=[],this.trackId=-1,this.trackName="",this.selectDefaultTrack=!0},u.onManifestParsed=function(f,r){this.tracks=r.audioTracks||[]},u.onAudioTrackLoaded=function(f,r){var p=r.id,C=r.details,g=this.tracksInGroup[p];if(g){var m=g.details;g.details=r.details,this.log("audioTrack "+p+" loaded ["+C.startSN+"-"+C.endSN+"]"),p===this.trackId&&(this.retryCount=0,this.playlistLoaded(p,r,m))}else this.warn("Invalid audio track id "+p)},u.onLevelLoading=function(f,r){this.switchLevel(r.level)},u.onLevelSwitching=function(f,r){this.switchLevel(r.level)},u.switchLevel=function(f){var r=this.hls.levels[f];if(r!=null&&r.audioGroupIds){var p=r.audioGroupIds[r.urlId];if(this.groupId!==p){this.groupId=p;var C=this.tracks.filter(function(m){return!p||m.groupId===p});this.selectDefaultTrack&&!C.some(function(m){return m.default})&&(this.selectDefaultTrack=!1),this.tracksInGroup=C;var g={audioTracks:C};this.log("Updating audio tracks, "+C.length+' track(s) found in "'+p+'" group-id'),this.hls.trigger(v.Events.AUDIO_TRACKS_UPDATED,g),this.selectInitialTrack()}}},u.onError=function(f,r){_.prototype.onError.call(this,f,r),!r.fatal&&r.context&&r.context.type===P.PlaylistContextType.AUDIO_TRACK&&r.context.id===this.trackId&&r.context.groupId===this.groupId&&this.retryLoadingOrFail(r)},u.setAudioTrack=function(f){var r=this.tracksInGroup;if(f<0||f>=r.length)this.warn("Invalid id passed to audio-track controller");else{this.clearTimer();var p=r[this.trackId];this.log("Now switching to audio-track index "+f);var C=r[f],g=C.id,m=C.groupId,k=m===void 0?"":m,d=C.name,w=C.type,y=C.url;if(this.trackId=f,this.trackName=d,this.selectDefaultTrack=!1,this.hls.trigger(v.Events.AUDIO_TRACK_SWITCHING,{id:g,groupId:k,name:d,type:w,url:y}),!C.details||C.details.live){var O=this.switchParams(C.url,p==null?void 0:p.details);this.loadPlaylist(O)}}},u.selectInitialTrack=function(){var f=this.tracksInGroup;console.assert(f.length,"Initial audio track should be selected when tracks are known");var r=this.trackName,p=this.findTrackId(r)||this.findTrackId();p!==-1?this.setAudioTrack(p):(this.warn("No track found for running audio group-ID: "+this.groupId),this.hls.trigger(v.Events.ERROR,{type:h.ErrorTypes.MEDIA_ERROR,details:h.ErrorDetails.AUDIO_TRACK_LOAD_ERROR,fatal:!0}))},u.findTrackId=function(f){for(var r=this.tracksInGroup,p=0;p<r.length;p++){var C=r[p];if((!this.selectDefaultTrack||C.default)&&(!f||f===C.name))return C.id}return-1},u.loadPlaylist=function(f){var r=this.tracksInGroup[this.trackId];if(this.shouldLoadTrack(r)){var p=r.id,C=r.groupId,g=r.url;if(f)try{g=f.addDirectives(g)}catch(m){this.warn("Could not construct new URL with HLS Delivery Directives: "+m)}this.log("loading audio-track playlist for id: "+p),this.clearTimer(),this.hls.trigger(v.Events.AUDIO_TRACK_LOADING,{url:g,id:p,groupId:C,deliveryDirectives:f||null})}},S=L,(c=[{key:"audioTracks",get:function(){return this.tracksInGroup}},{key:"audioTrack",get:function(){return this.trackId},set:function(f){this.selectDefaultTrack=!1,this.setAudioTrack(f)}}])&&I(S.prototype,c),L}(T.default);l.default=x},"./src/controller/base-playlist-controller.ts":function(o,l,a){a.r(l),a.d(l,"default",function(){return A});var v=a("./src/polyfills/number.ts"),h=a("./src/types/level.ts"),T=a("./src/controller/level-helper.ts"),P=a("./src/utils/logger.ts"),I=a("./src/errors.ts"),A=function(){function x(b,D){this.hls=void 0,this.timer=-1,this.canLoad=!1,this.retryCount=0,this.log=void 0,this.warn=void 0,this.log=P.logger.log.bind(P.logger,D+":"),this.warn=P.logger.warn.bind(P.logger,D+":"),this.hls=b}var _=x.prototype;return _.destroy=function(){this.clearTimer(),this.hls=this.log=this.warn=null},_.onError=function(b,D){D.fatal&&D.type===I.ErrorTypes.NETWORK_ERROR&&this.clearTimer()},_.clearTimer=function(){clearTimeout(this.timer),this.timer=-1},_.startLoad=function(){this.canLoad=!0,this.retryCount=0,this.loadPlaylist()},_.stopLoad=function(){this.canLoad=!1,this.clearTimer()},_.switchParams=function(b,D){var L=D==null?void 0:D.renditionReports;if(L)for(var S=0;S<L.length;S++){var c=L[S],u=""+c.URI;if(u===b.substr(-u.length)){var f=parseInt(c["LAST-MSN"]),r=parseInt(c["LAST-PART"]);if(D&&this.hls.config.lowLatencyMode){var p=Math.min(D.age-D.partTarget,D.targetduration);r!==void 0&&p>D.partTarget&&(r+=1)}if(Object(v.isFiniteNumber)(f))return new h.HlsUrlParameters(f,Object(v.isFiniteNumber)(r)?r:void 0,h.HlsSkip.No)}}},_.loadPlaylist=function(b){},_.shouldLoadTrack=function(b){return this.canLoad&&b&&!!b.url&&(!b.details||b.details.live)},_.playlistLoaded=function(b,D,L){var S=this,c=D.details,u=D.stats,f=u.loading.end?Math.max(0,self.performance.now()-u.loading.end):0;if(c.advancedDateTime=Date.now()-f,c.live||L!=null&&L.live){if(c.reloaded(L),L&&this.log("live playlist "+b+" "+(c.advanced?"REFRESHED "+c.lastPartSn+"-"+c.lastPartIndex:"MISSED")),L&&c.fragments.length>0&&Object(T.mergeDetails)(L,c),!this.canLoad||!c.live)return;var r,p=void 0,C=void 0;if(c.canBlockReload&&c.endSN&&c.advanced){var g=this.hls.config.lowLatencyMode,m=c.lastPartSn,k=c.endSN,d=c.lastPartIndex,w=m===k;d!==-1?(p=w?k+1:m,C=w?g?0:d:d+1):p=k+1;var y=c.age,O=y+c.ageHeader,F=Math.min(O-c.partTarget,1.5*c.targetduration);if(F>0){if(L&&F>L.tuneInGoal)this.warn("CDN Tune-in goal increased from: "+L.tuneInGoal+" to: "+F+" with playlist age: "+c.age),F=0;else{var B=Math.floor(F/c.targetduration);p+=B,C!==void 0&&(C+=Math.round(F%c.targetduration/c.partTarget)),this.log("CDN Tune-in age: "+c.ageHeader+"s last advanced "+y.toFixed(2)+"s goal: "+F+" skip sn "+B+" to part "+C)}c.tuneInGoal=F}if(r=this.getDeliveryDirectives(c,D.deliveryDirectives,p,C),g||!w)return void this.loadPlaylist(r)}else r=this.getDeliveryDirectives(c,D.deliveryDirectives,p,C);var M=Object(T.computeReloadInterval)(c,u);p!==void 0&&c.canBlockReload&&(M-=c.partTarget||1),this.log("reload live playlist "+b+" in "+Math.round(M)+" ms"),this.timer=self.setTimeout(function(){return S.loadPlaylist(r)},M)}else this.clearTimer()},_.getDeliveryDirectives=function(b,D,L,S){var c=Object(h.getSkipValue)(b,L);return D!=null&&D.skip&&b.deltaUpdateFailed&&(L=D.msn,S=D.part,c=h.HlsSkip.No),new h.HlsUrlParameters(L,S,c)},_.retryLoadingOrFail=function(b){var D,L=this,S=this.hls.config,c=this.retryCount<S.levelLoadingMaxRetry;if(c)if(this.retryCount++,b.details.indexOf("LoadTimeOut")>-1&&(D=b.context)!==null&&D!==void 0&&D.deliveryDirectives)this.warn("retry playlist loading #"+this.retryCount+' after "'+b.details+'"'),this.loadPlaylist();else{var u=Math.min(Math.pow(2,this.retryCount)*S.levelLoadingRetryDelay,S.levelLoadingMaxRetryTimeout);this.timer=self.setTimeout(function(){return L.loadPlaylist()},u),this.warn("retry playlist loading #"+this.retryCount+" in "+u+' ms after "'+b.details+'"')}else this.warn('cannot recover from error "'+b.details+'"'),this.clearTimer(),b.fatal=!0;return c},x}()},"./src/controller/base-stream-controller.ts":function(o,l,a){a.r(l),a.d(l,"State",function(){return g}),a.d(l,"default",function(){return m});var v=a("./src/polyfills/number.ts"),h=a("./src/task-loop.ts"),T=a("./src/controller/fragment-tracker.ts"),P=a("./src/utils/buffer-helper.ts"),I=a("./src/utils/logger.ts"),A=a("./src/events.ts"),x=a("./src/errors.ts"),_=a("./src/types/transmuxer.ts"),b=a("./src/utils/mp4-tools.ts"),D=a("./src/utils/discontinuities.ts"),L=a("./src/controller/fragment-finders.ts"),S=a("./src/controller/level-helper.ts"),c=a("./src/loader/fragment-loader.ts"),u=a("./src/crypt/decrypter.ts"),f=a("./src/utils/time-ranges.ts"),r=a("./src/types/loader.ts");function p(k,d){for(var w=0;w<d.length;w++){var y=d[w];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(k,y.key,y)}}function C(k,d){return(C=Object.setPrototypeOf||function(w,y){return w.__proto__=y,w})(k,d)}var g={STOPPED:"STOPPED",IDLE:"IDLE",KEY_LOADING:"KEY_LOADING",FRAG_LOADING:"FRAG_LOADING",FRAG_LOADING_WAITING_RETRY:"FRAG_LOADING_WAITING_RETRY",WAITING_TRACK:"WAITING_TRACK",PARSING:"PARSING",PARSED:"PARSED",BACKTRACKING:"BACKTRACKING",ENDED:"ENDED",ERROR:"ERROR",WAITING_INIT_PTS:"WAITING_INIT_PTS",WAITING_LEVEL:"WAITING_LEVEL"},m=function(k){var d,w;function y(M,j,U){var z;return(z=k.call(this)||this).hls=void 0,z.fragPrevious=null,z.fragCurrent=null,z.fragmentTracker=void 0,z.transmuxer=null,z._state=g.STOPPED,z.media=void 0,z.mediaBuffer=void 0,z.config=void 0,z.bitrateTest=!1,z.lastCurrentTime=0,z.nextLoadPosition=0,z.startPosition=0,z.loadedmetadata=!1,z.fragLoadError=0,z.retryDate=0,z.levels=null,z.fragmentLoader=void 0,z.levelLastLoaded=null,z.startFragRequested=!1,z.decrypter=void 0,z.initPTS=[],z.onvseeking=null,z.onvended=null,z.logPrefix="",z.log=void 0,z.warn=void 0,z.logPrefix=U,z.log=I.logger.log.bind(I.logger,U+":"),z.warn=I.logger.warn.bind(I.logger,U+":"),z.hls=M,z.fragmentLoader=new c.default(M.config),z.fragmentTracker=j,z.config=M.config,z.decrypter=new u.default(M,M.config),M.on(A.Events.KEY_LOADED,z.onKeyLoaded,function(q){if(q===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return q}(z)),z}w=k,(d=y).prototype=Object.create(w.prototype),d.prototype.constructor=d,C(d,w);var O,F,B=y.prototype;return B.doTick=function(){this.onTickEnd()},B.onTickEnd=function(){},B.startLoad=function(M){},B.stopLoad=function(){this.fragmentLoader.abort();var M=this.fragCurrent;M&&this.fragmentTracker.removeFragment(M),this.resetTransmuxer(),this.fragCurrent=null,this.fragPrevious=null,this.clearInterval(),this.clearNextTick(),this.state=g.STOPPED},B._streamEnded=function(M,j){var U=this.fragCurrent,z=this.fragmentTracker;if(!j.live&&U&&U.sn===j.endSN&&!M.nextStart){var q=z.getState(U);return q===T.FragmentState.PARTIAL||q===T.FragmentState.OK}return!1},B.onMediaAttached=function(M,j){var U=this.media=this.mediaBuffer=j.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvended=this.onMediaEnded.bind(this),U.addEventListener("seeking",this.onvseeking),U.addEventListener("ended",this.onvended);var z=this.config;this.levels&&z.autoStartLoad&&this.state===g.STOPPED&&this.startLoad(z.startPosition)},B.onMediaDetaching=function(){var M=this.media;M!=null&&M.ended&&(this.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0),M&&(M.removeEventListener("seeking",this.onvseeking),M.removeEventListener("ended",this.onvended),this.onvseeking=this.onvended=null),this.media=this.mediaBuffer=null,this.loadedmetadata=!1,this.fragmentTracker.removeAllFragments(),this.stopLoad()},B.onMediaSeeking=function(){var M=this.config,j=this.fragCurrent,U=this.media,z=this.mediaBuffer,q=this.state,Y=U?U.currentTime:0,W=P.BufferHelper.bufferInfo(z||U,Y,M.maxBufferHole);if(this.log("media seeking to "+(Object(v.isFiniteNumber)(Y)?Y.toFixed(3):Y)+", state: "+q),q===g.ENDED)this.resetLoadingState();else if(j&&!W.len){var J=M.maxFragLookUpTolerance,Z=j.start-J,ee=Y>j.start+j.duration+J;(Y<Z||ee)&&(ee&&j.loader&&(this.log("seeking outside of buffer while fragment load in progress, cancel fragment load"),j.loader.abort()),this.resetLoadingState())}U&&(this.lastCurrentTime=Y),this.loadedmetadata||W.len||(this.nextLoadPosition=this.startPosition=Y),this.tickImmediate()},B.onMediaEnded=function(){this.startPosition=this.lastCurrentTime=0},B.onKeyLoaded=function(M,j){if(this.state===g.KEY_LOADING&&j.frag===this.fragCurrent&&this.levels){this.state=g.IDLE;var U=this.levels[j.frag.level].details;U&&this.loadFragment(j.frag,U,j.frag.start)}},B.onHandlerDestroying=function(){this.stopLoad(),k.prototype.onHandlerDestroying.call(this)},B.onHandlerDestroyed=function(){this.state=g.STOPPED,this.hls.off(A.Events.KEY_LOADED,this.onKeyLoaded,this),this.fragmentLoader&&this.fragmentLoader.destroy(),this.decrypter&&this.decrypter.destroy(),this.hls=this.log=this.warn=this.decrypter=this.fragmentLoader=this.fragmentTracker=null,k.prototype.onHandlerDestroyed.call(this)},B.loadKey=function(M,j){this.log("Loading key for "+M.sn+" of ["+j.startSN+"-"+j.endSN+"], "+(this.logPrefix==="[stream-controller]"?"level":"track")+" "+M.level),this.state=g.KEY_LOADING,this.fragCurrent=M,this.hls.trigger(A.Events.KEY_LOADING,{frag:M})},B.loadFragment=function(M,j,U){this._loadFragForPlayback(M,j,U)},B._loadFragForPlayback=function(M,j,U){var z=this;this._doFragLoad(M,j,U,function(q){if(z.fragContextChanged(M))return z.warn("Fragment "+M.sn+(q.part?" p: "+q.part.index:"")+" of level "+M.level+" was dropped during download."),void z.fragmentTracker.removeFragment(M);M.stats.chunkCount++,z._handleFragmentLoadProgress(q)}).then(function(q){if(q){z.fragLoadError=0;var Y=z.state;if(!z.fragContextChanged(M))return"payload"in q&&(z.log("Loaded fragment "+M.sn+" of level "+M.level),z.hls.trigger(A.Events.FRAG_LOADED,q),z.state===g.BACKTRACKING)?(z.fragmentTracker.backtrack(M,q),void z.resetFragmentLoading(M)):void z._handleFragmentLoadComplete(q);(Y===g.FRAG_LOADING||Y===g.BACKTRACKING||!z.fragCurrent&&Y===g.PARSING)&&(z.fragmentTracker.removeFragment(M),z.state=g.IDLE)}}).catch(function(q){z.warn(q),z.resetFragmentLoading(M)})},B.flushMainBuffer=function(M,j,U){if(U===void 0&&(U=null),M-j){var z={startOffset:M,endOffset:j,type:U};this.fragLoadError=0,this.hls.trigger(A.Events.BUFFER_FLUSHING,z)}},B._loadInitSegment=function(M){var j=this;this._doFragLoad(M).then(function(U){if(!U||j.fragContextChanged(M)||!j.levels)throw new Error("init load aborted");return U}).then(function(U){var z=j.hls,q=U.payload,Y=M.decryptdata;if(q&&q.byteLength>0&&Y&&Y.key&&Y.iv&&Y.method==="AES-128"){var W=self.performance.now();return j.decrypter.webCryptoDecrypt(new Uint8Array(q),Y.key.buffer,Y.iv.buffer).then(function(J){var Z=self.performance.now();return z.trigger(A.Events.FRAG_DECRYPTED,{frag:M,payload:J,stats:{tstart:W,tdecrypt:Z}}),U.payload=J,U})}return U}).then(function(U){var z=j.fragCurrent,q=j.hls,Y=j.levels;if(!Y)throw new Error("init load aborted, missing levels");var W=Y[M.level].details;console.assert(W,"Level details are defined when init segment is loaded");var J=M.stats;j.state=g.IDLE,j.fragLoadError=0,M.data=new Uint8Array(U.payload),J.parsing.start=J.buffering.start=self.performance.now(),J.parsing.end=J.buffering.end=self.performance.now(),U.frag===z&&q.trigger(A.Events.FRAG_BUFFERED,{stats:J,frag:z,part:null,id:M.type}),j.tick()}).catch(function(U){j.warn(U),j.resetFragmentLoading(M)})},B.fragContextChanged=function(M){var j=this.fragCurrent;return!M||!j||M.level!==j.level||M.sn!==j.sn||M.urlId!==j.urlId},B.fragBufferedComplete=function(M,j){var U=this.mediaBuffer?this.mediaBuffer:this.media;this.log("Buffered "+M.type+" sn: "+M.sn+(j?" part: "+j.index:"")+" of "+(this.logPrefix==="[stream-controller]"?"level":"track")+" "+M.level+" "+f.default.toString(P.BufferHelper.getBuffered(U))),this.state=g.IDLE,this.tick()},B._handleFragmentLoadComplete=function(M){var j=this.transmuxer;if(j){var U=M.frag,z=M.part,q=M.partsLoaded,Y=!q||q.length===0||q.some(function(J){return!J}),W=new _.ChunkMetadata(U.level,U.sn,U.stats.chunkCount+1,0,z?z.index:-1,!Y);j.flush(W)}},B._handleFragmentLoadProgress=function(M){},B._doFragLoad=function(M,j,U,z){var q=this;if(U===void 0&&(U=null),!this.levels)throw new Error("frag load aborted, missing levels");if(U=Math.max(M.start,U||0),this.config.lowLatencyMode&&j){var Y=j.partList;if(Y&&z){U>M.end&&j.fragmentHint&&(M=j.fragmentHint);var W=this.getNextPart(Y,M,U);if(W>-1){var J=Y[W];return this.log("Loading part sn: "+M.sn+" p: "+J.index+" cc: "+M.cc+" of playlist ["+j.startSN+"-"+j.endSN+"] parts [0-"+W+"-"+(Y.length-1)+"] "+(this.logPrefix==="[stream-controller]"?"level":"track")+": "+M.level+", target: "+parseFloat(U.toFixed(3))),this.nextLoadPosition=J.start+J.duration,this.state=g.FRAG_LOADING,this.hls.trigger(A.Events.FRAG_LOADING,{frag:M,part:Y[W],targetBufferTime:U}),this.doFragPartsLoad(M,Y,W,z).catch(function(Z){return q.handleFragLoadError(Z)})}if(!M.url||this.loadedEndOfParts(Y,U))return Promise.resolve(null)}}return this.log("Loading fragment "+M.sn+" cc: "+M.cc+" "+(j?"of ["+j.startSN+"-"+j.endSN+"] ":"")+(this.logPrefix==="[stream-controller]"?"level":"track")+": "+M.level+", target: "+parseFloat(U.toFixed(3))),Object(v.isFiniteNumber)(M.sn)&&!this.bitrateTest&&(this.nextLoadPosition=M.start+M.duration),this.state=g.FRAG_LOADING,this.hls.trigger(A.Events.FRAG_LOADING,{frag:M,targetBufferTime:U}),this.fragmentLoader.load(M,z).catch(function(Z){return q.handleFragLoadError(Z)})},B.doFragPartsLoad=function(M,j,U,z){var q=this;return new Promise(function(Y,W){var J=[];(function Z(ee){var le=j[ee];q.fragmentLoader.loadPart(M,le,z).then(function(ue){J[le.index]=ue;var fe=ue.part;q.hls.trigger(A.Events.FRAG_LOADED,ue);var ve=j[ee+1];if(!ve||ve.fragment!==M)return Y({frag:M,part:fe,partsLoaded:J});Z(ee+1)}).catch(W)})(U)})},B.handleFragLoadError=function(M){var j=M.data;return j&&j.details===x.ErrorDetails.INTERNAL_ABORTED?this.handleFragLoadAborted(j.frag,j.part):this.hls.trigger(A.Events.ERROR,j),null},B._handleTransmuxerFlush=function(M){var j=this.getCurrentContext(M);if(j&&this.state===g.PARSING){var U=j.frag,z=j.part,q=j.level,Y=self.performance.now();U.stats.parsing.end=Y,z&&(z.stats.parsing.end=Y),this.updateLevelTiming(U,z,q,M.partial)}else this.fragCurrent||(this.state=g.IDLE)},B.getCurrentContext=function(M){var j=this.levels,U=M.level,z=M.sn,q=M.part;if(!j||!j[U])return this.warn("Levels object was unset while buffering fragment "+z+" of level "+U+". The current chunk will not be buffered."),null;var Y=j[U],W=q>-1?Object(S.getPartWith)(Y,z,q):null,J=W?W.fragment:Object(S.getFragmentWithSN)(Y,z,this.fragCurrent);return J?{frag:J,part:W,level:Y}:null},B.bufferFragmentData=function(M,j,U,z){if(M&&this.state===g.PARSING){var q=M.data1,Y=M.data2,W=q;if(q&&Y&&(W=Object(b.appendUint8Array)(q,Y)),W&&W.length){var J={type:M.type,frag:j,part:U,chunkMeta:z,parent:j.type,data:W};this.hls.trigger(A.Events.BUFFER_APPENDING,J),M.dropped&&M.independent&&!U&&this.flushBufferGap(j)}}},B.flushBufferGap=function(M){var j=this.media;if(j)if(P.BufferHelper.isBuffered(j,j.currentTime)){var U=j.currentTime,z=P.BufferHelper.bufferInfo(j,U,0),q=M.duration,Y=Math.min(2*this.config.maxFragLookUpTolerance,.25*q),W=Math.max(Math.min(M.start-Y,z.end-Y),U+Y);M.start-W>Y&&this.flushMainBuffer(W,M.start)}else this.flushMainBuffer(0,M.start)},B.getFwdBufferInfo=function(M,j){var U=this.config,z=this.getLoadPosition();if(!Object(v.isFiniteNumber)(z))return null;var q=P.BufferHelper.bufferInfo(M,z,U.maxBufferHole);if(q.len===0&&q.nextStart!==void 0){var Y=this.fragmentTracker.getBufferedFrag(z,j);if(Y&&q.nextStart<Y.end)return P.BufferHelper.bufferInfo(M,z,Math.max(q.nextStart,U.maxBufferHole))}return q},B.getMaxBufferLength=function(M){var j,U=this.config;return j=M?Math.max(8*U.maxBufferSize/M,U.maxBufferLength):U.maxBufferLength,Math.min(j,U.maxMaxBufferLength)},B.reduceMaxBufferLength=function(M){var j=this.config,U=M||j.maxBufferLength;return j.maxMaxBufferLength>=U&&(j.maxMaxBufferLength/=2,this.warn("Reduce max buffer length to "+j.maxMaxBufferLength+"s"),!0)},B.getNextFragment=function(M,j){var U,z,q=j.fragments,Y=q.length;if(!Y)return null;var W,J=this.config,Z=q[0].start;if(j.live){var ee=J.initialLiveManifestSize;if(Y<ee)return this.warn("Not enough fragments to start playback (have: "+Y+", need: "+ee+")"),null;j.PTSKnown||this.startFragRequested||this.startPosition!==-1||(W=this.getInitialLiveFragment(j,q),this.startPosition=W?this.hls.liveSyncPosition||W.start:M)}else M<=Z&&(W=q[0]);if(!W){var le=J.lowLatencyMode?j.partEnd:j.fragmentEnd;W=this.getFragmentAtPosition(M,le,j)}return(U=W)===null||U===void 0||!U.initSegment||(z=W)!==null&&z!==void 0&&z.initSegment.data||this.bitrateTest||(W=W.initSegment),W},B.getNextPart=function(M,j,U){for(var z=-1,q=!1,Y=!0,W=0,J=M.length;W<J;W++){var Z=M[W];if(Y=Y&&!Z.independent,z>-1&&U<Z.start)break;var ee=Z.loaded;!ee&&(q||Z.independent||Y)&&Z.fragment===j&&(z=W),q=ee}return z},B.loadedEndOfParts=function(M,j){var U=M[M.length-1];return U&&j>U.start&&U.loaded},B.getInitialLiveFragment=function(M,j){var U=this.fragPrevious,z=null;if(U){if(M.hasProgramDateTime&&(this.log("Live playlist, switching playlist, load frag with same PDT: "+U.programDateTime),z=Object(L.findFragmentByPDT)(j,U.endProgramDateTime,this.config.maxFragLookUpTolerance)),!z){var q=U.sn+1;if(q>=M.startSN&&q<=M.endSN){var Y=j[q-M.startSN];U.cc===Y.cc&&(z=Y,this.log("Live playlist, switching playlist, load frag with next SN: "+z.sn))}z||(z=Object(L.findFragWithCC)(j,U.cc))&&this.log("Live playlist, switching playlist, load frag with same CC: "+z.sn)}}else{var W=this.hls.liveSyncPosition;W!==null&&(z=this.getFragmentAtPosition(W,this.bitrateTest?M.fragmentEnd:M.edge,M))}return z},B.getFragmentAtPosition=function(M,j,U){var z,q=this.config,Y=this.fragPrevious,W=U.fragments,J=U.endSN,Z=U.fragmentHint,ee=q.maxFragLookUpTolerance,le=!!(q.lowLatencyMode&&U.partList&&Z);if(le&&Z&&!this.bitrateTest&&(W=W.concat(Z),J=Z.sn),M<j){var ue=M>j-ee?0:ee;z=Object(L.findFragmentByPTS)(Y,W,M,ue)}else z=W[W.length-1];if(z){var fe=z.sn-U.startSN,ve=Y&&z.level===Y.level,be=W[fe+1];if(this.fragmentTracker.getState(z)===T.FragmentState.BACKTRACKED){z=null;for(var we=fe;W[we]&&this.fragmentTracker.getState(W[we])===T.FragmentState.BACKTRACKED;)z=Y?W[we--]:W[--we];z||(z=be)}else Y&&z.sn===Y.sn&&!le&&ve&&(z.sn<J&&this.fragmentTracker.getState(be)!==T.FragmentState.OK?(this.log("SN "+z.sn+" just loaded, load next one: "+be.sn),z=be):z=null)}return z},B.synchronizeToLiveEdge=function(M){var j=this.config,U=this.media;if(U){var z=this.hls.liveSyncPosition,q=U.currentTime,Y=M.fragments[0].start,W=M.edge,J=q>=Y-j.maxFragLookUpTolerance&&q<=W;if(z!==null&&U.duration>z&&(q<z||!J)){var Z=j.liveMaxLatencyDuration!==void 0?j.liveMaxLatencyDuration:j.liveMaxLatencyDurationCount*M.targetduration;(!J&&U.readyState<4||q<W-Z)&&(this.loadedmetadata||(this.nextLoadPosition=z),U.readyState&&(this.warn("Playback: "+q.toFixed(3)+" is located too far from the end of live sliding playlist: "+W+", reset currentTime to : "+z.toFixed(3)),U.currentTime=z))}}},B.alignPlaylists=function(M,j){var U=this.levels,z=this.levelLastLoaded,q=this.fragPrevious,Y=z!==null?U[z]:null,W=M.fragments.length;if(!W)return this.warn("No fragments in live playlist"),0;var J=M.fragments[0].start,Z=!j,ee=M.alignedSliding&&Object(v.isFiniteNumber)(J);if(Z||!ee&&!J){Object(D.alignStream)(q,Y,M);var le=M.fragments[0].start;return this.log("Live playlist sliding: "+le.toFixed(2)+" start-sn: "+(j?j.startSN:"na")+"->"+M.startSN+" prev-sn: "+(q?q.sn:"na")+" fragments: "+W),le}return J},B.waitForCdnTuneIn=function(M){return M.live&&M.canBlockReload&&M.tuneInGoal>Math.max(M.partHoldBack,3*M.partTarget)},B.setStartPosition=function(M,j){var U=this.startPosition;if(U<j&&(U=-1),U===-1||this.lastCurrentTime===-1){var z=M.startTimeOffset;Object(v.isFiniteNumber)(z)?(U=j+z,z<0&&(U+=M.totalduration),U=Math.min(Math.max(j,U),j+M.totalduration),this.log("Start time offset "+z+" found in playlist, adjust startPosition to "+U),this.startPosition=U):M.live?U=this.hls.liveSyncPosition||j:this.startPosition=U=0,this.lastCurrentTime=U}this.nextLoadPosition=U},B.getLoadPosition=function(){var M=this.media,j=0;return this.loadedmetadata&&M?j=M.currentTime:this.nextLoadPosition&&(j=this.nextLoadPosition),j},B.handleFragLoadAborted=function(M,j){this.transmuxer&&M.sn!=="initSegment"&&M.stats.aborted&&(this.warn("Fragment "+M.sn+(j?" part"+j.index:"")+" of level "+M.level+" was aborted"),this.resetFragmentLoading(M))},B.resetFragmentLoading=function(M){this.fragCurrent&&this.fragContextChanged(M)||(this.state=g.IDLE)},B.onFragmentOrKeyLoadError=function(M,j){if(!j.fatal){var U=j.frag;if(U&&U.type===M){var z=this.fragCurrent;console.assert(z&&U.sn===z.sn&&U.level===z.level&&U.urlId===z.urlId,"Frag load error must match current frag to retry");var q=this.config;if(this.fragLoadError+1<=q.fragLoadingMaxRetry){if(this.resetLiveStartWhenNotLoaded(U.level))return;var Y=Math.min(Math.pow(2,this.fragLoadError)*q.fragLoadingRetryDelay,q.fragLoadingMaxRetryTimeout);this.warn("Fragment "+U.sn+" of "+M+" "+U.level+" failed to load, retrying in "+Y+"ms"),this.retryDate=self.performance.now()+Y,this.fragLoadError++,this.state=g.FRAG_LOADING_WAITING_RETRY}else j.levelRetry?(M===r.PlaylistLevelType.AUDIO&&(this.fragCurrent=null),this.fragLoadError=0,this.state=g.IDLE):(I.logger.error(j.details+" reaches max retry, redispatch as fatal ..."),j.fatal=!0,this.hls.stopLoad(),this.state=g.ERROR)}}},B.afterBufferFlushed=function(M,j,U){if(M){var z=P.BufferHelper.getBuffered(M);this.fragmentTracker.detectEvictedFragments(j,z,U),this.state===g.ENDED&&this.resetLoadingState()}},B.resetLoadingState=function(){this.fragCurrent=null,this.fragPrevious=null,this.state=g.IDLE},B.resetLiveStartWhenNotLoaded=function(M){if(!this.loadedmetadata){this.startFragRequested=!1;var j=this.levels?this.levels[M].details:null;if(j!=null&&j.live)return this.startPosition=-1,this.setStartPosition(j,0),this.resetLoadingState(),!0;this.nextLoadPosition=this.startPosition}return!1},B.updateLevelTiming=function(M,j,U,z){var q=this,Y=U.details;console.assert(!!Y,"level.details must be defined"),Object.keys(M.elementaryStreams).reduce(function(W,J){var Z=M.elementaryStreams[J];if(Z){var ee=Z.endPTS-Z.startPTS;if(ee<=0)return q.warn("Could not parse fragment "+M.sn+" "+J+" duration reliably ("+ee+") resetting transmuxer to fallback to playlist timing"),q.resetTransmuxer(),W||!1;var le=z?0:Object(S.updateFragPTSDTS)(Y,M,Z.startPTS,Z.endPTS,Z.startDTS,Z.endDTS);return q.hls.trigger(A.Events.LEVEL_PTS_UPDATED,{details:Y,level:U,drift:le,type:J,frag:M,start:Z.startPTS,end:Z.endPTS}),!0}return W},!1)?(this.state=g.PARSED,this.hls.trigger(A.Events.FRAG_PARSED,{frag:M,part:j})):this.resetLoadingState()},B.resetTransmuxer=function(){this.transmuxer&&(this.transmuxer.destroy(),this.transmuxer=null)},O=y,(F=[{key:"state",get:function(){return this._state},set:function(M){var j=this._state;j!==M&&(this._state=M,this.log(j+"->"+M))}}])&&p(O.prototype,F),y}(h.default)},"./src/controller/buffer-controller.ts":function(o,l,a){a.r(l),a.d(l,"default",function(){return L});var v=a("./src/polyfills/number.ts"),h=a("./src/events.ts"),T=a("./src/utils/logger.ts"),P=a("./src/errors.ts"),I=a("./src/utils/buffer-helper.ts"),A=a("./src/utils/mediasource-helper.ts"),x=a("./src/loader/fragment.ts"),_=a("./src/controller/buffer-operation-queue.ts"),b=Object(A.getMediaSource)(),D=/([ha]vc.)(?:\.[^.,]+)+/,L=function(){function S(u){var f=this;this.details=null,this._objectUrl=null,this.operationQueue=void 0,this.listeners=void 0,this.hls=void 0,this.bufferCodecEventsExpected=0,this._bufferCodecEventsTotal=0,this.media=null,this.mediaSource=null,this.appendError=0,this.tracks={},this.pendingTracks={},this.sourceBuffer=void 0,this._onMediaSourceOpen=function(){var r=f.hls,p=f.media,C=f.mediaSource;T.logger.log("[buffer-controller]: Media source opened"),p&&(f.updateMediaElementDuration(),r.trigger(h.Events.MEDIA_ATTACHED,{media:p})),C&&C.removeEventListener("sourceopen",f._onMediaSourceOpen),f.checkPendingTracks()},this._onMediaSourceClose=function(){T.logger.log("[buffer-controller]: Media source closed")},this._onMediaSourceEnded=function(){T.logger.log("[buffer-controller]: Media source ended")},this.hls=u,this._initSourceBuffer(),this.registerListeners()}var c=S.prototype;return c.hasSourceTypes=function(){return this.getSourceBufferTypes().length>0||Object.keys(this.pendingTracks).length>0},c.destroy=function(){this.unregisterListeners(),this.details=null},c.registerListeners=function(){var u=this.hls;u.on(h.Events.MEDIA_ATTACHING,this.onMediaAttaching,this),u.on(h.Events.MEDIA_DETACHING,this.onMediaDetaching,this),u.on(h.Events.MANIFEST_PARSED,this.onManifestParsed,this),u.on(h.Events.BUFFER_RESET,this.onBufferReset,this),u.on(h.Events.BUFFER_APPENDING,this.onBufferAppending,this),u.on(h.Events.BUFFER_CODECS,this.onBufferCodecs,this),u.on(h.Events.BUFFER_EOS,this.onBufferEos,this),u.on(h.Events.BUFFER_FLUSHING,this.onBufferFlushing,this),u.on(h.Events.LEVEL_UPDATED,this.onLevelUpdated,this),u.on(h.Events.FRAG_PARSED,this.onFragParsed,this),u.on(h.Events.FRAG_CHANGED,this.onFragChanged,this)},c.unregisterListeners=function(){var u=this.hls;u.off(h.Events.MEDIA_ATTACHING,this.onMediaAttaching,this),u.off(h.Events.MEDIA_DETACHING,this.onMediaDetaching,this),u.off(h.Events.MANIFEST_PARSED,this.onManifestParsed,this),u.off(h.Events.BUFFER_RESET,this.onBufferReset,this),u.off(h.Events.BUFFER_APPENDING,this.onBufferAppending,this),u.off(h.Events.BUFFER_CODECS,this.onBufferCodecs,this),u.off(h.Events.BUFFER_EOS,this.onBufferEos,this),u.off(h.Events.BUFFER_FLUSHING,this.onBufferFlushing,this),u.off(h.Events.LEVEL_UPDATED,this.onLevelUpdated,this),u.off(h.Events.FRAG_PARSED,this.onFragParsed,this),u.off(h.Events.FRAG_CHANGED,this.onFragChanged,this)},c._initSourceBuffer=function(){this.sourceBuffer={},this.operationQueue=new _.default(this.sourceBuffer),this.listeners={audio:[],video:[],audiovideo:[]}},c.onManifestParsed=function(u,f){var r=2;(f.audio&&!f.video||!f.altAudio)&&(r=1),this.bufferCodecEventsExpected=this._bufferCodecEventsTotal=r,this.details=null,T.logger.log(this.bufferCodecEventsExpected+" bufferCodec event(s) expected")},c.onMediaAttaching=function(u,f){var r=this.media=f.media;if(r&&b){var p=this.mediaSource=new b;p.addEventListener("sourceopen",this._onMediaSourceOpen),p.addEventListener("sourceended",this._onMediaSourceEnded),p.addEventListener("sourceclose",this._onMediaSourceClose),r.src=self.URL.createObjectURL(p),this._objectUrl=r.src}},c.onMediaDetaching=function(){var u=this.media,f=this.mediaSource,r=this._objectUrl;if(f){if(T.logger.log("[buffer-controller]: media source detaching"),f.readyState==="open")try{f.endOfStream()}catch(p){T.logger.warn("[buffer-controller]: onMediaDetaching: "+p.message+" while calling endOfStream")}this.onBufferReset(),f.removeEventListener("sourceopen",this._onMediaSourceOpen),f.removeEventListener("sourceended",this._onMediaSourceEnded),f.removeEventListener("sourceclose",this._onMediaSourceClose),u&&(r&&self.URL.revokeObjectURL(r),u.src===r?(u.removeAttribute("src"),u.load()):T.logger.warn("[buffer-controller]: media.src was changed by a third party - skip cleanup")),this.mediaSource=null,this.media=null,this._objectUrl=null,this.bufferCodecEventsExpected=this._bufferCodecEventsTotal,this.pendingTracks={},this.tracks={}}this.hls.trigger(h.Events.MEDIA_DETACHED,void 0)},c.onBufferReset=function(){var u=this;this.getSourceBufferTypes().forEach(function(f){var r=u.sourceBuffer[f];try{r&&(u.removeBufferListeners(f),u.mediaSource&&u.mediaSource.removeSourceBuffer(r),u.sourceBuffer[f]=void 0)}catch(p){T.logger.warn("[buffer-controller]: Failed to reset the "+f+" buffer",p)}}),this._initSourceBuffer()},c.onBufferCodecs=function(u,f){var r=this,p=this.getSourceBufferTypes().length;Object.keys(f).forEach(function(C){if(p){var g=r.tracks[C];if(g&&typeof g.buffer.changeType=="function"){var m=f[C],k=m.codec,d=m.levelCodec,w=m.container;if((g.levelCodec||g.codec).replace(D,"$1")!==(d||k).replace(D,"$1")){var y=w+";codecs="+(d||k);r.appendChangeType(C,y)}}}else r.pendingTracks[C]=f[C]}),p||(this.bufferCodecEventsExpected=Math.max(this.bufferCodecEventsExpected-1,0),this.mediaSource&&this.mediaSource.readyState==="open"&&this.checkPendingTracks())},c.appendChangeType=function(u,f){var r=this,p=this.operationQueue,C={execute:function(){var g=r.sourceBuffer[u];g&&(T.logger.log("[buffer-controller]: changing "+u+" sourceBuffer type to "+f),g.changeType(f)),p.shiftAndExecuteNext(u)},onStart:function(){},onComplete:function(){},onError:function(g){T.logger.warn("[buffer-controller]: Failed to change "+u+" SourceBuffer type",g)}};p.append(C,u)},c.onBufferAppending=function(u,f){var r=this,p=this.hls,C=this.operationQueue,g=this.tracks,m=f.data,k=f.type,d=f.frag,w=f.part,y=f.chunkMeta,O=y.buffering[k],F=self.performance.now();O.start=F;var B=d.stats.buffering,M=w?w.stats.buffering:null;B.start===0&&(B.start=F),M&&M.start===0&&(M.start=F);var j=g.audio,U=k==="audio"&&y.id===1&&(j==null?void 0:j.container)==="audio/mpeg",z={execute:function(){if(O.executeStart=self.performance.now(),U){var q=r.sourceBuffer[k];if(q){var Y=d.start-q.timestampOffset;Math.abs(Y)>=.1&&(T.logger.log("[buffer-controller]: Updating audio SourceBuffer timestampOffset to "+d.start+" (delta: "+Y+") sn: "+d.sn+")"),q.timestampOffset=d.start)}}r.appendExecutor(m,k)},onStart:function(){},onComplete:function(){var q=self.performance.now();O.executeEnd=O.end=q,B.first===0&&(B.first=q),M&&M.first===0&&(M.first=q);var Y=r.sourceBuffer,W={};for(var J in Y)W[J]=I.BufferHelper.getBuffered(Y[J]);r.appendError=0,r.hls.trigger(h.Events.BUFFER_APPENDED,{type:k,frag:d,part:w,chunkMeta:y,parent:d.type,timeRanges:W})},onError:function(q){T.logger.error("[buffer-controller]: Error encountered while trying to append to the "+k+" SourceBuffer",q);var Y={type:P.ErrorTypes.MEDIA_ERROR,parent:d.type,details:P.ErrorDetails.BUFFER_APPEND_ERROR,err:q,fatal:!1};q.code===DOMException.QUOTA_EXCEEDED_ERR?Y.details=P.ErrorDetails.BUFFER_FULL_ERROR:(r.appendError++,Y.details=P.ErrorDetails.BUFFER_APPEND_ERROR,r.appendError>p.config.appendErrorMaxRetry&&(T.logger.error("[buffer-controller]: Failed "+p.config.appendErrorMaxRetry+" times to append segment in sourceBuffer"),Y.fatal=!0)),p.trigger(h.Events.ERROR,Y)}};C.append(z,k)},c.onBufferFlushing=function(u,f){var r=this,p=this.operationQueue,C=function(g){return{execute:r.removeExecutor.bind(r,g,f.startOffset,f.endOffset),onStart:function(){},onComplete:function(){r.hls.trigger(h.Events.BUFFER_FLUSHED,{type:g})},onError:function(m){T.logger.warn("[buffer-controller]: Failed to remove from "+g+" SourceBuffer",m)}}};f.type?p.append(C(f.type),f.type):this.getSourceBufferTypes().forEach(function(g){p.append(C(g),g)})},c.onFragParsed=function(u,f){var r=this,p=f.frag,C=f.part,g=[],m=C?C.elementaryStreams:p.elementaryStreams;m[x.ElementaryStreamTypes.AUDIOVIDEO]?g.push("audiovideo"):(m[x.ElementaryStreamTypes.AUDIO]&&g.push("audio"),m[x.ElementaryStreamTypes.VIDEO]&&g.push("video")),g.length===0&&T.logger.warn("Fragments must have at least one ElementaryStreamType set. type: "+p.type+" level: "+p.level+" sn: "+p.sn),this.blockBuffers(function(){var k=self.performance.now();p.stats.buffering.end=k,C&&(C.stats.buffering.end=k);var d=C?C.stats:p.stats;r.hls.trigger(h.Events.FRAG_BUFFERED,{frag:p,part:C,stats:d,id:p.type})},g)},c.onFragChanged=function(u,f){this.flushBackBuffer()},c.onBufferEos=function(u,f){var r=this;this.getSourceBufferTypes().reduce(function(p,C){var g=r.sourceBuffer[C];return f.type&&f.type!==C||g&&!g.ended&&(g.ended=!0,T.logger.log("[buffer-controller]: "+C+" sourceBuffer now EOS")),p&&!(g&&!g.ended)},!0)&&this.blockBuffers(function(){var p=r.mediaSource;p&&p.readyState==="open"&&p.endOfStream()})},c.onLevelUpdated=function(u,f){var r=f.details;r.fragments.length&&(this.details=r,this.getSourceBufferTypes().length?this.blockBuffers(this.updateMediaElementDuration.bind(this)):this.updateMediaElementDuration())},c.flushBackBuffer=function(){var u=this.hls,f=this.details,r=this.media,p=this.sourceBuffer;if(r&&f!==null){var C=this.getSourceBufferTypes();if(C.length){var g=f.live&&u.config.liveBackBufferLength!==null?u.config.liveBackBufferLength:u.config.backBufferLength;if(Object(v.isFiniteNumber)(g)&&!(g<0)){var m=r.currentTime,k=f.levelTargetDuration,d=Math.max(g,k),w=Math.floor(m/k)*k-d;C.forEach(function(y){var O=p[y];if(O){var F=I.BufferHelper.getBuffered(O);F.length>0&&w>F.start(0)&&(u.trigger(h.Events.BACK_BUFFER_REACHED,{bufferEnd:w}),f.live&&u.trigger(h.Events.LIVE_BACK_BUFFER_REACHED,{bufferEnd:w}),u.trigger(h.Events.BUFFER_FLUSHING,{startOffset:0,endOffset:w,type:y}))}})}}}},c.updateMediaElementDuration=function(){if(this.details&&this.media&&this.mediaSource&&this.mediaSource.readyState==="open"){var u=this.details,f=this.hls,r=this.media,p=this.mediaSource,C=u.fragments[0].start+u.totalduration,g=r.duration,m=Object(v.isFiniteNumber)(p.duration)?p.duration:0;u.live&&f.config.liveDurationInfinity?(T.logger.log("[buffer-controller]: Media Source duration is set to Infinity"),p.duration=1/0,this.updateSeekableRange(u)):(C>m&&C>g||!Object(v.isFiniteNumber)(g))&&(T.logger.log("[buffer-controller]: Updating Media Source duration to "+C.toFixed(3)),p.duration=C)}},c.updateSeekableRange=function(u){var f=this.mediaSource,r=u.fragments;if(r.length&&u.live&&f!=null&&f.setLiveSeekableRange){var p=Math.max(0,r[0].start),C=Math.max(p,p+u.totalduration);f.setLiveSeekableRange(p,C)}},c.checkPendingTracks=function(){var u=this.bufferCodecEventsExpected,f=this.operationQueue,r=this.pendingTracks,p=Object.keys(r).length;if(p&&!u||p===2){this.createSourceBuffers(r),this.pendingTracks={};var C=this.getSourceBufferTypes();if(C.length===0)return void this.hls.trigger(h.Events.ERROR,{type:P.ErrorTypes.MEDIA_ERROR,details:P.ErrorDetails.BUFFER_INCOMPATIBLE_CODECS_ERROR,fatal:!0,reason:"could not create source buffer for media codec(s)"});C.forEach(function(g){f.executeNext(g)})}},c.createSourceBuffers=function(u){var f=this.sourceBuffer,r=this.mediaSource;if(!r)throw Error("createSourceBuffers called when mediaSource was null");var p=0;for(var C in u)if(!f[C]){var g=u[C];if(!g)throw Error("source buffer exists for track "+C+", however track does not");var m=g.levelCodec||g.codec,k=g.container+";codecs="+m;T.logger.log("[buffer-controller]: creating sourceBuffer("+k+")");try{var d=f[C]=r.addSourceBuffer(k),w=C;this.addBufferListener(w,"updatestart",this._onSBUpdateStart),this.addBufferListener(w,"updateend",this._onSBUpdateEnd),this.addBufferListener(w,"error",this._onSBUpdateError),this.tracks[C]={buffer:d,codec:m,container:g.container,levelCodec:g.levelCodec,id:g.id},p++}catch(y){T.logger.error("[buffer-controller]: error while trying to add sourceBuffer: "+y.message),this.hls.trigger(h.Events.ERROR,{type:P.ErrorTypes.MEDIA_ERROR,details:P.ErrorDetails.BUFFER_ADD_CODEC_ERROR,fatal:!1,error:y,mimeType:k})}}p&&this.hls.trigger(h.Events.BUFFER_CREATED,{tracks:this.tracks})},c._onSBUpdateStart=function(u){this.operationQueue.current(u).onStart()},c._onSBUpdateEnd=function(u){var f=this.operationQueue;f.current(u).onComplete(),f.shiftAndExecuteNext(u)},c._onSBUpdateError=function(u,f){T.logger.error("[buffer-controller]: "+u+" SourceBuffer error",f),this.hls.trigger(h.Events.ERROR,{type:P.ErrorTypes.MEDIA_ERROR,details:P.ErrorDetails.BUFFER_APPENDING_ERROR,fatal:!1});var r=this.operationQueue.current(u);r&&r.onError(f)},c.removeExecutor=function(u,f,r){var p=this.media,C=this.mediaSource,g=this.operationQueue,m=this.sourceBuffer[u];if(!p||!C||!m)return T.logger.warn("[buffer-controller]: Attempting to remove from the "+u+" SourceBuffer, but it does not exist"),void g.shiftAndExecuteNext(u);var k=Object(v.isFiniteNumber)(p.duration)?p.duration:1/0,d=Object(v.isFiniteNumber)(C.duration)?C.duration:1/0,w=Math.max(0,f),y=Math.min(r,k,d);y>w?(T.logger.log("[buffer-controller]: Removing ["+w+","+y+"] from the "+u+" SourceBuffer"),console.assert(!m.updating,u+" sourceBuffer must not be updating"),m.remove(w,y)):g.shiftAndExecuteNext(u)},c.appendExecutor=function(u,f){var r=this.operationQueue,p=this.sourceBuffer[f];if(!p)return T.logger.warn("[buffer-controller]: Attempting to append to the "+f+" SourceBuffer, but it does not exist"),void r.shiftAndExecuteNext(f);p.ended=!1,console.assert(!p.updating,f+" sourceBuffer must not be updating"),p.appendBuffer(u)},c.blockBuffers=function(u,f){var r=this;if(f===void 0&&(f=this.getSourceBufferTypes()),!f.length)return T.logger.log("[buffer-controller]: Blocking operation requested, but no SourceBuffers exist"),void Promise.resolve(u);var p=this.operationQueue,C=f.map(function(g){return p.appendBlocker(g)});Promise.all(C).then(function(){u(),f.forEach(function(g){var m=r.sourceBuffer[g];m&&m.updating||p.shiftAndExecuteNext(g)})})},c.getSourceBufferTypes=function(){return Object.keys(this.sourceBuffer)},c.addBufferListener=function(u,f,r){var p=this.sourceBuffer[u];if(p){var C=r.bind(this,u);this.listeners[u].push({event:f,listener:C}),p.addEventListener(f,C)}},c.removeBufferListeners=function(u){var f=this.sourceBuffer[u];f&&this.listeners[u].forEach(function(r){f.removeEventListener(r.event,r.listener)})},S}()},"./src/controller/buffer-operation-queue.ts":function(o,l,a){a.r(l),a.d(l,"default",function(){return h});var v=a("./src/utils/logger.ts"),h=function(){function T(I){this.buffers=void 0,this.queues={video:[],audio:[],audiovideo:[]},this.buffers=I}var P=T.prototype;return P.append=function(I,A){var x=this.queues[A];x.push(I),x.length===1&&this.buffers[A]&&this.executeNext(A)},P.insertAbort=function(I,A){this.queues[A].unshift(I),this.executeNext(A)},P.appendBlocker=function(I){var A,x=new Promise(function(b){A=b}),_={execute:A,onStart:function(){},onComplete:function(){},onError:function(){}};return this.append(_,I),x},P.executeNext=function(I){var A=this.buffers,x=this.queues,_=A[I],b=x[I];if(b.length){var D=b[0];try{D.execute()}catch(L){v.logger.warn("[buffer-operation-queue]: Unhandled exception executing the current operation"),D.onError(L),_&&_.updating||(b.shift(),this.executeNext(I))}}},P.shiftAndExecuteNext=function(I){this.queues[I].shift(),this.executeNext(I)},P.current=function(I){return this.queues[I][0]},T}()},"./src/controller/cap-level-controller.ts":function(o,l,a){a.r(l);var v=a("./src/events.ts");function h(P,I){for(var A=0;A<I.length;A++){var x=I[A];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(P,x.key,x)}}var T=function(){function P(b){this.autoLevelCapping=void 0,this.firstLevel=void 0,this.media=void 0,this.restrictedLevels=void 0,this.timer=void 0,this.hls=void 0,this.streamController=void 0,this.clientRect=void 0,this.hls=b,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.firstLevel=-1,this.media=null,this.restrictedLevels=[],this.timer=void 0,this.clientRect=null,this.registerListeners()}var I,A,x,_=P.prototype;return _.setStreamController=function(b){this.streamController=b},_.destroy=function(){this.unregisterListener(),this.hls.config.capLevelToPlayerSize&&this.stopCapping(),this.media=null,this.clientRect=null,this.hls=this.streamController=null},_.registerListeners=function(){var b=this.hls;b.on(v.Events.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),b.on(v.Events.MEDIA_ATTACHING,this.onMediaAttaching,this),b.on(v.Events.MANIFEST_PARSED,this.onManifestParsed,this),b.on(v.Events.BUFFER_CODECS,this.onBufferCodecs,this),b.on(v.Events.MEDIA_DETACHING,this.onMediaDetaching,this)},_.unregisterListener=function(){var b=this.hls;b.off(v.Events.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),b.off(v.Events.MEDIA_ATTACHING,this.onMediaAttaching,this),b.off(v.Events.MANIFEST_PARSED,this.onManifestParsed,this),b.off(v.Events.BUFFER_CODECS,this.onBufferCodecs,this),b.off(v.Events.MEDIA_DETACHING,this.onMediaDetaching,this)},_.onFpsDropLevelCapping=function(b,D){P.isLevelAllowed(D.droppedLevel,this.restrictedLevels)&&this.restrictedLevels.push(D.droppedLevel)},_.onMediaAttaching=function(b,D){this.media=D.media instanceof HTMLVideoElement?D.media:null},_.onManifestParsed=function(b,D){var L=this.hls;this.restrictedLevels=[],this.firstLevel=D.firstLevel,L.config.capLevelToPlayerSize&&D.video&&this.startCapping()},_.onBufferCodecs=function(b,D){this.hls.config.capLevelToPlayerSize&&D.video&&this.startCapping()},_.onMediaDetaching=function(){this.stopCapping()},_.detectPlayerSize=function(){if(this.media&&this.mediaHeight>0&&this.mediaWidth>0){var b=this.hls.levels;if(b.length){var D=this.hls;D.autoLevelCapping=this.getMaxLevel(b.length-1),D.autoLevelCapping>this.autoLevelCapping&&this.streamController&&this.streamController.nextLevelSwitch(),this.autoLevelCapping=D.autoLevelCapping}}},_.getMaxLevel=function(b){var D=this,L=this.hls.levels;if(!L.length)return-1;var S=L.filter(function(c,u){return P.isLevelAllowed(u,D.restrictedLevels)&&u<=b});return this.clientRect=null,P.getMaxLevelByMediaSize(S,this.mediaWidth,this.mediaHeight)},_.startCapping=function(){this.timer||(this.autoLevelCapping=Number.POSITIVE_INFINITY,this.hls.firstLevel=this.getMaxLevel(this.firstLevel),self.clearInterval(this.timer),this.timer=self.setInterval(this.detectPlayerSize.bind(this),1e3),this.detectPlayerSize())},_.stopCapping=function(){this.restrictedLevels=[],this.firstLevel=-1,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.timer&&(self.clearInterval(this.timer),this.timer=void 0)},_.getDimensions=function(){if(this.clientRect)return this.clientRect;var b=this.media,D={width:0,height:0};if(b){var L=b.getBoundingClientRect();D.width=L.width,D.height=L.height,D.width||D.height||(D.width=L.right-L.left||b.width||0,D.height=L.bottom-L.top||b.height||0)}return this.clientRect=D,D},P.isLevelAllowed=function(b,D){return D===void 0&&(D=[]),D.indexOf(b)===-1},P.getMaxLevelByMediaSize=function(b,D,L){if(!b||!b.length)return-1;for(var S,c,u=b.length-1,f=0;f<b.length;f+=1){var r=b[f];if((r.width>=D||r.height>=L)&&(S=r,!(c=b[f+1])||S.width!==c.width||S.height!==c.height)){u=f;break}}return u},I=P,x=[{key:"contentScaleFactor",get:function(){var b=1;try{b=self.devicePixelRatio}catch{}return b}}],(A=[{key:"mediaWidth",get:function(){return this.getDimensions().width*P.contentScaleFactor}},{key:"mediaHeight",get:function(){return this.getDimensions().height*P.contentScaleFactor}}])&&h(I.prototype,A),x&&h(I,x),P}();l.default=T},"./src/controller/eme-controller.ts":function(o,l,a){a.r(l);var v=a("./src/events.ts"),h=a("./src/errors.ts"),T=a("./src/utils/logger.ts"),P=a("./src/utils/mediakeys-helper.ts");function I(x,_){for(var b=0;b<_.length;b++){var D=_[b];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(x,D.key,D)}}var A=function(){function x(L){this.hls=void 0,this._widevineLicenseUrl=void 0,this._licenseXhrSetup=void 0,this._licenseResponseCallback=void 0,this._emeEnabled=void 0,this._requestMediaKeySystemAccess=void 0,this._drmSystemOptions=void 0,this._config=void 0,this._mediaKeysList=[],this._media=null,this._hasSetMediaKeys=!1,this._requestLicenseFailureCount=0,this.mediaKeysPromise=null,this._onMediaEncrypted=this.onMediaEncrypted.bind(this),this.hls=L,this._config=L.config,this._widevineLicenseUrl=this._config.widevineLicenseUrl,this._licenseXhrSetup=this._config.licenseXhrSetup,this._licenseResponseCallback=this._config.licenseResponseCallback,this._emeEnabled=this._config.emeEnabled,this._requestMediaKeySystemAccess=this._config.requestMediaKeySystemAccessFunc,this._drmSystemOptions=this._config.drmSystemOptions,this._registerListeners()}var _,b,D=x.prototype;return D.destroy=function(){this._unregisterListeners(),this.hls=this._onMediaEncrypted=null,this._requestMediaKeySystemAccess=null},D._registerListeners=function(){this.hls.on(v.Events.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(v.Events.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.on(v.Events.MANIFEST_PARSED,this.onManifestParsed,this)},D._unregisterListeners=function(){this.hls.off(v.Events.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.off(v.Events.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.off(v.Events.MANIFEST_PARSED,this.onManifestParsed,this)},D.getLicenseServerUrl=function(L){switch(L){case P.KeySystems.WIDEVINE:if(!this._widevineLicenseUrl)break;return this._widevineLicenseUrl}throw new Error('no license server URL configured for key-system "'+L+'"')},D._attemptKeySystemAccess=function(L,S,c){var u=this,f=function(p,C,g,m){switch(p){case P.KeySystems.WIDEVINE:return function(k,d,w){var y={audioCapabilities:[],videoCapabilities:[]};return k.forEach(function(O){y.audioCapabilities.push({contentType:'audio/mp4; codecs="'+O+'"',robustness:w.audioRobustness||""})}),d.forEach(function(O){y.videoCapabilities.push({contentType:'video/mp4; codecs="'+O+'"',robustness:w.videoRobustness||""})}),[y]}(C,g,m);default:throw new Error("Unknown key-system: "+p)}}(L,S,c,this._drmSystemOptions);T.logger.log("Requesting encrypted media key-system access");var r=this.requestMediaKeySystemAccess(L,f);this.mediaKeysPromise=r.then(function(p){return u._onMediaKeySystemAccessObtained(L,p)}),r.catch(function(p){T.logger.error('Failed to obtain key-system "'+L+'" access:',p)})},D._onMediaKeySystemAccessObtained=function(L,S){var c=this;T.logger.log('Access for key-system "'+L+'" obtained');var u={mediaKeysSessionInitialized:!1,mediaKeySystemAccess:S,mediaKeySystemDomain:L};this._mediaKeysList.push(u);var f=Promise.resolve().then(function(){return S.createMediaKeys()}).then(function(r){return u.mediaKeys=r,T.logger.log('Media-keys created for key-system "'+L+'"'),c._onMediaKeysCreated(),r});return f.catch(function(r){T.logger.error("Failed to create media-keys:",r)}),f},D._onMediaKeysCreated=function(){var L=this;this._mediaKeysList.forEach(function(S){S.mediaKeysSession||(S.mediaKeysSession=S.mediaKeys.createSession(),L._onNewMediaKeySession(S.mediaKeysSession))})},D._onNewMediaKeySession=function(L){var S=this;T.logger.log("New key-system session "+L.sessionId),L.addEventListener("message",function(c){S._onKeySessionMessage(L,c.message)},!1)},D._onKeySessionMessage=function(L,S){T.logger.log("Got EME message event, creating license request"),this._requestLicense(S,function(c){T.logger.log("Received license data (length: "+(c&&c.byteLength)+"), updating key-session"),L.update(c)})},D.onMediaEncrypted=function(L){var S=this;if(T.logger.log('Media is encrypted using "'+L.initDataType+'" init data type'),!this.mediaKeysPromise)return T.logger.error("Fatal: Media is encrypted but no CDM access or no keys have been requested"),void this.hls.trigger(v.Events.ERROR,{type:h.ErrorTypes.KEY_SYSTEM_ERROR,details:h.ErrorDetails.KEY_SYSTEM_NO_KEYS,fatal:!0});var c=function(u){S._media&&(S._attemptSetMediaKeys(u),S._generateRequestWithPreferredKeySession(L.initDataType,L.initData))};this.mediaKeysPromise.then(c).catch(c)},D._attemptSetMediaKeys=function(L){if(!this._media)throw new Error("Attempted to set mediaKeys without first attaching a media element");if(!this._hasSetMediaKeys){var S=this._mediaKeysList[0];if(!S||!S.mediaKeys)return T.logger.error("Fatal: Media is encrypted but no CDM access or no keys have been obtained yet"),void this.hls.trigger(v.Events.ERROR,{type:h.ErrorTypes.KEY_SYSTEM_ERROR,details:h.ErrorDetails.KEY_SYSTEM_NO_KEYS,fatal:!0});T.logger.log("Setting keys for encrypted media"),this._media.setMediaKeys(S.mediaKeys),this._hasSetMediaKeys=!0}},D._generateRequestWithPreferredKeySession=function(L,S){var c=this,u=this._mediaKeysList[0];if(!u)return T.logger.error("Fatal: Media is encrypted but not any key-system access has been obtained yet"),void this.hls.trigger(v.Events.ERROR,{type:h.ErrorTypes.KEY_SYSTEM_ERROR,details:h.ErrorDetails.KEY_SYSTEM_NO_ACCESS,fatal:!0});if(u.mediaKeysSessionInitialized)T.logger.warn("Key-Session already initialized but requested again");else{var f=u.mediaKeysSession;if(!f)return T.logger.error("Fatal: Media is encrypted but no key-session existing"),void this.hls.trigger(v.Events.ERROR,{type:h.ErrorTypes.KEY_SYSTEM_ERROR,details:h.ErrorDetails.KEY_SYSTEM_NO_SESSION,fatal:!0});if(!S)return T.logger.warn("Fatal: initData required for generating a key session is null"),void this.hls.trigger(v.Events.ERROR,{type:h.ErrorTypes.KEY_SYSTEM_ERROR,details:h.ErrorDetails.KEY_SYSTEM_NO_INIT_DATA,fatal:!0});T.logger.log('Generating key-session request for "'+L+'" init data type'),u.mediaKeysSessionInitialized=!0,f.generateRequest(L,S).then(function(){T.logger.debug("Key-session generation succeeded")}).catch(function(r){T.logger.error("Error generating key-session request:",r),c.hls.trigger(v.Events.ERROR,{type:h.ErrorTypes.KEY_SYSTEM_ERROR,details:h.ErrorDetails.KEY_SYSTEM_NO_SESSION,fatal:!1})})}},D._createLicenseXhr=function(L,S,c){var u=new XMLHttpRequest;u.responseType="arraybuffer",u.onreadystatechange=this._onLicenseRequestReadyStageChange.bind(this,u,L,S,c);var f=this._licenseXhrSetup;if(f)try{f.call(this.hls,u,L),f=void 0}catch(r){T.logger.error(r)}try{u.readyState||u.open("POST",L,!0),f&&f.call(this.hls,u,L)}catch(r){throw new Error("issue setting up KeySystem license XHR "+r)}return u},D._onLicenseRequestReadyStageChange=function(L,S,c,u){switch(L.readyState){case 4:if(L.status===200){this._requestLicenseFailureCount=0,T.logger.log("License request succeeded");var f=L.response,r=this._licenseResponseCallback;if(r)try{f=r.call(this.hls,L,S)}catch(C){T.logger.error(C)}u(f)}else{if(T.logger.error("License Request XHR failed ("+S+"). Status: "+L.status+" ("+L.statusText+")"),this._requestLicenseFailureCount++,this._requestLicenseFailureCount>3)return void this.hls.trigger(v.Events.ERROR,{type:h.ErrorTypes.KEY_SYSTEM_ERROR,details:h.ErrorDetails.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0});var p=3-this._requestLicenseFailureCount+1;T.logger.warn("Retrying license request, "+p+" attempts left"),this._requestLicense(c,u)}}},D._generateLicenseRequestChallenge=function(L,S){switch(L.mediaKeySystemDomain){case P.KeySystems.WIDEVINE:return S}throw new Error("unsupported key-system: "+L.mediaKeySystemDomain)},D._requestLicense=function(L,S){T.logger.log("Requesting content license for key-system");var c=this._mediaKeysList[0];if(!c)return T.logger.error("Fatal error: Media is encrypted but no key-system access has been obtained yet"),void this.hls.trigger(v.Events.ERROR,{type:h.ErrorTypes.KEY_SYSTEM_ERROR,details:h.ErrorDetails.KEY_SYSTEM_NO_ACCESS,fatal:!0});try{var u=this.getLicenseServerUrl(c.mediaKeySystemDomain),f=this._createLicenseXhr(u,L,S);T.logger.log("Sending license request to URL: "+u);var r=this._generateLicenseRequestChallenge(c,L);f.send(r)}catch(p){T.logger.error("Failure requesting DRM license: "+p),this.hls.trigger(v.Events.ERROR,{type:h.ErrorTypes.KEY_SYSTEM_ERROR,details:h.ErrorDetails.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0})}},D.onMediaAttached=function(L,S){if(this._emeEnabled){var c=S.media;this._media=c,c.addEventListener("encrypted",this._onMediaEncrypted)}},D.onMediaDetached=function(){var L=this._media,S=this._mediaKeysList;L&&(L.removeEventListener("encrypted",this._onMediaEncrypted),this._media=null,this._mediaKeysList=[],Promise.all(S.map(function(c){if(c.mediaKeysSession)return c.mediaKeysSession.close().catch(function(){})})).then(function(){return L.setMediaKeys(null)}).catch(function(){}))},D.onManifestParsed=function(L,S){if(this._emeEnabled){var c=S.levels.map(function(f){return f.audioCodec}).filter(function(f){return!!f}),u=S.levels.map(function(f){return f.videoCodec}).filter(function(f){return!!f});this._attemptKeySystemAccess(P.KeySystems.WIDEVINE,c,u)}},_=x,(b=[{key:"requestMediaKeySystemAccess",get:function(){if(!this._requestMediaKeySystemAccess)throw new Error("No requestMediaKeySystemAccess function configured");return this._requestMediaKeySystemAccess}}])&&I(_.prototype,b),x}();l.default=A},"./src/controller/fps-controller.ts":function(o,l,a){a.r(l);var v=a("./src/events.ts"),h=a("./src/utils/logger.ts"),T=function(){function P(A){this.hls=void 0,this.isVideoPlaybackQualityAvailable=!1,this.timer=void 0,this.media=null,this.lastTime=void 0,this.lastDroppedFrames=0,this.lastDecodedFrames=0,this.streamController=void 0,this.hls=A,this.registerListeners()}var I=P.prototype;return I.setStreamController=function(A){this.streamController=A},I.registerListeners=function(){this.hls.on(v.Events.MEDIA_ATTACHING,this.onMediaAttaching,this)},I.unregisterListeners=function(){this.hls.off(v.Events.MEDIA_ATTACHING,this.onMediaAttaching)},I.destroy=function(){this.timer&&clearInterval(this.timer),this.unregisterListeners(),this.isVideoPlaybackQualityAvailable=!1,this.media=null},I.onMediaAttaching=function(A,x){var _=this.hls.config;if(_.capLevelOnFPSDrop){var b=x.media instanceof self.HTMLVideoElement?x.media:null;this.media=b,b&&typeof b.getVideoPlaybackQuality=="function"&&(this.isVideoPlaybackQualityAvailable=!0),self.clearInterval(this.timer),this.timer=self.setInterval(this.checkFPSInterval.bind(this),_.fpsDroppedMonitoringPeriod)}},I.checkFPS=function(A,x,_){var b=performance.now();if(x){if(this.lastTime){var D=b-this.lastTime,L=_-this.lastDroppedFrames,S=x-this.lastDecodedFrames,c=1e3*L/D,u=this.hls;if(u.trigger(v.Events.FPS_DROP,{currentDropped:L,currentDecoded:S,totalDroppedFrames:_}),c>0&&L>u.config.fpsDroppedMonitoringThreshold*S){var f=u.currentLevel;h.logger.warn("drop FPS ratio greater than max allowed value for currentLevel: "+f),f>0&&(u.autoLevelCapping===-1||u.autoLevelCapping>=f)&&(f-=1,u.trigger(v.Events.FPS_DROP_LEVEL_CAPPING,{level:f,droppedLevel:u.currentLevel}),u.autoLevelCapping=f,this.streamController.nextLevelSwitch())}}this.lastTime=b,this.lastDroppedFrames=_,this.lastDecodedFrames=x}},I.checkFPSInterval=function(){var A=this.media;if(A)if(this.isVideoPlaybackQualityAvailable){var x=A.getVideoPlaybackQuality();this.checkFPS(A,x.totalVideoFrames,x.droppedVideoFrames)}else this.checkFPS(A,A.webkitDecodedFrameCount,A.webkitDroppedFrameCount)},P}();l.default=T},"./src/controller/fragment-finders.ts":function(o,l,a){a.r(l),a.d(l,"findFragmentByPDT",function(){return T}),a.d(l,"findFragmentByPTS",function(){return P}),a.d(l,"fragmentWithinToleranceTest",function(){return I}),a.d(l,"pdtWithinToleranceTest",function(){return A}),a.d(l,"findFragWithCC",function(){return x});var v=a("./src/polyfills/number.ts"),h=a("./src/utils/binary-search.ts");function T(_,b,D){if(b===null||!Array.isArray(_)||!_.length||!Object(v.isFiniteNumber)(b)||b<(_[0].programDateTime||0)||b>=(_[_.length-1].endProgramDateTime||0))return null;D=D||0;for(var L=0;L<_.length;++L){var S=_[L];if(A(b,D,S))return S}return null}function P(_,b,D,L){D===void 0&&(D=0),L===void 0&&(L=0);var S=null;if(_?S=b[_.sn-b[0].sn+1]||null:D===0&&b[0].start===0&&(S=b[0]),S&&I(D,L,S)===0)return S;var c=h.default.search(b,I.bind(null,D,L));return c||S}function I(_,b,D){_===void 0&&(_=0),b===void 0&&(b=0);var L=Math.min(b,D.duration+(D.deltaPTS?D.deltaPTS:0));return D.start+D.duration-L<=_?1:D.start-L>_&&D.start?-1:0}function A(_,b,D){var L=1e3*Math.min(b,D.duration+(D.deltaPTS?D.deltaPTS:0));return(D.endProgramDateTime||0)-L>_}function x(_,b){return h.default.search(_,function(D){return D.cc<b?1:D.cc>b?-1:0})}},"./src/controller/fragment-tracker.ts":function(o,l,a){a.r(l),a.d(l,"FragmentState",function(){return v}),a.d(l,"FragmentTracker",function(){return P});var v,h=a("./src/events.ts"),T=a("./src/types/loader.ts");(function(x){x.NOT_LOADED="NOT_LOADED",x.BACKTRACKED="BACKTRACKED",x.APPENDING="APPENDING",x.PARTIAL="PARTIAL",x.OK="OK"})(v||(v={}));var P=function(){function x(b){this.activeFragment=null,this.activeParts=null,this.fragments=Object.create(null),this.timeRanges=Object.create(null),this.bufferPadding=.2,this.hls=void 0,this.hls=b,this._registerListeners()}var _=x.prototype;return _._registerListeners=function(){var b=this.hls;b.on(h.Events.BUFFER_APPENDED,this.onBufferAppended,this),b.on(h.Events.FRAG_BUFFERED,this.onFragBuffered,this),b.on(h.Events.FRAG_LOADED,this.onFragLoaded,this)},_._unregisterListeners=function(){var b=this.hls;b.off(h.Events.BUFFER_APPENDED,this.onBufferAppended,this),b.off(h.Events.FRAG_BUFFERED,this.onFragBuffered,this),b.off(h.Events.FRAG_LOADED,this.onFragLoaded,this)},_.destroy=function(){this._unregisterListeners(),this.fragments=this.timeRanges=null},_.getAppendedFrag=function(b,D){if(D===T.PlaylistLevelType.MAIN){var L=this.activeFragment,S=this.activeParts;if(!L)return null;if(S)for(var c=S.length;c--;){var u=S[c],f=u?u.end:L.appendedPTS;if(u.start<=b&&f!==void 0&&b<=f)return c>9&&(this.activeParts=S.slice(c-9)),u}else if(L.start<=b&&L.appendedPTS!==void 0&&b<=L.appendedPTS)return L}return this.getBufferedFrag(b,D)},_.getBufferedFrag=function(b,D){for(var L=this.fragments,S=Object.keys(L),c=S.length;c--;){var u=L[S[c]];if((u==null?void 0:u.body.type)===D&&u.buffered){var f=u.body;if(f.start<=b&&b<=f.end)return f}}return null},_.detectEvictedFragments=function(b,D,L){var S=this;Object.keys(this.fragments).forEach(function(c){var u=S.fragments[c];if(u)if(u.buffered){var f=u.range[b];f&&f.time.some(function(r){var p=!S.isTimeBuffered(r.startPTS,r.endPTS,D);return p&&S.removeFragment(u.body),p})}else u.body.type===L&&S.removeFragment(u.body)})},_.detectPartialFragments=function(b){var D=this,L=this.timeRanges,S=b.frag,c=b.part;if(L&&S.sn!=="initSegment"){var u=A(S),f=this.fragments[u];f&&(Object.keys(L).forEach(function(r){var p=S.elementaryStreams[r];if(p){var C=L[r],g=c!==null||p.partial===!0;f.range[r]=D.getBufferedTimes(S,c,g,C)}}),f.backtrack=f.loaded=null,Object.keys(f.range).length?f.buffered=!0:this.removeFragment(f.body))}},_.fragBuffered=function(b){var D=A(b),L=this.fragments[D];L&&(L.backtrack=L.loaded=null,L.buffered=!0)},_.getBufferedTimes=function(b,D,L,S){for(var c={time:[],partial:L},u=D?D.start:b.start,f=D?D.end:b.end,r=b.minEndPTS||f,p=b.maxStartPTS||u,C=0;C<S.length;C++){var g=S.start(C)-this.bufferPadding,m=S.end(C)+this.bufferPadding;if(p>=g&&r<=m){c.time.push({startPTS:Math.max(u,S.start(C)),endPTS:Math.min(f,S.end(C))});break}if(u<m&&f>g)c.partial=!0,c.time.push({startPTS:Math.max(u,S.start(C)),endPTS:Math.min(f,S.end(C))});else if(f<=g)break}return c},_.getPartialFragment=function(b){var D,L,S,c=null,u=0,f=this.bufferPadding,r=this.fragments;return Object.keys(r).forEach(function(p){var C=r[p];C&&I(C)&&(L=C.body.start-f,S=C.body.end+f,b>=L&&b<=S&&(D=Math.min(b-L,S-b),u<=D&&(c=C.body,u=D)))}),c},_.getState=function(b){var D=A(b),L=this.fragments[D];return L?L.buffered?I(L)?v.PARTIAL:v.OK:L.backtrack?v.BACKTRACKED:v.APPENDING:v.NOT_LOADED},_.backtrack=function(b,D){var L=A(b),S=this.fragments[L];if(!S||S.backtrack)return null;var c=S.backtrack=D||S.loaded;return S.loaded=null,c},_.getBacktrackData=function(b){var D=A(b),L=this.fragments[D];if(L){var S,c=L.backtrack;if(c!=null&&(S=c.payload)!==null&&S!==void 0&&S.byteLength)return c;this.removeFragment(b)}return null},_.isTimeBuffered=function(b,D,L){for(var S,c,u=0;u<L.length;u++){if(S=L.start(u)-this.bufferPadding,c=L.end(u)+this.bufferPadding,b>=S&&D<=c)return!0;if(D<=S)return!1}return!1},_.onFragLoaded=function(b,D){var L=D.frag,S=D.part;if(L.sn!=="initSegment"&&!L.bitrateTest&&!S){var c=A(L);this.fragments[c]={body:L,loaded:D,backtrack:null,buffered:!1,range:Object.create(null)}}},_.onBufferAppended=function(b,D){var L=this,S=D.frag,c=D.part,u=D.timeRanges;if(S.type===T.PlaylistLevelType.MAIN)if(this.activeFragment=S,c){var f=this.activeParts;f||(this.activeParts=f=[]),f.push(c)}else this.activeParts=null;this.timeRanges=u,Object.keys(u).forEach(function(r){var p=u[r];if(L.detectEvictedFragments(r,p),!c)for(var C=0;C<p.length;C++)S.appendedPTS=Math.max(p.end(C),S.appendedPTS||0)})},_.onFragBuffered=function(b,D){this.detectPartialFragments(D)},_.hasFragment=function(b){var D=A(b);return!!this.fragments[D]},_.removeFragmentsInRange=function(b,D,L){var S=this;Object.keys(this.fragments).forEach(function(c){var u=S.fragments[c];if(u&&u.buffered){var f=u.body;f.type===L&&f.start<D&&f.end>b&&S.removeFragment(f)}})},_.removeFragment=function(b){var D=A(b);b.stats.loaded=0,b.clearElementaryStreamInfo(),delete this.fragments[D]},_.removeAllFragments=function(){this.fragments=Object.create(null),this.activeFragment=null,this.activeParts=null},x}();function I(x){var _,b;return x.buffered&&(((_=x.range.video)===null||_===void 0?void 0:_.partial)||((b=x.range.audio)===null||b===void 0?void 0:b.partial))}function A(x){return x.type+"_"+x.level+"_"+x.urlId+"_"+x.sn}},"./src/controller/gap-controller.ts":function(o,l,a){a.r(l),a.d(l,"STALL_MINIMUM_DURATION_MS",function(){return I}),a.d(l,"MAX_START_GAP_JUMP",function(){return A}),a.d(l,"SKIP_BUFFER_HOLE_STEP_SECONDS",function(){return x}),a.d(l,"SKIP_BUFFER_RANGE_START",function(){return _}),a.d(l,"default",function(){return b});var v=a("./src/utils/buffer-helper.ts"),h=a("./src/errors.ts"),T=a("./src/events.ts"),P=a("./src/utils/logger.ts"),I=250,A=2,x=.1,_=.05,b=function(){function D(S,c,u,f){this.config=void 0,this.media=void 0,this.fragmentTracker=void 0,this.hls=void 0,this.nudgeRetry=0,this.stallReported=!1,this.stalled=null,this.moved=!1,this.seeking=!1,this.config=S,this.media=c,this.fragmentTracker=u,this.hls=f}var L=D.prototype;return L.destroy=function(){this.hls=this.fragmentTracker=this.media=null},L.poll=function(S){var c=this.config,u=this.media,f=this.stalled,r=u.currentTime,p=u.seeking,C=this.seeking&&!p,g=!this.seeking&&p;if(this.seeking=p,r===S){if((g||C)&&(this.stalled=null),!u.paused&&!u.ended&&u.playbackRate!==0&&v.BufferHelper.getBuffered(u).length){var m=v.BufferHelper.bufferInfo(u,r,0),k=m.len>0,d=m.nextStart||0;if(k||d){if(p){var w=m.len>A,y=!d||d-r>A&&!this.fragmentTracker.getPartialFragment(r);if(w||y)return;this.moved=!1}if(!this.moved&&this.stalled!==null){var O,F=Math.max(d,m.start||0)-r,B=this.hls.levels?this.hls.levels[this.hls.currentLevel]:null,M=!(B==null||(O=B.details)===null||O===void 0)&&O.live?2*B.details.targetduration:A;if(F>0&&F<=M)return void this._trySkipBufferHole(null)}var j=self.performance.now();if(f!==null){var U=j-f;!p&&U>=I&&this._reportStall(m.len);var z=v.BufferHelper.bufferInfo(u,r,c.maxBufferHole);this._tryFixBufferStall(z,U)}else this.stalled=j}}}else if(this.moved=!0,f!==null){if(this.stallReported){var q=self.performance.now()-f;P.logger.warn("playback not stuck anymore @"+r+", after "+Math.round(q)+"ms"),this.stallReported=!1}this.stalled=null,this.nudgeRetry=0}},L._tryFixBufferStall=function(S,c){var u=this.config,f=this.fragmentTracker,r=this.media.currentTime,p=f.getPartialFragment(r);p&&this._trySkipBufferHole(p)||S.len>u.maxBufferHole&&c>1e3*u.highBufferWatchdogPeriod&&(P.logger.warn("Trying to nudge playhead over buffer-hole"),this.stalled=null,this._tryNudgeBuffer())},L._reportStall=function(S){var c=this.hls,u=this.media;this.stallReported||(this.stallReported=!0,P.logger.warn("Playback stalling at @"+u.currentTime+" due to low buffer (buffer="+S+")"),c.trigger(T.Events.ERROR,{type:h.ErrorTypes.MEDIA_ERROR,details:h.ErrorDetails.BUFFER_STALLED_ERROR,fatal:!1,buffer:S}))},L._trySkipBufferHole=function(S){for(var c=this.config,u=this.hls,f=this.media,r=f.currentTime,p=0,C=v.BufferHelper.getBuffered(f),g=0;g<C.length;g++){var m=C.start(g);if(r+c.maxBufferHole>=p&&r<m){var k=Math.max(m+_,f.currentTime+x);return P.logger.warn("skipping hole, adjusting currentTime from "+r+" to "+k),this.moved=!0,this.stalled=null,f.currentTime=k,S&&u.trigger(T.Events.ERROR,{type:h.ErrorTypes.MEDIA_ERROR,details:h.ErrorDetails.BUFFER_SEEK_OVER_HOLE,fatal:!1,reason:"fragment loaded with buffer holes, seeking from "+r+" to "+k,frag:S}),k}p=C.end(g)}return 0},L._tryNudgeBuffer=function(){var S=this.config,c=this.hls,u=this.media,f=u.currentTime,r=(this.nudgeRetry||0)+1;if(this.nudgeRetry=r,r<S.nudgeMaxRetry){var p=f+r*S.nudgeOffset;P.logger.warn("Nudging 'currentTime' from "+f+" to "+p),u.currentTime=p,c.trigger(T.Events.ERROR,{type:h.ErrorTypes.MEDIA_ERROR,details:h.ErrorDetails.BUFFER_NUDGE_ON_STALL,fatal:!1})}else P.logger.error("Playhead still not moving while enough data buffered @"+f+" after "+S.nudgeMaxRetry+" nudges"),c.trigger(T.Events.ERROR,{type:h.ErrorTypes.MEDIA_ERROR,details:h.ErrorDetails.BUFFER_STALLED_ERROR,fatal:!0})},D}()},"./src/controller/id3-track-controller.ts":function(o,l,a){a.r(l);var v=a("./src/events.ts"),h=a("./src/utils/texttrack-utils.ts"),T=a("./src/demux/id3.ts"),P=function(){function I(x){this.hls=void 0,this.id3Track=null,this.media=null,this.hls=x,this._registerListeners()}var A=I.prototype;return A.destroy=function(){this._unregisterListeners()},A._registerListeners=function(){var x=this.hls;x.on(v.Events.MEDIA_ATTACHED,this.onMediaAttached,this),x.on(v.Events.MEDIA_DETACHING,this.onMediaDetaching,this),x.on(v.Events.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),x.on(v.Events.BUFFER_FLUSHING,this.onBufferFlushing,this)},A._unregisterListeners=function(){var x=this.hls;x.off(v.Events.MEDIA_ATTACHED,this.onMediaAttached,this),x.off(v.Events.MEDIA_DETACHING,this.onMediaDetaching,this),x.off(v.Events.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),x.off(v.Events.BUFFER_FLUSHING,this.onBufferFlushing,this)},A.onMediaAttached=function(x,_){this.media=_.media},A.onMediaDetaching=function(){this.id3Track&&(Object(h.clearCurrentCues)(this.id3Track),this.id3Track=null,this.media=null)},A.getID3Track=function(x){if(this.media){for(var _=0;_<x.length;_++){var b=x[_];if(b.kind==="metadata"&&b.label==="id3")return Object(h.sendAddTrackEvent)(b,this.media),b}return this.media.addTextTrack("metadata","id3")}},A.onFragParsingMetadata=function(x,_){if(this.media){var b=_.frag,D=_.samples;this.id3Track||(this.id3Track=this.getID3Track(this.media.textTracks),this.id3Track.mode="hidden");for(var L=self.WebKitDataCue||self.VTTCue||self.TextTrackCue,S=0;S<D.length;S++){var c=T.getID3Frames(D[S].data);if(c){var u=D[S].pts,f=S<D.length-1?D[S+1].pts:b.end;f-u<=0&&(f=u+.25);for(var r=0;r<c.length;r++){var p=c[r];if(!T.isTimeStampFrame(p)){var C=new L(u,f,"");C.value=p,this.id3Track.addCue(C)}}}}}},A.onBufferFlushing=function(x,_){var b=_.startOffset,D=_.endOffset,L=_.type;if(!L||L==="audio"){var S=this.id3Track;S&&Object(h.removeCuesInRange)(S,b,D)}},I}();l.default=P},"./src/controller/latency-controller.ts":function(o,l,a){a.r(l),a.d(l,"default",function(){return I});var v=a("./src/errors.ts"),h=a("./src/events.ts"),T=a("./src/utils/logger.ts");function P(A,x){for(var _=0;_<x.length;_++){var b=x[_];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(A,b.key,b)}}var I=function(){function A(D){var L=this;this.hls=void 0,this.config=void 0,this.media=null,this.levelDetails=null,this.currentTime=0,this.stallCount=0,this._latency=null,this.timeupdateHandler=function(){return L.timeupdate()},this.hls=D,this.config=D.config,this.registerListeners()}var x,_,b=A.prototype;return b.destroy=function(){this.unregisterListeners(),this.onMediaDetaching(),this.levelDetails=null,this.hls=this.timeupdateHandler=null},b.registerListeners=function(){this.hls.on(h.Events.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(h.Events.MEDIA_DETACHING,this.onMediaDetaching,this),this.hls.on(h.Events.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.on(h.Events.LEVEL_UPDATED,this.onLevelUpdated,this),this.hls.on(h.Events.ERROR,this.onError,this)},b.unregisterListeners=function(){this.hls.off(h.Events.MEDIA_ATTACHED,this.onMediaAttached),this.hls.off(h.Events.MEDIA_DETACHING,this.onMediaDetaching),this.hls.off(h.Events.MANIFEST_LOADING,this.onManifestLoading),this.hls.off(h.Events.LEVEL_UPDATED,this.onLevelUpdated),this.hls.off(h.Events.ERROR,this.onError)},b.onMediaAttached=function(D,L){this.media=L.media,this.media.addEventListener("timeupdate",this.timeupdateHandler)},b.onMediaDetaching=function(){this.media&&(this.media.removeEventListener("timeupdate",this.timeupdateHandler),this.media=null)},b.onManifestLoading=function(){this.levelDetails=null,this._latency=null,this.stallCount=0},b.onLevelUpdated=function(D,L){var S=L.details;this.levelDetails=S,S.advanced&&this.timeupdate(),!S.live&&this.media&&this.media.removeEventListener("timeupdate",this.timeupdateHandler)},b.onError=function(D,L){L.details===v.ErrorDetails.BUFFER_STALLED_ERROR&&(this.stallCount++,T.logger.warn("[playback-rate-controller]: Stall detected, adjusting target latency"))},b.timeupdate=function(){var D=this.media,L=this.levelDetails;if(D&&L){this.currentTime=D.currentTime;var S=this.computeLatency();if(S!==null){this._latency=S;var c=this.config,u=c.lowLatencyMode,f=c.maxLiveSyncPlaybackRate;if(u&&f!==1){var r=this.targetLatency;if(r!==null){var p=S-r,C=p<Math.min(this.maxLatency,r+L.targetduration);if(L.live&&C&&p>.05&&this.forwardBufferLength>1){var g=Math.min(2,Math.max(1,f)),m=Math.round(2/(1+Math.exp(-.75*p-this.edgeStalled))*20)/20;D.playbackRate=Math.min(g,Math.max(1,m))}else D.playbackRate!==1&&D.playbackRate!==0&&(D.playbackRate=1)}}}}},b.estimateLiveEdge=function(){var D=this.levelDetails;return D===null?null:D.edge+D.age},b.computeLatency=function(){var D=this.estimateLiveEdge();return D===null?null:D-this.currentTime},x=A,(_=[{key:"latency",get:function(){return this._latency||0}},{key:"maxLatency",get:function(){var D=this.config,L=this.levelDetails;return D.liveMaxLatencyDuration!==void 0?D.liveMaxLatencyDuration:L?D.liveMaxLatencyDurationCount*L.targetduration:0}},{key:"targetLatency",get:function(){var D=this.levelDetails;if(D===null)return null;var L=D.holdBack,S=D.partHoldBack,c=D.targetduration,u=this.config,f=u.liveSyncDuration,r=u.liveSyncDurationCount,p=u.lowLatencyMode,C=this.hls.userConfig,g=p&&S||L;(C.liveSyncDuration||C.liveSyncDurationCount||g===0)&&(g=f!==void 0?f:r*c);var m=c;return g+Math.min(1*this.stallCount,m)}},{key:"liveSyncPosition",get:function(){var D=this.estimateLiveEdge(),L=this.targetLatency,S=this.levelDetails;if(D===null||L===null||S===null)return null;var c=S.edge,u=D-L-this.edgeStalled,f=c-S.totalduration,r=c-(this.config.lowLatencyMode&&S.partTarget||S.targetduration);return Math.min(Math.max(f,u),r)}},{key:"drift",get:function(){var D=this.levelDetails;return D===null?1:D.drift}},{key:"edgeStalled",get:function(){var D=this.levelDetails;if(D===null)return 0;var L=3*(this.config.lowLatencyMode&&D.partTarget||D.targetduration);return Math.max(D.age-L,0)}},{key:"forwardBufferLength",get:function(){var D=this.media,L=this.levelDetails;if(!D||!L)return 0;var S=D.buffered.length;return S?D.buffered.end(S-1):L.edge-this.currentTime}}])&&P(x.prototype,_),A}()},"./src/controller/level-controller.ts":function(o,l,a){a.r(l),a.d(l,"default",function(){return S});var v=a("./src/types/level.ts"),h=a("./src/events.ts"),T=a("./src/errors.ts"),P=a("./src/utils/codecs.ts"),I=a("./src/controller/level-helper.ts"),A=a("./src/controller/base-playlist-controller.ts"),x=a("./src/types/loader.ts");function _(){return(_=Object.assign||function(c){for(var u=1;u<arguments.length;u++){var f=arguments[u];for(var r in f)Object.prototype.hasOwnProperty.call(f,r)&&(c[r]=f[r])}return c}).apply(this,arguments)}function b(c,u){for(var f=0;f<u.length;f++){var r=u[f];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(c,r.key,r)}}function D(c,u){return(D=Object.setPrototypeOf||function(f,r){return f.__proto__=r,f})(c,u)}var L=/chrome|firefox/.test(navigator.userAgent.toLowerCase()),S=function(c){var u,f;function r(m){var k;return(k=c.call(this,m,"[level-controller]")||this)._levels=[],k._firstLevel=-1,k._startLevel=void 0,k.currentLevelIndex=-1,k.manualLevelIndex=-1,k.onParsedComplete=void 0,k._registerListeners(),k}f=c,(u=r).prototype=Object.create(f.prototype),u.prototype.constructor=u,D(u,f);var p,C,g=r.prototype;return g._registerListeners=function(){var m=this.hls;m.on(h.Events.MANIFEST_LOADED,this.onManifestLoaded,this),m.on(h.Events.LEVEL_LOADED,this.onLevelLoaded,this),m.on(h.Events.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),m.on(h.Events.FRAG_LOADED,this.onFragLoaded,this),m.on(h.Events.ERROR,this.onError,this)},g._unregisterListeners=function(){var m=this.hls;m.off(h.Events.MANIFEST_LOADED,this.onManifestLoaded,this),m.off(h.Events.LEVEL_LOADED,this.onLevelLoaded,this),m.off(h.Events.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),m.off(h.Events.FRAG_LOADED,this.onFragLoaded,this),m.off(h.Events.ERROR,this.onError,this)},g.destroy=function(){this._unregisterListeners(),this.manualLevelIndex=-1,this._levels.length=0,c.prototype.destroy.call(this)},g.startLoad=function(){this._levels.forEach(function(m){m.loadError=0}),c.prototype.startLoad.call(this)},g.onManifestLoaded=function(m,k){var d,w,y=[],O=[],F=[],B={},M=!1,j=!1,U=!1;if(k.levels.forEach(function(W){var J=W.attrs;M=M||!(!W.width||!W.height),j=j||!!W.videoCodec,U=U||!!W.audioCodec,L&&W.audioCodec&&W.audioCodec.indexOf("mp4a.40.34")!==-1&&(W.audioCodec=void 0);var Z=W.bitrate+"-"+W.attrs.RESOLUTION+"-"+W.attrs.CODECS;(w=B[Z])?w.url.push(W.url):(w=new v.Level(W),B[Z]=w,y.push(w)),J&&(J.AUDIO&&Object(I.addGroupId)(w,"audio",J.AUDIO),J.SUBTITLES&&Object(I.addGroupId)(w,"text",J.SUBTITLES))}),(M||j)&&U&&(y=y.filter(function(W){var J=W.videoCodec,Z=W.width,ee=W.height;return!!J||!(!Z||!ee)})),y=y.filter(function(W){var J=W.audioCodec,Z=W.videoCodec;return(!J||Object(P.isCodecSupportedInMp4)(J,"audio"))&&(!Z||Object(P.isCodecSupportedInMp4)(Z,"video"))}),k.audioTracks&&(O=k.audioTracks.filter(function(W){return!W.audioCodec||Object(P.isCodecSupportedInMp4)(W.audioCodec,"audio")}),Object(I.assignTrackIdsByGroup)(O)),k.subtitles&&(F=k.subtitles,Object(I.assignTrackIdsByGroup)(F)),y.length>0){d=y[0].bitrate,y.sort(function(W,J){return W.bitrate-J.bitrate}),this._levels=y;for(var z=0;z<y.length;z++)if(y[z].bitrate===d){this._firstLevel=z,this.log("manifest loaded, "+y.length+" level(s) found, first bitrate: "+d);break}var q=U&&!j,Y={levels:y,audioTracks:O,subtitleTracks:F,firstLevel:this._firstLevel,stats:k.stats,audio:U,video:j,altAudio:!q&&O.some(function(W){return!!W.url})};this.hls.trigger(h.Events.MANIFEST_PARSED,Y),(this.hls.config.autoStartLoad||this.hls.forceStartLoad)&&this.hls.startLoad(this.hls.config.startPosition)}else this.hls.trigger(h.Events.ERROR,{type:T.ErrorTypes.MEDIA_ERROR,details:T.ErrorDetails.MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:k.url,reason:"no level with compatible codecs found in manifest"})},g.onError=function(m,k){if(c.prototype.onError.call(this,m,k),!k.fatal){var d=k.context,w=this._levels[this.currentLevelIndex];if(d&&(d.type===x.PlaylistContextType.AUDIO_TRACK&&w.audioGroupIds&&d.groupId===w.audioGroupIds[w.urlId]||d.type===x.PlaylistContextType.SUBTITLE_TRACK&&w.textGroupIds&&d.groupId===w.textGroupIds[w.urlId]))this.redundantFailover(this.currentLevelIndex);else{var y,O=!1,F=!0;switch(k.details){case T.ErrorDetails.FRAG_LOAD_ERROR:case T.ErrorDetails.FRAG_LOAD_TIMEOUT:case T.ErrorDetails.KEY_LOAD_ERROR:case T.ErrorDetails.KEY_LOAD_TIMEOUT:if(k.frag){var B=this._levels[k.frag.level];B?(B.fragmentError++,B.fragmentError>this.hls.config.fragLoadingMaxRetry&&(y=k.frag.level)):y=k.frag.level}break;case T.ErrorDetails.LEVEL_LOAD_ERROR:case T.ErrorDetails.LEVEL_LOAD_TIMEOUT:d&&(d.deliveryDirectives&&(F=!1),y=d.level),O=!0;break;case T.ErrorDetails.REMUX_ALLOC_ERROR:y=k.level,O=!0}y!==void 0&&this.recoverLevel(k,y,O,F)}}},g.recoverLevel=function(m,k,d,w){var y=m.details,O=this._levels[k];if(O.loadError++,d){if(!this.retryLoadingOrFail(m))return void(this.currentLevelIndex=-1);m.levelRetry=!0}if(w){var F=O.url.length;if(F>1&&O.loadError<F)m.levelRetry=!0,this.redundantFailover(k);else if(this.manualLevelIndex===-1){var B=k===0?this._levels.length-1:k-1;this.currentLevelIndex!==B&&this._levels[B].loadError===0&&(this.warn(y+": switch to "+B),m.levelRetry=!0,this.hls.nextAutoLevel=B)}}},g.redundantFailover=function(m){var k=this._levels[m],d=k.url.length;if(d>1){var w=(k.urlId+1)%d;this.warn("Switching to redundant URL-id "+w),this._levels.forEach(function(y){y.urlId=w}),this.level=m}},g.onFragLoaded=function(m,k){var d=k.frag;if(d!==void 0&&d.type===x.PlaylistLevelType.MAIN){var w=this._levels[d.level];w!==void 0&&(w.fragmentError=0,w.loadError=0)}},g.onLevelLoaded=function(m,k){var d,w,y=k.level,O=k.details,F=this._levels[y];if(!F)return this.warn("Invalid level index "+y),void((w=k.deliveryDirectives)!==null&&w!==void 0&&w.skip&&(O.deltaUpdateFailed=!0));y===this.currentLevelIndex?(F.fragmentError===0&&(F.loadError=0,this.retryCount=0),this.playlistLoaded(y,k,F.details)):(d=k.deliveryDirectives)!==null&&d!==void 0&&d.skip&&(O.deltaUpdateFailed=!0)},g.onAudioTrackSwitched=function(m,k){var d=this.hls.levels[this.currentLevelIndex];if(d&&d.audioGroupIds){for(var w=-1,y=this.hls.audioTracks[k.id].groupId,O=0;O<d.audioGroupIds.length;O++)if(d.audioGroupIds[O]===y){w=O;break}w!==d.urlId&&(d.urlId=w,this.startLoad())}},g.loadPlaylist=function(m){var k=this.currentLevelIndex,d=this._levels[k];if(this.canLoad&&d&&d.url.length>0){var w=d.urlId,y=d.url[w];if(m)try{y=m.addDirectives(y)}catch(O){this.warn("Could not construct new URL with HLS Delivery Directives: "+O)}this.log("Attempt loading level index "+k+(m?" at sn "+m.msn+" part "+m.part:"")+" with URL-id "+w+" "+y),this.clearTimer(),this.hls.trigger(h.Events.LEVEL_LOADING,{url:y,level:k,id:w,deliveryDirectives:m||null})}},g.removeLevel=function(m,k){var d=function(y,O){return O!==k},w=this._levels.filter(function(y,O){return O!==m||y.url.length>1&&k!==void 0&&(y.url=y.url.filter(d),y.audioGroupIds&&(y.audioGroupIds=y.audioGroupIds.filter(d)),y.textGroupIds&&(y.textGroupIds=y.textGroupIds.filter(d)),y.urlId=0,!0)}).map(function(y,O){var F=y.details;return F!=null&&F.fragments&&F.fragments.forEach(function(B){B.level=O}),y});this._levels=w,this.hls.trigger(h.Events.LEVELS_UPDATED,{levels:w})},p=r,(C=[{key:"levels",get:function(){return this._levels.length===0?null:this._levels}},{key:"level",get:function(){return this.currentLevelIndex},set:function(m){var k,d=this._levels;if(d.length!==0&&(this.currentLevelIndex!==m||(k=d[m])===null||k===void 0||!k.details)){if(m<0||m>=d.length){var w=m<0;if(this.hls.trigger(h.Events.ERROR,{type:T.ErrorTypes.OTHER_ERROR,details:T.ErrorDetails.LEVEL_SWITCH_ERROR,level:m,fatal:w,reason:"invalid level idx"}),w)return;m=Math.min(m,d.length-1)}this.clearTimer();var y=this.currentLevelIndex,O=d[y],F=d[m];this.log("switching to level "+m+" from "+y),this.currentLevelIndex=m;var B=_({},F,{level:m,maxBitrate:F.maxBitrate,uri:F.uri,urlId:F.urlId});delete B._urlId,this.hls.trigger(h.Events.LEVEL_SWITCHING,B);var M=F.details;if(!M||M.live){var j=this.switchParams(F.uri,O==null?void 0:O.details);this.loadPlaylist(j)}}}},{key:"manualLevel",get:function(){return this.manualLevelIndex},set:function(m){this.manualLevelIndex=m,this._startLevel===void 0&&(this._startLevel=m),m!==-1&&(this.level=m)}},{key:"firstLevel",get:function(){return this._firstLevel},set:function(m){this._firstLevel=m}},{key:"startLevel",get:function(){if(this._startLevel===void 0){var m=this.hls.config.startLevel;return m!==void 0?m:this._firstLevel}return this._startLevel},set:function(m){this._startLevel=m}},{key:"nextLoadLevel",get:function(){return this.manualLevelIndex!==-1?this.manualLevelIndex:this.hls.nextAutoLevel},set:function(m){this.level=m,this.manualLevelIndex===-1&&(this.hls.nextAutoLevel=m)}}])&&b(p.prototype,C),r}(A.default)},"./src/controller/level-helper.ts":function(o,l,a){a.r(l),a.d(l,"addGroupId",function(){return T}),a.d(l,"assignTrackIdsByGroup",function(){return P}),a.d(l,"updatePTS",function(){return I}),a.d(l,"updateFragPTSDTS",function(){return x}),a.d(l,"mergeDetails",function(){return _}),a.d(l,"mapPartIntersection",function(){return b}),a.d(l,"mapFragmentIntersection",function(){return D}),a.d(l,"adjustSliding",function(){return L}),a.d(l,"addSliding",function(){return S}),a.d(l,"computeReloadInterval",function(){return c}),a.d(l,"getFragmentWithSN",function(){return u}),a.d(l,"getPartWith",function(){return f});var v=a("./src/polyfills/number.ts"),h=a("./src/utils/logger.ts");function T(r,p,C){switch(p){case"audio":r.audioGroupIds||(r.audioGroupIds=[]),r.audioGroupIds.push(C);break;case"text":r.textGroupIds||(r.textGroupIds=[]),r.textGroupIds.push(C)}}function P(r){var p={};r.forEach(function(C){var g=C.groupId||"";C.id=p[g]=p[g]||0,p[g]++})}function I(r,p,C){A(r[p],r[C])}function A(r,p){var C=p.startPTS;if(Object(v.isFiniteNumber)(C)){var g,m=0;p.sn>r.sn?(m=C-r.start,g=r):(m=r.start-C,g=p),g.duration!==m&&(g.duration=m)}else p.sn>r.sn?r.cc===p.cc&&r.minEndPTS?p.start=r.start+(r.minEndPTS-r.start):p.start=r.start+r.duration:p.start=Math.max(r.start-p.duration,0)}function x(r,p,C,g,m,k){g-C<=0&&(h.logger.warn("Fragment should have a positive duration",p),g=C+p.duration,k=m+p.duration);var d=C,w=g,y=p.startPTS,O=p.endPTS;if(Object(v.isFiniteNumber)(y)){var F=Math.abs(y-C);Object(v.isFiniteNumber)(p.deltaPTS)?p.deltaPTS=Math.max(F,p.deltaPTS):p.deltaPTS=F,d=Math.max(C,y),C=Math.min(C,y),m=Math.min(m,p.startDTS),w=Math.min(g,O),g=Math.max(g,O),k=Math.max(k,p.endDTS)}p.duration=g-C;var B=C-p.start;p.appendedPTS=g,p.start=p.startPTS=C,p.maxStartPTS=d,p.startDTS=m,p.endPTS=g,p.minEndPTS=w,p.endDTS=k;var M,j=p.sn;if(!r||j<r.startSN||j>r.endSN)return 0;var U=j-r.startSN,z=r.fragments;for(z[U]=p,M=U;M>0;M--)A(z[M],z[M-1]);for(M=U;M<z.length-1;M++)A(z[M],z[M+1]);return r.fragmentHint&&A(z[z.length-1],r.fragmentHint),r.PTSKnown=r.alignedSliding=!0,B}function _(r,p){for(var C=null,g=r.fragments,m=g.length-1;m>=0;m--){var k=g[m].initSegment;if(k){C=k;break}}r.fragmentHint&&delete r.fragmentHint.endPTS;var d,w=0;if(D(r,p,function(j,U){var z;j.relurl&&(w=j.cc-U.cc),Object(v.isFiniteNumber)(j.startPTS)&&Object(v.isFiniteNumber)(j.endPTS)&&(U.start=U.startPTS=j.startPTS,U.startDTS=j.startDTS,U.appendedPTS=j.appendedPTS,U.maxStartPTS=j.maxStartPTS,U.endPTS=j.endPTS,U.endDTS=j.endDTS,U.minEndPTS=j.minEndPTS,U.duration=j.endPTS-j.startPTS,U.duration&&(d=U),p.PTSKnown=p.alignedSliding=!0),U.elementaryStreams=j.elementaryStreams,U.loader=j.loader,U.stats=j.stats,U.urlId=j.urlId,j.initSegment?(U.initSegment=j.initSegment,C=j.initSegment):U.initSegment&&U.initSegment.relurl!=((z=C)===null||z===void 0?void 0:z.relurl)||(U.initSegment=C)}),p.skippedSegments&&(p.deltaUpdateFailed=p.fragments.some(function(j){return!j}),p.deltaUpdateFailed)){h.logger.warn("[level-helper] Previous playlist missing segments skipped in delta playlist");for(var y=p.skippedSegments;y--;)p.fragments.shift();p.startSN=p.fragments[0].sn,p.startCC=p.fragments[0].cc}var O=p.fragments;if(w){h.logger.warn("discontinuity sliding from playlist, take drift into account");for(var F=0;F<O.length;F++)O[F].cc+=w}p.skippedSegments&&(p.startCC=p.fragments[0].cc),b(r.partList,p.partList,function(j,U){U.elementaryStreams=j.elementaryStreams,U.stats=j.stats}),d?x(p,d,d.startPTS,d.endPTS,d.startDTS,d.endDTS):L(r,p),O.length&&(p.totalduration=p.edge-O[0].start),p.driftStartTime=r.driftStartTime,p.driftStart=r.driftStart;var B=p.advancedDateTime;if(p.advanced&&B){var M=p.edge;p.driftStart||(p.driftStartTime=B,p.driftStart=M),p.driftEndTime=B,p.driftEnd=M}else p.driftEndTime=r.driftEndTime,p.driftEnd=r.driftEnd,p.advancedDateTime=r.advancedDateTime}function b(r,p,C){if(r&&p)for(var g=0,m=0,k=r.length;m<=k;m++){var d=r[m],w=p[m+g];d&&w&&d.index===w.index&&d.fragment.sn===w.fragment.sn?C(d,w):g--}}function D(r,p,C){for(var g=p.skippedSegments,m=Math.max(r.startSN,p.startSN)-p.startSN,k=(r.fragmentHint?1:0)+(g?p.endSN:Math.min(r.endSN,p.endSN))-p.startSN,d=p.startSN-r.startSN,w=p.fragmentHint?p.fragments.concat(p.fragmentHint):p.fragments,y=r.fragmentHint?r.fragments.concat(r.fragmentHint):r.fragments,O=m;O<=k;O++){var F=y[d+O],B=w[O];g&&!B&&O<g&&(B=p.fragments[O]=F),F&&B&&C(F,B)}}function L(r,p){var C=p.startSN+p.skippedSegments-r.startSN,g=r.fragments;C<0||C>=g.length||S(p,g[C].start)}function S(r,p){if(p){for(var C=r.fragments,g=r.skippedSegments;g<C.length;g++)C[g].start+=p;r.fragmentHint&&(r.fragmentHint.start+=p)}}function c(r,p){var C,g=1e3*r.levelTargetDuration,m=g/2,k=r.age,d=k>0&&k<3*g,w=p.loading.end-p.loading.start,y=r.availabilityDelay;if(r.updated===!1)if(d){var O=333*r.misses;C=Math.max(Math.min(m,2*w),O),r.availabilityDelay=(r.availabilityDelay||0)+C}else C=m;else d?(y=Math.min(y||g/2,k),r.availabilityDelay=y,C=y+g-k):C=g-w;return Math.round(C)}function u(r,p,C){if(!r||!r.details)return null;var g=r.details,m=g.fragments[p-g.startSN];return m||((m=g.fragmentHint)&&m.sn===p?m:p<g.startSN&&C&&C.sn===p?C:null)}function f(r,p,C){if(!r||!r.details)return null;var g=r.details.partList;if(g)for(var m=g.length;m--;){var k=g[m];if(k.index===C&&k.fragment.sn===p)return k}return null}},"./src/controller/stream-controller.ts":function(o,l,a){a.r(l),a.d(l,"default",function(){return r});var v=a("./src/polyfills/number.ts"),h=a("./src/controller/base-stream-controller.ts"),T=a("./src/is-supported.ts"),P=a("./src/events.ts"),I=a("./src/utils/buffer-helper.ts"),A=a("./src/controller/fragment-tracker.ts"),x=a("./src/types/loader.ts"),_=a("./src/loader/fragment.ts"),b=a("./src/demux/transmuxer-interface.ts"),D=a("./src/types/transmuxer.ts"),L=a("./src/controller/gap-controller.ts"),S=a("./src/errors.ts"),c=a("./src/utils/logger.ts");function u(p,C){for(var g=0;g<C.length;g++){var m=C[g];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(p,m.key,m)}}function f(p,C){return(f=Object.setPrototypeOf||function(g,m){return g.__proto__=m,g})(p,C)}var r=function(p){var C,g;function m(y,O){var F;return(F=p.call(this,y,O,"[stream-controller]")||this).audioCodecSwap=!1,F.gapController=null,F.level=-1,F._forceStartLoad=!1,F.altAudio=!1,F.audioOnly=!1,F.fragPlaying=null,F.onvplaying=null,F.onvseeked=null,F.fragLastKbps=0,F.stalled=!1,F.couldBacktrack=!1,F.audioCodecSwitch=!1,F.videoBuffer=null,F._registerListeners(),F}g=p,(C=m).prototype=Object.create(g.prototype),C.prototype.constructor=C,f(C,g);var k,d,w=m.prototype;return w._registerListeners=function(){var y=this.hls;y.on(P.Events.MEDIA_ATTACHED,this.onMediaAttached,this),y.on(P.Events.MEDIA_DETACHING,this.onMediaDetaching,this),y.on(P.Events.MANIFEST_LOADING,this.onManifestLoading,this),y.on(P.Events.MANIFEST_PARSED,this.onManifestParsed,this),y.on(P.Events.LEVEL_LOADING,this.onLevelLoading,this),y.on(P.Events.LEVEL_LOADED,this.onLevelLoaded,this),y.on(P.Events.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),y.on(P.Events.ERROR,this.onError,this),y.on(P.Events.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),y.on(P.Events.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),y.on(P.Events.BUFFER_CREATED,this.onBufferCreated,this),y.on(P.Events.BUFFER_FLUSHED,this.onBufferFlushed,this),y.on(P.Events.LEVELS_UPDATED,this.onLevelsUpdated,this),y.on(P.Events.FRAG_BUFFERED,this.onFragBuffered,this)},w._unregisterListeners=function(){var y=this.hls;y.off(P.Events.MEDIA_ATTACHED,this.onMediaAttached,this),y.off(P.Events.MEDIA_DETACHING,this.onMediaDetaching,this),y.off(P.Events.MANIFEST_LOADING,this.onManifestLoading,this),y.off(P.Events.MANIFEST_PARSED,this.onManifestParsed,this),y.off(P.Events.LEVEL_LOADED,this.onLevelLoaded,this),y.off(P.Events.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),y.off(P.Events.ERROR,this.onError,this),y.off(P.Events.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),y.off(P.Events.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),y.off(P.Events.BUFFER_CREATED,this.onBufferCreated,this),y.off(P.Events.BUFFER_FLUSHED,this.onBufferFlushed,this),y.off(P.Events.LEVELS_UPDATED,this.onLevelsUpdated,this),y.off(P.Events.FRAG_BUFFERED,this.onFragBuffered,this)},w.onHandlerDestroying=function(){this._unregisterListeners(),this.onMediaDetaching()},w.startLoad=function(y){if(this.levels){var O=this.lastCurrentTime,F=this.hls;if(this.stopLoad(),this.setInterval(100),this.level=-1,this.fragLoadError=0,!this.startFragRequested){var B=F.startLevel;B===-1&&(F.config.testBandwidth?(B=0,this.bitrateTest=!0):B=F.nextAutoLevel),this.level=F.nextLoadLevel=B,this.loadedmetadata=!1}O>0&&y===-1&&(this.log("Override startPosition with lastCurrentTime @"+O.toFixed(3)),y=O),this.state=h.State.IDLE,this.nextLoadPosition=this.startPosition=this.lastCurrentTime=y,this.tick()}else this._forceStartLoad=!0,this.state=h.State.STOPPED},w.stopLoad=function(){this._forceStartLoad=!1,p.prototype.stopLoad.call(this)},w.doTick=function(){switch(this.state){case h.State.IDLE:this.doTickIdle();break;case h.State.WAITING_LEVEL:var y,O=this.levels,F=this.level,B=O==null||(y=O[F])===null||y===void 0?void 0:y.details;if(B&&(!B.live||this.levelLastLoaded===this.level)){if(this.waitForCdnTuneIn(B))break;this.state=h.State.IDLE;break}break;case h.State.FRAG_LOADING_WAITING_RETRY:var M,j=self.performance.now(),U=this.retryDate;(!U||j>=U||(M=this.media)!==null&&M!==void 0&&M.seeking)&&(this.log("retryDate reached, switch back to IDLE state"),this.state=h.State.IDLE)}this.onTickEnd()},w.onTickEnd=function(){p.prototype.onTickEnd.call(this),this.checkBuffer(),this.checkFragmentChanged()},w.doTickIdle=function(){var y,O,F=this.hls,B=this.levelLastLoaded,M=this.levels,j=this.media,U=F.config,z=F.nextLoadLevel;if(B!==null&&(j||!this.startFragRequested&&U.startFragPrefetch)&&(!this.altAudio||!this.audioOnly)&&M&&M[z]){var q=M[z];this.level=F.nextLoadLevel=z;var Y=q.details;if(!Y||this.state===h.State.WAITING_LEVEL||Y.live&&this.levelLastLoaded!==z)this.state=h.State.WAITING_LEVEL;else{var W=this.getFwdBufferInfo(this.mediaBuffer?this.mediaBuffer:j,x.PlaylistLevelType.MAIN);if(W!==null&&!(W.len>=this.getMaxBufferLength(q.maxBitrate))){if(this._streamEnded(W,Y)){var J={};return this.altAudio&&(J.type="video"),this.hls.trigger(P.Events.BUFFER_EOS,J),void(this.state=h.State.ENDED)}var Z=W.end,ee=this.getNextFragment(Z,Y);if(this.couldBacktrack&&!this.fragPrevious&&ee&&ee.sn!=="initSegment"){var le=ee.sn-Y.startSN;le>1&&(ee=Y.fragments[le-1],this.fragmentTracker.removeFragment(ee))}if(ee&&this.fragmentTracker.getState(ee)===A.FragmentState.OK&&this.nextLoadPosition>Z){var ue=this.audioOnly&&!this.altAudio?_.ElementaryStreamTypes.AUDIO:_.ElementaryStreamTypes.VIDEO;this.afterBufferFlushed(j,ue,x.PlaylistLevelType.MAIN),ee=this.getNextFragment(this.nextLoadPosition,Y)}ee&&(!ee.initSegment||ee.initSegment.data||this.bitrateTest||(ee=ee.initSegment),((y=ee.decryptdata)===null||y===void 0?void 0:y.keyFormat)!=="identity"||(O=ee.decryptdata)!==null&&O!==void 0&&O.key?this.loadFragment(ee,Y,Z):this.loadKey(ee,Y))}}}},w.loadFragment=function(y,O,F){var B,M=this.fragmentTracker.getState(y);if(this.fragCurrent=y,M===A.FragmentState.BACKTRACKED){var j=this.fragmentTracker.getBacktrackData(y);if(j)return this._handleFragmentLoadProgress(j),void this._handleFragmentLoadComplete(j);M=A.FragmentState.NOT_LOADED}M===A.FragmentState.NOT_LOADED||M===A.FragmentState.PARTIAL?y.sn==="initSegment"?this._loadInitSegment(y):this.bitrateTest?(y.bitrateTest=!0,this.log("Fragment "+y.sn+" of level "+y.level+" is being downloaded to test bitrate and will not be buffered"),this._loadBitrateTestFrag(y)):(this.startFragRequested=!0,p.prototype.loadFragment.call(this,y,O,F)):M===A.FragmentState.APPENDING?this.reduceMaxBufferLength(y.duration)&&this.fragmentTracker.removeFragment(y):((B=this.media)===null||B===void 0?void 0:B.buffered.length)===0&&this.fragmentTracker.removeAllFragments()},w.getAppendedFrag=function(y){var O=this.fragmentTracker.getAppendedFrag(y,x.PlaylistLevelType.MAIN);return O&&"fragment"in O?O.fragment:O},w.getBufferedFrag=function(y){return this.fragmentTracker.getBufferedFrag(y,x.PlaylistLevelType.MAIN)},w.followingBufferedFrag=function(y){return y?this.getBufferedFrag(y.end+.5):null},w.immediateLevelSwitch=function(){this.abortCurrentFrag(),this.flushMainBuffer(0,Number.POSITIVE_INFINITY)},w.nextLevelSwitch=function(){var y=this.levels,O=this.media;if(O!=null&&O.readyState){var F,B=this.getAppendedFrag(O.currentTime);if(B&&B.start>1&&this.flushMainBuffer(0,B.start-1),!O.paused&&y){var M=y[this.hls.nextLoadLevel],j=this.fragLastKbps;F=j&&this.fragCurrent?this.fragCurrent.duration*M.maxBitrate/(1e3*j)+1:0}else F=0;var U=this.getBufferedFrag(O.currentTime+F);if(U){var z=this.followingBufferedFrag(U);if(z){this.abortCurrentFrag();var q=z.maxStartPTS?z.maxStartPTS:z.start,Y=z.duration,W=Math.max(U.end,q+Math.min(Math.max(Y-this.config.maxFragLookUpTolerance,.5*Y),.75*Y));this.flushMainBuffer(W,Number.POSITIVE_INFINITY)}}}},w.abortCurrentFrag=function(){var y=this.fragCurrent;this.fragCurrent=null,y!=null&&y.loader&&y.loader.abort(),this.state===h.State.KEY_LOADING&&(this.state=h.State.IDLE),this.nextLoadPosition=this.getLoadPosition()},w.flushMainBuffer=function(y,O){p.prototype.flushMainBuffer.call(this,y,O,this.altAudio?"video":null)},w.onMediaAttached=function(y,O){p.prototype.onMediaAttached.call(this,y,O);var F=O.media;this.onvplaying=this.onMediaPlaying.bind(this),this.onvseeked=this.onMediaSeeked.bind(this),F.addEventListener("playing",this.onvplaying),F.addEventListener("seeked",this.onvseeked),this.gapController=new L.default(this.config,F,this.fragmentTracker,this.hls)},w.onMediaDetaching=function(){var y=this.media;y&&(y.removeEventListener("playing",this.onvplaying),y.removeEventListener("seeked",this.onvseeked),this.onvplaying=this.onvseeked=null,this.videoBuffer=null),this.fragPlaying=null,this.gapController&&(this.gapController.destroy(),this.gapController=null),p.prototype.onMediaDetaching.call(this)},w.onMediaPlaying=function(){this.tick()},w.onMediaSeeked=function(){var y=this.media,O=y?y.currentTime:null;Object(v.isFiniteNumber)(O)&&this.log("Media seeked to "+O.toFixed(3)),this.tick()},w.onManifestLoading=function(){this.log("Trigger BUFFER_RESET"),this.hls.trigger(P.Events.BUFFER_RESET,void 0),this.fragmentTracker.removeAllFragments(),this.couldBacktrack=this.stalled=!1,this.startPosition=this.lastCurrentTime=0,this.fragPlaying=null},w.onManifestParsed=function(y,O){var F,B=!1,M=!1;O.levels.forEach(function(j){(F=j.audioCodec)&&(F.indexOf("mp4a.40.2")!==-1&&(B=!0),F.indexOf("mp4a.40.5")!==-1&&(M=!0))}),this.audioCodecSwitch=B&&M&&!Object(T.changeTypeSupported)(),this.audioCodecSwitch&&this.log("Both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"),this.levels=O.levels,this.startFragRequested=!1},w.onLevelLoading=function(y,O){var F=this.levels;if(F&&this.state===h.State.IDLE){var B=F[O.level];(!B.details||B.details.live&&this.levelLastLoaded!==O.level||this.waitForCdnTuneIn(B.details))&&(this.state=h.State.WAITING_LEVEL)}},w.onLevelLoaded=function(y,O){var F,B=this.levels,M=O.level,j=O.details,U=j.totalduration;if(B){this.log("Level "+M+" loaded ["+j.startSN+","+j.endSN+"], cc ["+j.startCC+", "+j.endCC+"] duration:"+U);var z=this.fragCurrent;!z||this.state!==h.State.FRAG_LOADING&&this.state!==h.State.FRAG_LOADING_WAITING_RETRY||z.level!==O.level&&z.loader&&(this.state=h.State.IDLE,z.loader.abort());var q=B[M],Y=0;if(j.live||(F=q.details)!==null&&F!==void 0&&F.live){if(j.fragments[0]||(j.deltaUpdateFailed=!0),j.deltaUpdateFailed)return;Y=this.alignPlaylists(j,q.details)}if(q.details=j,this.levelLastLoaded=M,this.hls.trigger(P.Events.LEVEL_UPDATED,{details:j,level:M}),this.state===h.State.WAITING_LEVEL){if(this.waitForCdnTuneIn(j))return;this.state=h.State.IDLE}this.startFragRequested?j.live&&this.synchronizeToLiveEdge(j):this.setStartPosition(j,Y),this.tick()}else this.warn("Levels were reset while loading level "+M)},w._handleFragmentLoadProgress=function(y){var O,F=y.frag,B=y.part,M=y.payload,j=this.levels;if(j){var U=j[F.level],z=U.details;if(z){var q=U.videoCodec,Y=z.PTSKnown||!z.live,W=(O=F.initSegment)===null||O===void 0?void 0:O.data,J=this._getAudioCodec(U),Z=this.transmuxer=this.transmuxer||new b.default(this.hls,x.PlaylistLevelType.MAIN,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)),ee=B?B.index:-1,le=ee!==-1,ue=new D.ChunkMetadata(F.level,F.sn,F.stats.chunkCount,M.byteLength,ee,le),fe=this.initPTS[F.cc];Z.push(M,W,J,q,F,B,z.totalduration,Y,ue,fe)}else this.warn("Dropping fragment "+F.sn+" of level "+F.level+" after level details were reset")}else this.warn("Levels were reset while fragment load was in progress. Fragment "+F.sn+" of level "+F.level+" will not be buffered")},w.onAudioTrackSwitching=function(y,O){var F=this.altAudio,B=!!O.url,M=O.id;if(!B){if(this.mediaBuffer!==this.media){this.log("Switching on main audio, use media.buffered to schedule main fragment loading"),this.mediaBuffer=this.media;var j=this.fragCurrent;j!=null&&j.loader&&(this.log("Switching to main audio track, cancel main fragment load"),j.loader.abort()),this.resetTransmuxer(),this.resetLoadingState()}else this.audioOnly&&this.resetTransmuxer();var U=this.hls;F&&U.trigger(P.Events.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:"audio"}),U.trigger(P.Events.AUDIO_TRACK_SWITCHED,{id:M})}},w.onAudioTrackSwitched=function(y,O){var F=O.id,B=!!this.hls.audioTracks[F].url;if(B){var M=this.videoBuffer;M&&this.mediaBuffer!==M&&(this.log("Switching on alternate audio, use video.buffered to schedule main fragment loading"),this.mediaBuffer=M)}this.altAudio=B,this.tick()},w.onBufferCreated=function(y,O){var F,B,M=O.tracks,j=!1;for(var U in M){var z=M[U];if(z.id==="main"){if(B=U,F=z,U==="video"){var q=M[U];q&&(this.videoBuffer=q.buffer)}}else j=!0}j&&F?(this.log("Alternate track found, use "+B+".buffered to schedule main fragment loading"),this.mediaBuffer=F.buffer):this.mediaBuffer=this.media},w.onFragBuffered=function(y,O){var F=O.frag,B=O.part;if(!F||F.type===x.PlaylistLevelType.MAIN){if(this.fragContextChanged(F))return this.warn("Fragment "+F.sn+(B?" p: "+B.index:"")+" of level "+F.level+" finished buffering, but was aborted. state: "+this.state),void(this.state===h.State.PARSED&&(this.state=h.State.IDLE));var M=B?B.stats:F.stats;this.fragLastKbps=Math.round(8*M.total/(M.buffering.end-M.loading.first)),F.sn!=="initSegment"&&(this.fragPrevious=F),this.fragBufferedComplete(F,B)}},w.onError=function(y,O){switch(O.details){case S.ErrorDetails.FRAG_LOAD_ERROR:case S.ErrorDetails.FRAG_LOAD_TIMEOUT:case S.ErrorDetails.KEY_LOAD_ERROR:case S.ErrorDetails.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(x.PlaylistLevelType.MAIN,O);break;case S.ErrorDetails.LEVEL_LOAD_ERROR:case S.ErrorDetails.LEVEL_LOAD_TIMEOUT:this.state!==h.State.ERROR&&(O.fatal?(this.warn(""+O.details),this.state=h.State.ERROR):O.levelRetry||this.state!==h.State.WAITING_LEVEL||(this.state=h.State.IDLE));break;case S.ErrorDetails.BUFFER_FULL_ERROR:if(O.parent==="main"&&(this.state===h.State.PARSING||this.state===h.State.PARSED)){var F=!0,B=this.getFwdBufferInfo(this.media,x.PlaylistLevelType.MAIN);B&&B.len>.5&&(F=!this.reduceMaxBufferLength(B.len)),F&&(this.warn("buffer full error also media.currentTime is not buffered, flush main"),this.immediateLevelSwitch()),this.resetLoadingState()}}},w.checkBuffer=function(){var y=this.media,O=this.gapController;if(y&&O&&y.readyState){var F=I.BufferHelper.getBuffered(y);!this.loadedmetadata&&F.length?(this.loadedmetadata=!0,this.seekToStartPos()):O.poll(this.lastCurrentTime),this.lastCurrentTime=y.currentTime}},w.onFragLoadEmergencyAborted=function(){this.state=h.State.IDLE,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.tickImmediate()},w.onBufferFlushed=function(y,O){var F=O.type;if(F!==_.ElementaryStreamTypes.AUDIO||this.audioOnly&&!this.altAudio){var B=(F===_.ElementaryStreamTypes.VIDEO?this.videoBuffer:this.mediaBuffer)||this.media;this.afterBufferFlushed(B,F,x.PlaylistLevelType.MAIN)}},w.onLevelsUpdated=function(y,O){this.levels=O.levels},w.swapAudioCodec=function(){this.audioCodecSwap=!this.audioCodecSwap},w.seekToStartPos=function(){var y=this.media,O=y.currentTime,F=this.startPosition;if(F>=0&&O<F){if(y.seeking)return void c.logger.log("could not seek to "+F+", already seeking at "+O);var B=I.BufferHelper.getBuffered(y),M=(B.length?B.start(0):0)-F;M>0&&(M<this.config.maxBufferHole||M<this.config.maxFragLookUpTolerance)&&(c.logger.log("adjusting start position by "+M+" to match buffer start"),F+=M,this.startPosition=F),this.log("seek to target start position "+F+" from current time "+O),y.currentTime=F}},w._getAudioCodec=function(y){var O=this.config.defaultAudioCodec||y.audioCodec;return this.audioCodecSwap&&O&&(this.log("Swapping audio codec"),O=O.indexOf("mp4a.40.5")!==-1?"mp4a.40.2":"mp4a.40.5"),O},w._loadBitrateTestFrag=function(y){var O=this;this._doFragLoad(y).then(function(F){var B=O.hls;if(F&&!B.nextLoadLevel&&!O.fragContextChanged(y)){O.fragLoadError=0,O.state=h.State.IDLE,O.startFragRequested=!1,O.bitrateTest=!1;var M=y.stats;M.parsing.start=M.parsing.end=M.buffering.start=M.buffering.end=self.performance.now(),B.trigger(P.Events.FRAG_LOADED,F)}})},w._handleTransmuxComplete=function(y){var O,F="main",B=this.hls,M=y.remuxResult,j=y.chunkMeta,U=this.getCurrentContext(j);if(!U)return this.warn("The loading context changed while buffering fragment "+j.sn+" of level "+j.level+". This chunk will not be buffered."),void this.resetLiveStartWhenNotLoaded(j.level);var z=U.frag,q=U.part,Y=U.level,W=M.video,J=M.text,Z=M.id3,ee=M.initSegment,le=this.altAudio?void 0:M.audio;if(!this.fragContextChanged(z)){if(this.state=h.State.PARSING,ee){ee.tracks&&(this._bufferInitSegment(Y,ee.tracks,z,j),B.trigger(P.Events.FRAG_PARSING_INIT_SEGMENT,{frag:z,id:F,tracks:ee.tracks}));var ue=ee.initPTS,fe=ee.timescale;Object(v.isFiniteNumber)(ue)&&(this.initPTS[z.cc]=ue,B.trigger(P.Events.INIT_PTS_FOUND,{frag:z,id:F,initPTS:ue,timescale:fe}))}if(W&&M.independent!==!1){if(Y.details){var ve=W.startPTS,be=W.endPTS,we=W.startDTS,_e=W.endDTS;if(q)q.elementaryStreams[W.type]={startPTS:ve,endPTS:be,startDTS:we,endDTS:_e};else if(W.firstKeyFrame&&W.independent&&(this.couldBacktrack=!0),W.dropped&&W.independent){if(this.getLoadPosition()+this.config.maxBufferHole<ve)return void this.backtrack(z);z.setElementaryStreamInfo(W.type,z.start,be,z.start,_e,!0)}z.setElementaryStreamInfo(W.type,ve,be,we,_e),this.bufferFragmentData(W,z,q,j)}}else if(M.independent===!1)return void this.backtrack(z);if(le){var Pe=le.startPTS,Le=le.endPTS,Be=le.startDTS,ut=le.endDTS;q&&(q.elementaryStreams[_.ElementaryStreamTypes.AUDIO]={startPTS:Pe,endPTS:Le,startDTS:Be,endDTS:ut}),z.setElementaryStreamInfo(_.ElementaryStreamTypes.AUDIO,Pe,Le,Be,ut),this.bufferFragmentData(le,z,q,j)}if(Z!=null&&(O=Z.samples)!==null&&O!==void 0&&O.length){var Ue={frag:z,id:F,samples:Z.samples};B.trigger(P.Events.FRAG_PARSING_METADATA,Ue)}if(J){var et={frag:z,id:F,samples:J.samples};B.trigger(P.Events.FRAG_PARSING_USERDATA,et)}}},w._bufferInitSegment=function(y,O,F,B){var M=this;if(this.state===h.State.PARSING){this.audioOnly=!!O.audio&&!O.video,this.altAudio&&!this.audioOnly&&delete O.audio;var j=O.audio,U=O.video,z=O.audiovideo;if(j){var q=y.audioCodec,Y=navigator.userAgent.toLowerCase();this.audioCodecSwitch&&(q&&(q=q.indexOf("mp4a.40.5")!==-1?"mp4a.40.2":"mp4a.40.5"),j.metadata.channelCount!==1&&Y.indexOf("firefox")===-1&&(q="mp4a.40.5")),Y.indexOf("android")!==-1&&j.container!=="audio/mpeg"&&(q="mp4a.40.2",this.log("Android: force audio codec to "+q)),y.audioCodec&&y.audioCodec!==q&&this.log('Swapping manifest audio codec "'+y.audioCodec+'" for "'+q+'"'),j.levelCodec=q,j.id="main",this.log("Init audio buffer, container:"+j.container+", codecs[selected/level/parsed]=["+(q||"")+"/"+(y.audioCodec||"")+"/"+j.codec+"]")}U&&(U.levelCodec=y.videoCodec,U.id="main",this.log("Init video buffer, container:"+U.container+", codecs[level/parsed]=["+(y.videoCodec||"")+"/"+U.codec+"]")),z&&this.log("Init audiovideo buffer, container:"+z.container+", codecs[level/parsed]=["+(y.attrs.CODECS||"")+"/"+z.codec+"]"),this.hls.trigger(P.Events.BUFFER_CODECS,O),Object.keys(O).forEach(function(W){var J=O[W].initSegment;J!=null&&J.byteLength&&M.hls.trigger(P.Events.BUFFER_APPENDING,{type:W,data:J,frag:F,part:null,chunkMeta:B,parent:F.type})}),this.tick()}},w.backtrack=function(y){this.couldBacktrack=!0,this.resetTransmuxer(),this.flushBufferGap(y);var O=this.fragmentTracker.backtrack(y);this.fragPrevious=null,this.nextLoadPosition=y.start,O?this.resetFragmentLoading(y):this.state=h.State.BACKTRACKING},w.checkFragmentChanged=function(){var y=this.media,O=null;if(y&&y.readyState>1&&y.seeking===!1){var F=y.currentTime;if(I.BufferHelper.isBuffered(y,F)?O=this.getAppendedFrag(F):I.BufferHelper.isBuffered(y,F+.1)&&(O=this.getAppendedFrag(F+.1)),O){var B=this.fragPlaying,M=O.level;B&&O.sn===B.sn&&B.level===M&&O.urlId===B.urlId||(this.hls.trigger(P.Events.FRAG_CHANGED,{frag:O}),B&&B.level===M||this.hls.trigger(P.Events.LEVEL_SWITCHED,{level:M}),this.fragPlaying=O)}}},k=m,(d=[{key:"nextLevel",get:function(){var y=this.nextBufferedFrag;return y?y.level:-1}},{key:"currentLevel",get:function(){var y=this.media;if(y){var O=this.getAppendedFrag(y.currentTime);if(O)return O.level}return-1}},{key:"nextBufferedFrag",get:function(){var y=this.media;if(y){var O=this.getAppendedFrag(y.currentTime);return this.followingBufferedFrag(O)}return null}},{key:"forceStartLoad",get:function(){return this._forceStartLoad}}])&&u(k.prototype,d),m}(h.default)},"./src/controller/subtitle-stream-controller.ts":function(o,l,a){a.r(l),a.d(l,"SubtitleStreamController",function(){return c});var v=a("./src/events.ts"),h=a("./src/utils/logger.ts"),T=a("./src/utils/buffer-helper.ts"),P=a("./src/controller/fragment-finders.ts"),I=a("./src/utils/discontinuities.ts"),A=a("./src/controller/level-helper.ts"),x=a("./src/controller/fragment-tracker.ts"),_=a("./src/controller/base-stream-controller.ts"),b=a("./src/types/loader.ts"),D=a("./src/types/level.ts");function L(u,f){for(var r=0;r<f.length;r++){var p=f[r];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(u,p.key,p)}}function S(u,f){return(S=Object.setPrototypeOf||function(r,p){return r.__proto__=p,r})(u,f)}var c=function(u){var f,r;function p(k,d){var w;return(w=u.call(this,k,d,"[subtitle-stream-controller]")||this).levels=[],w.currentTrackId=-1,w.tracksBuffered=[],w.mainDetails=null,w._registerListeners(),w}r=u,(f=p).prototype=Object.create(r.prototype),f.prototype.constructor=f,S(f,r);var C,g,m=p.prototype;return m.onHandlerDestroying=function(){this._unregisterListeners(),this.mainDetails=null},m._registerListeners=function(){var k=this.hls;k.on(v.Events.MEDIA_ATTACHED,this.onMediaAttached,this),k.on(v.Events.MEDIA_DETACHING,this.onMediaDetaching,this),k.on(v.Events.MANIFEST_LOADING,this.onManifestLoading,this),k.on(v.Events.LEVEL_LOADED,this.onLevelLoaded,this),k.on(v.Events.ERROR,this.onError,this),k.on(v.Events.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),k.on(v.Events.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),k.on(v.Events.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),k.on(v.Events.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),k.on(v.Events.BUFFER_FLUSHING,this.onBufferFlushing,this)},m._unregisterListeners=function(){var k=this.hls;k.off(v.Events.MEDIA_ATTACHED,this.onMediaAttached,this),k.off(v.Events.MEDIA_DETACHING,this.onMediaDetaching,this),k.off(v.Events.MANIFEST_LOADING,this.onManifestLoading,this),k.off(v.Events.LEVEL_LOADED,this.onLevelLoaded,this),k.off(v.Events.ERROR,this.onError,this),k.off(v.Events.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),k.off(v.Events.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),k.off(v.Events.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),k.off(v.Events.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),k.off(v.Events.BUFFER_FLUSHING,this.onBufferFlushing,this)},m.startLoad=function(){this.stopLoad(),this.state=_.State.IDLE,this.setInterval(500),this.tick()},m.onManifestLoading=function(){this.mainDetails=null,this.fragmentTracker.removeAllFragments()},m.onLevelLoaded=function(k,d){this.mainDetails=d.details},m.onSubtitleFragProcessed=function(k,d){var w=d.frag,y=d.success;if(this.fragPrevious=w,this.state=_.State.IDLE,y){var O=this.tracksBuffered[this.currentTrackId];if(O){for(var F,B=w.start,M=0;M<O.length;M++)if(B>=O[M].start&&B<=O[M].end){F=O[M];break}var j=w.start+w.duration;F?F.end=j:(F={start:B,end:j},O.push(F)),this.fragmentTracker.fragBuffered(w)}}},m.onBufferFlushing=function(k,d){var w=d.startOffset,y=d.endOffset;if(w===0&&y!==Number.POSITIVE_INFINITY){var O=this.currentTrackId,F=this.levels;if(!F.length||!F[O]||!F[O].details)return;var B=y-F[O].details.targetduration;if(B<=0)return;d.endOffsetSubtitles=Math.max(0,B),this.tracksBuffered.forEach(function(M){for(var j=0;j<M.length;)if(M[j].end<=B)M.shift();else{if(!(M[j].start<B))break;M[j].start=B,j++}}),this.fragmentTracker.removeFragmentsInRange(w,B,b.PlaylistLevelType.SUBTITLE)}},m.onError=function(k,d){var w,y=d.frag;y&&y.type===b.PlaylistLevelType.SUBTITLE&&((w=this.fragCurrent)!==null&&w!==void 0&&w.loader&&this.fragCurrent.loader.abort(),this.state=_.State.IDLE)},m.onSubtitleTracksUpdated=function(k,d){var w=this,y=d.subtitleTracks;this.tracksBuffered=[],this.levels=y.map(function(O){return new D.Level(O)}),this.fragmentTracker.removeAllFragments(),this.fragPrevious=null,this.levels.forEach(function(O){w.tracksBuffered[O.id]=[]}),this.mediaBuffer=null},m.onSubtitleTrackSwitch=function(k,d){if(this.currentTrackId=d.id,this.levels.length&&this.currentTrackId!==-1){var w=this.levels[this.currentTrackId];w!=null&&w.details?(this.mediaBuffer=this.mediaBufferTimeRanges,this.setInterval(500)):this.mediaBuffer=null}else this.clearInterval()},m.onSubtitleTrackLoaded=function(k,d){var w,y=d.details,O=d.id,F=this.currentTrackId,B=this.levels;if(B.length){var M=B[F];if(!(O>=B.length||O!==F)&&M){if(this.mediaBuffer=this.mediaBufferTimeRanges,y.live||(w=M.details)!==null&&w!==void 0&&w.live){var j=this.mainDetails;if(y.deltaUpdateFailed||!j)return;var U=j.fragments[0];M.details?this.alignPlaylists(y,M.details)===0&&U&&Object(A.addSliding)(y,U.start):y.hasProgramDateTime&&j.hasProgramDateTime?Object(I.alignMediaPlaylistByPDT)(y,j):U&&Object(A.addSliding)(y,U.start)}M.details=y,this.levelLastLoaded=O,this.tick(),y.live&&!this.fragCurrent&&this.media&&this.state===_.State.IDLE&&(Object(P.findFragmentByPTS)(null,y.fragments,this.media.currentTime,0)||(this.warn("Subtitle playlist not aligned with playback"),M.details=void 0))}}},m._handleFragmentLoadComplete=function(k){var d=k.frag,w=k.payload,y=d.decryptdata,O=this.hls;if(!this.fragContextChanged(d)&&w&&w.byteLength>0&&y&&y.key&&y.iv&&y.method==="AES-128"){var F=performance.now();this.decrypter.webCryptoDecrypt(new Uint8Array(w),y.key.buffer,y.iv.buffer).then(function(B){var M=performance.now();O.trigger(v.Events.FRAG_DECRYPTED,{frag:d,payload:B,stats:{tstart:F,tdecrypt:M}})})}},m.doTick=function(){if(this.media){if(this.state===_.State.IDLE){var k,d=this.currentTrackId,w=this.levels;if(!w.length||!w[d]||!w[d].details)return;var y=w[d].details,O=y.targetduration,F=this.config,B=this.media,M=T.BufferHelper.bufferedInfo(this.mediaBufferTimeRanges,B.currentTime-O,F.maxBufferHole),j=M.end;if(M.len>this.getMaxBufferLength()+O)return;console.assert(y,"Subtitle track details are defined on idle subtitle stream controller tick");var U,z=y.fragments,q=z.length,Y=y.edge,W=this.fragPrevious;if(j<Y){var J=F.maxFragLookUpTolerance;W&&y.hasProgramDateTime&&(U=Object(P.findFragmentByPDT)(z,W.endProgramDateTime,J)),U||!(U=Object(P.findFragmentByPTS)(W,z,j,J))&&W&&W.start<z[0].start&&(U=z[0])}else U=z[q-1];(k=U)!==null&&k!==void 0&&k.encrypted?(h.logger.log("Loading key for "+U.sn),this.state=_.State.KEY_LOADING,this.hls.trigger(v.Events.KEY_LOADING,{frag:U})):U&&this.fragmentTracker.getState(U)===x.FragmentState.NOT_LOADED&&this.loadFragment(U,y,j)}}else this.state=_.State.IDLE},m.loadFragment=function(k,d,w){this.fragCurrent=k,u.prototype.loadFragment.call(this,k,d,w)},C=p,(g=[{key:"mediaBufferTimeRanges",get:function(){return this.tracksBuffered[this.currentTrackId]||[]}}])&&L(C.prototype,g),p}(_.default)},"./src/controller/subtitle-track-controller.ts":function(o,l,a){a.r(l);var v=a("./src/events.ts"),h=a("./src/utils/texttrack-utils.ts"),T=a("./src/controller/base-playlist-controller.ts"),P=a("./src/types/loader.ts");function I(b,D){for(var L=0;L<D.length;L++){var S=D[L];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(b,S.key,S)}}function A(b,D){return(A=Object.setPrototypeOf||function(L,S){return L.__proto__=S,L})(b,D)}var x=function(b){var D,L;function S(r){var p;return(p=b.call(this,r,"[subtitle-track-controller]")||this).media=null,p.tracks=[],p.groupId=null,p.tracksInGroup=[],p.trackId=-1,p.selectDefaultTrack=!0,p.queuedDefaultTrack=-1,p.trackChangeListener=function(){return p.onTextTracksChanged()},p.asyncPollTrackChange=function(){return p.pollTrackChange(0)},p.useTextTrackPolling=!1,p.subtitlePollingInterval=-1,p.subtitleDisplay=!0,p.registerListeners(),p}L=b,(D=S).prototype=Object.create(L.prototype),D.prototype.constructor=D,A(D,L);var c,u,f=S.prototype;return f.destroy=function(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,this.trackChangeListener=this.asyncPollTrackChange=null,b.prototype.destroy.call(this)},f.registerListeners=function(){var r=this.hls;r.on(v.Events.MEDIA_ATTACHED,this.onMediaAttached,this),r.on(v.Events.MEDIA_DETACHING,this.onMediaDetaching,this),r.on(v.Events.MANIFEST_LOADING,this.onManifestLoading,this),r.on(v.Events.MANIFEST_PARSED,this.onManifestParsed,this),r.on(v.Events.LEVEL_LOADING,this.onLevelLoading,this),r.on(v.Events.LEVEL_SWITCHING,this.onLevelSwitching,this),r.on(v.Events.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),r.on(v.Events.ERROR,this.onError,this)},f.unregisterListeners=function(){var r=this.hls;r.off(v.Events.MEDIA_ATTACHED,this.onMediaAttached,this),r.off(v.Events.MEDIA_DETACHING,this.onMediaDetaching,this),r.off(v.Events.MANIFEST_LOADING,this.onManifestLoading,this),r.off(v.Events.MANIFEST_PARSED,this.onManifestParsed,this),r.off(v.Events.LEVEL_LOADING,this.onLevelLoading,this),r.off(v.Events.LEVEL_SWITCHING,this.onLevelSwitching,this),r.off(v.Events.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),r.off(v.Events.ERROR,this.onError,this)},f.onMediaAttached=function(r,p){this.media=p.media,this.media&&(this.queuedDefaultTrack>-1&&(this.subtitleTrack=this.queuedDefaultTrack,this.queuedDefaultTrack=-1),this.useTextTrackPolling=!(this.media.textTracks&&"onchange"in this.media.textTracks),this.useTextTrackPolling?this.pollTrackChange(500):this.media.textTracks.addEventListener("change",this.asyncPollTrackChange))},f.pollTrackChange=function(r){self.clearInterval(this.subtitlePollingInterval),this.subtitlePollingInterval=self.setInterval(this.trackChangeListener,r)},f.onMediaDetaching=function(){this.media&&(self.clearInterval(this.subtitlePollingInterval),this.useTextTrackPolling||this.media.textTracks.removeEventListener("change",this.asyncPollTrackChange),this.trackId>-1&&(this.queuedDefaultTrack=this.trackId),_(this.media.textTracks).forEach(function(r){Object(h.clearCurrentCues)(r)}),this.subtitleTrack=-1,this.media=null)},f.onManifestLoading=function(){this.tracks=[],this.groupId=null,this.tracksInGroup=[],this.trackId=-1,this.selectDefaultTrack=!0},f.onManifestParsed=function(r,p){this.tracks=p.subtitleTracks},f.onSubtitleTrackLoaded=function(r,p){var C=p.id,g=p.details,m=this.trackId,k=this.tracksInGroup[m];if(k){var d=k.details;k.details=p.details,this.log("subtitle track "+C+" loaded ["+g.startSN+"-"+g.endSN+"]"),C===this.trackId&&(this.retryCount=0,this.playlistLoaded(C,p,d))}else this.warn("Invalid subtitle track id "+C)},f.onLevelLoading=function(r,p){this.switchLevel(p.level)},f.onLevelSwitching=function(r,p){this.switchLevel(p.level)},f.switchLevel=function(r){var p=this.hls.levels[r];if(p!=null&&p.textGroupIds){var C=p.textGroupIds[p.urlId];if(this.groupId!==C){var g=this.tracksInGroup?this.tracksInGroup[this.trackId]:void 0,m=this.tracks.filter(function(w){return!C||w.groupId===C});this.tracksInGroup=m;var k=this.findTrackId(g==null?void 0:g.name)||this.findTrackId();this.groupId=C;var d={subtitleTracks:m};this.log("Updating subtitle tracks, "+m.length+' track(s) found in "'+C+'" group-id'),this.hls.trigger(v.Events.SUBTITLE_TRACKS_UPDATED,d),k!==-1&&this.setSubtitleTrack(k,g)}}},f.findTrackId=function(r){for(var p=this.tracksInGroup,C=0;C<p.length;C++){var g=p[C];if((!this.selectDefaultTrack||g.default)&&(!r||r===g.name))return g.id}return-1},f.onError=function(r,p){b.prototype.onError.call(this,r,p),!p.fatal&&p.context&&p.context.type===P.PlaylistContextType.SUBTITLE_TRACK&&p.context.id===this.trackId&&p.context.groupId===this.groupId&&this.retryLoadingOrFail(p)},f.loadPlaylist=function(r){var p=this.tracksInGroup[this.trackId];if(this.shouldLoadTrack(p)){var C=p.id,g=p.groupId,m=p.url;if(r)try{m=r.addDirectives(m)}catch(k){this.warn("Could not construct new URL with HLS Delivery Directives: "+k)}this.log("Loading subtitle playlist for id "+C),this.hls.trigger(v.Events.SUBTITLE_TRACK_LOADING,{url:m,id:C,groupId:g,deliveryDirectives:r||null})}},f.toggleTrackModes=function(r){var p=this,C=this.media,g=this.subtitleDisplay,m=this.trackId;if(C){var k=_(C.textTracks),d=k.filter(function(O){return O.groupId===p.groupId});if(r===-1)[].slice.call(k).forEach(function(O){O.mode="disabled"});else{var w=d[m];w&&(w.mode="disabled")}var y=d[r];y&&(y.mode=g?"showing":"hidden")}},f.setSubtitleTrack=function(r,p){var C,g=this.tracksInGroup;if(this.media){if(this.trackId!==r&&this.toggleTrackModes(r),!(this.trackId===r&&(r===-1||(C=g[r])!==null&&C!==void 0&&C.details)||r<-1||r>=g.length)){this.clearTimer();var m=g[r];if(this.log("Switching to subtitle track "+r),this.trackId=r,m){var k=m.id,d=m.groupId,w=d===void 0?"":d,y=m.name,O=m.type,F=m.url;this.hls.trigger(v.Events.SUBTITLE_TRACK_SWITCH,{id:k,groupId:w,name:y,type:O,url:F});var B=this.switchParams(m.url,p==null?void 0:p.details);this.loadPlaylist(B)}else this.hls.trigger(v.Events.SUBTITLE_TRACK_SWITCH,{id:r})}}else this.queuedDefaultTrack=r},f.onTextTracksChanged=function(){if(this.useTextTrackPolling||self.clearInterval(this.subtitlePollingInterval),this.media&&this.hls.config.renderTextTracksNatively){for(var r=-1,p=_(this.media.textTracks),C=0;C<p.length;C++)if(p[C].mode==="hidden")r=C;else if(p[C].mode==="showing"){r=C;break}this.subtitleTrack!==r&&(this.subtitleTrack=r)}},c=S,(u=[{key:"subtitleTracks",get:function(){return this.tracksInGroup}},{key:"subtitleTrack",get:function(){return this.trackId},set:function(r){this.selectDefaultTrack=!1;var p=this.tracksInGroup?this.tracksInGroup[this.trackId]:void 0;this.setSubtitleTrack(r,p)}}])&&I(c.prototype,u),S}(T.default);function _(b){for(var D=[],L=0;L<b.length;L++){var S=b[L];S.kind==="subtitles"&&S.label&&D.push(b[L])}return D}l.default=x},"./src/controller/timeline-controller.ts":function(o,l,a){a.r(l),a.d(l,"TimelineController",function(){return D});var v=a("./src/polyfills/number.ts"),h=a("./src/events.ts"),T=a("./src/utils/cea-608-parser.ts"),P=a("./src/utils/output-filter.ts"),I=a("./src/utils/webvtt-parser.ts"),A=a("./src/utils/texttrack-utils.ts"),x=a("./src/utils/imsc1-ttml-parser.ts"),_=a("./src/types/loader.ts"),b=a("./src/utils/logger.ts"),D=function(){function S(u){if(this.hls=void 0,this.media=null,this.config=void 0,this.enabled=!0,this.Cues=void 0,this.textTracks=[],this.tracks=[],this.initPTS=[],this.timescale=[],this.unparsedVttFrags=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.cea608Parser1=void 0,this.cea608Parser2=void 0,this.lastSn=-1,this.prevCC=-1,this.vttCCs={ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!1}},this.captionsProperties=void 0,this.hls=u,this.config=u.config,this.Cues=u.config.cueHandler,this.captionsProperties={textTrack1:{label:this.config.captionsTextTrack1Label,languageCode:this.config.captionsTextTrack1LanguageCode},textTrack2:{label:this.config.captionsTextTrack2Label,languageCode:this.config.captionsTextTrack2LanguageCode},textTrack3:{label:this.config.captionsTextTrack3Label,languageCode:this.config.captionsTextTrack3LanguageCode},textTrack4:{label:this.config.captionsTextTrack4Label,languageCode:this.config.captionsTextTrack4LanguageCode}},this.config.enableCEA708Captions){var f=new P.default(this,"textTrack1"),r=new P.default(this,"textTrack2"),p=new P.default(this,"textTrack3"),C=new P.default(this,"textTrack4");this.cea608Parser1=new T.default(1,f,r),this.cea608Parser2=new T.default(3,p,C)}u.on(h.Events.MEDIA_ATTACHING,this.onMediaAttaching,this),u.on(h.Events.MEDIA_DETACHING,this.onMediaDetaching,this),u.on(h.Events.MANIFEST_LOADING,this.onManifestLoading,this),u.on(h.Events.MANIFEST_LOADED,this.onManifestLoaded,this),u.on(h.Events.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),u.on(h.Events.FRAG_LOADING,this.onFragLoading,this),u.on(h.Events.FRAG_LOADED,this.onFragLoaded,this),u.on(h.Events.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),u.on(h.Events.FRAG_DECRYPTED,this.onFragDecrypted,this),u.on(h.Events.INIT_PTS_FOUND,this.onInitPtsFound,this),u.on(h.Events.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),u.on(h.Events.BUFFER_FLUSHING,this.onBufferFlushing,this)}var c=S.prototype;return c.destroy=function(){var u=this.hls;u.off(h.Events.MEDIA_ATTACHING,this.onMediaAttaching,this),u.off(h.Events.MEDIA_DETACHING,this.onMediaDetaching,this),u.off(h.Events.MANIFEST_LOADING,this.onManifestLoading,this),u.off(h.Events.MANIFEST_LOADED,this.onManifestLoaded,this),u.off(h.Events.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),u.off(h.Events.FRAG_LOADING,this.onFragLoading,this),u.off(h.Events.FRAG_LOADED,this.onFragLoaded,this),u.off(h.Events.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),u.off(h.Events.FRAG_DECRYPTED,this.onFragDecrypted,this),u.off(h.Events.INIT_PTS_FOUND,this.onInitPtsFound,this),u.off(h.Events.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),u.off(h.Events.BUFFER_FLUSHING,this.onBufferFlushing,this),this.hls=this.config=this.cea608Parser1=this.cea608Parser2=null},c.addCues=function(u,f,r,p,C){for(var g,m,k,d,w=!1,y=C.length;y--;){var O=C[y],F=(g=O[0],m=O[1],k=f,d=r,Math.min(m,d)-Math.max(g,k));if(F>=0&&(O[0]=Math.min(O[0],f),O[1]=Math.max(O[1],r),w=!0,F/(r-f)>.5))return}if(w||C.push([f,r]),this.config.renderTextTracksNatively){var B=this.captionsTracks[u];this.Cues.newCue(B,f,r,p)}else{var M=this.Cues.newCue(null,f,r,p);this.hls.trigger(h.Events.CUES_PARSED,{type:"captions",cues:M,track:u})}},c.onInitPtsFound=function(u,f){var r=this,p=f.frag,C=f.id,g=f.initPTS,m=f.timescale,k=this.unparsedVttFrags;C==="main"&&(this.initPTS[p.cc]=g,this.timescale[p.cc]=m),k.length&&(this.unparsedVttFrags=[],k.forEach(function(d){r.onFragLoaded(h.Events.FRAG_LOADED,d)}))},c.getExistingTrack=function(u){var f=this.media;if(f)for(var r=0;r<f.textTracks.length;r++){var p=f.textTracks[r];if(p[u])return p}return null},c.createCaptionsTrack=function(u){this.config.renderTextTracksNatively?this.createNativeTrack(u):this.createNonNativeTrack(u)},c.createNativeTrack=function(u){if(!this.captionsTracks[u]){var f=this.captionsProperties,r=this.captionsTracks,p=this.media,C=f[u],g=C.label,m=C.languageCode,k=this.getExistingTrack(u);if(k)r[u]=k,Object(A.clearCurrentCues)(r[u]),Object(A.sendAddTrackEvent)(r[u],p);else{var d=this.createTextTrack("captions",g,m);d&&(d[u]=!0,r[u]=d)}}},c.createNonNativeTrack=function(u){if(!this.nonNativeCaptionsTracks[u]){var f=this.captionsProperties[u];if(f){var r={_id:u,label:f.label,kind:"captions",default:!!f.media&&!!f.media.default,closedCaptions:f.media};this.nonNativeCaptionsTracks[u]=r,this.hls.trigger(h.Events.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:[r]})}}},c.createTextTrack=function(u,f,r){var p=this.media;if(p)return p.addTextTrack(u,f,r)},c.onMediaAttaching=function(u,f){this.media=f.media,this._cleanTracks()},c.onMediaDetaching=function(){var u=this.captionsTracks;Object.keys(u).forEach(function(f){Object(A.clearCurrentCues)(u[f]),delete u[f]}),this.nonNativeCaptionsTracks={}},c.onManifestLoading=function(){this.lastSn=-1,this.prevCC=-1,this.vttCCs={ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!1}},this._cleanTracks(),this.tracks=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.textTracks=[],this.unparsedVttFrags=this.unparsedVttFrags||[],this.initPTS=[],this.timescale=[],this.cea608Parser1&&this.cea608Parser2&&(this.cea608Parser1.reset(),this.cea608Parser2.reset())},c._cleanTracks=function(){var u=this.media;if(u){var f=u.textTracks;if(f)for(var r=0;r<f.length;r++)Object(A.clearCurrentCues)(f[r])}},c.onSubtitleTracksUpdated=function(u,f){var r=this;this.textTracks=[];var p=f.subtitleTracks||[],C=p.some(function(d){return d.textCodec===x.IMSC1_CODEC});if(this.config.enableWebVTT||C&&this.config.enableIMSC1){var g=this.tracks&&p&&this.tracks.length===p.length;if(this.tracks=p||[],this.config.renderTextTracksNatively){var m=this.media?this.media.textTracks:[];this.tracks.forEach(function(d,w){var y;if(w<m.length){for(var O=null,F=0;F<m.length;F++)if(L(m[F],d)){O=m[F];break}O&&(y=O)}y?Object(A.clearCurrentCues)(y):(y=r.createTextTrack("subtitles",d.name,d.lang))&&(y.mode="disabled"),y&&(y.groupId=d.groupId,r.textTracks.push(y))})}else if(!g&&this.tracks&&this.tracks.length){var k=this.tracks.map(function(d){return{label:d.name,kind:d.type.toLowerCase(),default:d.default,subtitleTrack:d}});this.hls.trigger(h.Events.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:k})}}},c.onManifestLoaded=function(u,f){var r=this;this.config.enableCEA708Captions&&f.captions&&f.captions.forEach(function(p){var C=/(?:CC|SERVICE)([1-4])/.exec(p.instreamId);if(C){var g="textTrack"+C[1],m=r.captionsProperties[g];m&&(m.label=p.name,p.lang&&(m.languageCode=p.lang),m.media=p)}})},c.onFragLoading=function(u,f){var r=this.cea608Parser1,p=this.cea608Parser2,C=this.lastSn;if(this.enabled&&r&&p&&f.frag.type===_.PlaylistLevelType.MAIN){var g=f.frag.sn;g!==C+1&&(r.reset(),p.reset()),this.lastSn=g}},c.onFragLoaded=function(u,f){var r=f.frag,p=f.payload,C=this.initPTS,g=this.unparsedVttFrags;if(r.type===_.PlaylistLevelType.SUBTITLE)if(p.byteLength){if(!Object(v.isFiniteNumber)(C[r.cc]))return g.push(f),void(C.length&&this.hls.trigger(h.Events.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:r,error:new Error("Missing initial subtitle PTS")}));var m=r.decryptdata;if(m==null||m.key==null||m.method!=="AES-128"){var k=this.tracks[r.level],d=this.vttCCs;d[r.cc]||(d[r.cc]={start:r.start,prevCC:this.prevCC,new:!0},this.prevCC=r.cc),k&&k.textCodec===x.IMSC1_CODEC?this._parseIMSC1(r,p):this._parseVTTs(r,p,d)}}else this.hls.trigger(h.Events.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:r,error:new Error("Empty subtitle payload")})},c._parseIMSC1=function(u,f){var r=this,p=this.hls;Object(x.parseIMSC1)(f,this.initPTS[u.cc],this.timescale[u.cc],function(C){r._appendCues(C,u.level),p.trigger(h.Events.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:u})},function(C){b.logger.log("Failed to parse IMSC1: "+C),p.trigger(h.Events.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:u,error:C})})},c._parseVTTs=function(u,f,r){var p=this,C=this.hls;Object(I.parseWebVTT)(f,this.initPTS[u.cc],this.timescale[u.cc],r,u.cc,u.start,function(g){p._appendCues(g,u.level),C.trigger(h.Events.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:u})},function(g){p._fallbackToIMSC1(u,f),b.logger.log("Failed to parse VTT cue: "+g),C.trigger(h.Events.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:u,error:g})})},c._fallbackToIMSC1=function(u,f){var r=this,p=this.tracks[u.level];p.textCodec||Object(x.parseIMSC1)(f,this.initPTS[u.cc],this.timescale[u.cc],function(){p.textCodec=x.IMSC1_CODEC,r._parseIMSC1(u,f)},function(){p.textCodec="wvtt"})},c._appendCues=function(u,f){var r=this.hls;if(this.config.renderTextTracksNatively){var p=this.textTracks[f];if(p.mode==="disabled")return;u.forEach(function(g){return Object(A.addCueToTrack)(p,g)})}else{var C=this.tracks[f].default?"default":"subtitles"+f;r.trigger(h.Events.CUES_PARSED,{type:"subtitles",cues:u,track:C})}},c.onFragDecrypted=function(u,f){var r=f.frag;if(r.type===_.PlaylistLevelType.SUBTITLE){if(!Object(v.isFiniteNumber)(this.initPTS[r.cc]))return void this.unparsedVttFrags.push(f);this.onFragLoaded(h.Events.FRAG_LOADED,f)}},c.onSubtitleTracksCleared=function(){this.tracks=[],this.captionsTracks={}},c.onFragParsingUserdata=function(u,f){var r=this.cea608Parser1,p=this.cea608Parser2;if(this.enabled&&r&&p)for(var C=0;C<f.samples.length;C++){var g=f.samples[C].bytes;if(g){var m=this.extractCea608Data(g);r.addData(f.samples[C].pts,m[0]),p.addData(f.samples[C].pts,m[1])}}},c.onBufferFlushing=function(u,f){var r=f.startOffset,p=f.endOffset,C=f.endOffsetSubtitles,g=f.type,m=this.media;if(m&&!(m.currentTime<p)){if(!g||g==="video"){var k=this.captionsTracks;Object.keys(k).forEach(function(w){return Object(A.removeCuesInRange)(k[w],r,p)})}if(this.config.renderTextTracksNatively&&r===0&&C!==void 0){var d=this.textTracks;Object.keys(d).forEach(function(w){return Object(A.removeCuesInRange)(d[w],r,C)})}}},c.extractCea608Data=function(u){for(var f=31&u[0],r=2,p=[[],[]],C=0;C<f;C++){var g=u[r++],m=127&u[r++],k=127&u[r++],d=3&g;m===0&&k===0||4&g&&(d!==0&&d!==1||(p[d].push(m),p[d].push(k)))}return p},S}();function L(S,c){return S&&S.label===c.name&&!(S.textTrack1||S.textTrack2)}},"./src/crypt/aes-crypto.ts":function(o,l,a){a.r(l),a.d(l,"default",function(){return v});var v=function(){function h(T,P){this.subtle=void 0,this.aesIV=void 0,this.subtle=T,this.aesIV=P}return h.prototype.decrypt=function(T,P){return this.subtle.decrypt({name:"AES-CBC",iv:this.aesIV},P,T)},h}()},"./src/crypt/aes-decryptor.ts":function(o,l,a){a.r(l),a.d(l,"removePadding",function(){return h}),a.d(l,"default",function(){return T});var v=a("./src/utils/typed-array.ts");function h(P){var I=P.byteLength,A=I&&new DataView(P.buffer).getUint8(I-1);return A?Object(v.sliceUint8)(P,0,I-A):P}var T=function(){function P(){this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.invSubMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.ksRows=0,this.keySize=0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.initTable()}var I=P.prototype;return I.uint8ArrayToUint32Array_=function(A){for(var x=new DataView(A),_=new Uint32Array(4),b=0;b<4;b++)_[b]=x.getUint32(4*b);return _},I.initTable=function(){var A=this.sBox,x=this.invSBox,_=this.subMix,b=_[0],D=_[1],L=_[2],S=_[3],c=this.invSubMix,u=c[0],f=c[1],r=c[2],p=c[3],C=new Uint32Array(256),g=0,m=0,k=0;for(k=0;k<256;k++)C[k]=k<128?k<<1:k<<1^283;for(k=0;k<256;k++){var d=m^m<<1^m<<2^m<<3^m<<4;d=d>>>8^255&d^99,A[g]=d,x[d]=g;var w=C[g],y=C[w],O=C[y],F=257*C[d]^16843008*d;b[g]=F<<24|F>>>8,D[g]=F<<16|F>>>16,L[g]=F<<8|F>>>24,S[g]=F,F=16843009*O^65537*y^257*w^16843008*g,u[d]=F<<24|F>>>8,f[d]=F<<16|F>>>16,r[d]=F<<8|F>>>24,p[d]=F,g?(g=w^C[C[C[O^w]]],m^=C[C[m]]):g=m=1}},I.expandKey=function(A){for(var x=this.uint8ArrayToUint32Array_(A),_=!0,b=0;b<x.length&&_;)_=x[b]===this.key[b],b++;if(!_){this.key=x;var D=this.keySize=x.length;if(D!==4&&D!==6&&D!==8)throw new Error("Invalid aes key size="+D);var L,S,c,u,f=this.ksRows=4*(D+6+1),r=this.keySchedule=new Uint32Array(f),p=this.invKeySchedule=new Uint32Array(f),C=this.sBox,g=this.rcon,m=this.invSubMix,k=m[0],d=m[1],w=m[2],y=m[3];for(L=0;L<f;L++)L<D?c=r[L]=x[L]:(u=c,L%D==0?(u=C[(u=u<<8|u>>>24)>>>24]<<24|C[u>>>16&255]<<16|C[u>>>8&255]<<8|C[255&u],u^=g[L/D|0]<<24):D>6&&L%D==4&&(u=C[u>>>24]<<24|C[u>>>16&255]<<16|C[u>>>8&255]<<8|C[255&u]),r[L]=c=(r[L-D]^u)>>>0);for(S=0;S<f;S++)L=f-S,u=3&S?r[L]:r[L-4],p[S]=S<4||L<=4?u:k[C[u>>>24]]^d[C[u>>>16&255]]^w[C[u>>>8&255]]^y[C[255&u]],p[S]=p[S]>>>0}},I.networkToHostOrderSwap=function(A){return A<<24|(65280&A)<<8|(16711680&A)>>8|A>>>24},I.decrypt=function(A,x,_){for(var b,D,L,S,c,u,f,r,p,C,g,m,k,d,w=this.keySize+6,y=this.invKeySchedule,O=this.invSBox,F=this.invSubMix,B=F[0],M=F[1],j=F[2],U=F[3],z=this.uint8ArrayToUint32Array_(_),q=z[0],Y=z[1],W=z[2],J=z[3],Z=new Int32Array(A),ee=new Int32Array(Z.length),le=this.networkToHostOrderSwap;x<Z.length;){for(p=le(Z[x]),C=le(Z[x+1]),g=le(Z[x+2]),m=le(Z[x+3]),c=p^y[0],u=m^y[1],f=g^y[2],r=C^y[3],k=4,d=1;d<w;d++)b=B[c>>>24]^M[u>>16&255]^j[f>>8&255]^U[255&r]^y[k],D=B[u>>>24]^M[f>>16&255]^j[r>>8&255]^U[255&c]^y[k+1],L=B[f>>>24]^M[r>>16&255]^j[c>>8&255]^U[255&u]^y[k+2],S=B[r>>>24]^M[c>>16&255]^j[u>>8&255]^U[255&f]^y[k+3],c=b,u=D,f=L,r=S,k+=4;b=O[c>>>24]<<24^O[u>>16&255]<<16^O[f>>8&255]<<8^O[255&r]^y[k],D=O[u>>>24]<<24^O[f>>16&255]<<16^O[r>>8&255]<<8^O[255&c]^y[k+1],L=O[f>>>24]<<24^O[r>>16&255]<<16^O[c>>8&255]<<8^O[255&u]^y[k+2],S=O[r>>>24]<<24^O[c>>16&255]<<16^O[u>>8&255]<<8^O[255&f]^y[k+3],ee[x]=le(b^q),ee[x+1]=le(S^Y),ee[x+2]=le(L^W),ee[x+3]=le(D^J),q=p,Y=C,W=g,J=m,x+=4}return ee.buffer},P}()},"./src/crypt/decrypter.ts":function(o,l,a){a.r(l),a.d(l,"default",function(){return x});var v=a("./src/crypt/aes-crypto.ts"),h=a("./src/crypt/fast-aes-key.ts"),T=a("./src/crypt/aes-decryptor.ts"),P=a("./src/utils/logger.ts"),I=a("./src/utils/mp4-tools.ts"),A=a("./src/utils/typed-array.ts"),x=function(){function _(D,L,S){var c=(S===void 0?{}:S).removePKCS7Padding,u=c===void 0||c;if(this.logEnabled=!0,this.observer=void 0,this.config=void 0,this.removePKCS7Padding=void 0,this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null,this.observer=D,this.config=L,this.removePKCS7Padding=u,u)try{var f=self.crypto;f&&(this.subtle=f.subtle||f.webkitSubtle)}catch{}this.subtle===null&&(this.config.enableSoftwareAES=!0)}var b=_.prototype;return b.destroy=function(){this.observer=null},b.isSync=function(){return this.config.enableSoftwareAES},b.flush=function(){var D=this.currentResult;if(D){var L=new Uint8Array(D);return this.reset(),this.removePKCS7Padding?Object(T.removePadding)(L):L}this.reset()},b.reset=function(){this.currentResult=null,this.currentIV=null,this.remainderData=null,this.softwareDecrypter&&(this.softwareDecrypter=null)},b.decrypt=function(D,L,S,c){if(this.config.enableSoftwareAES){this.softwareDecrypt(new Uint8Array(D),L,S);var u=this.flush();u&&c(u.buffer)}else this.webCryptoDecrypt(new Uint8Array(D),L,S).then(c)},b.softwareDecrypt=function(D,L,S){var c=this.currentIV,u=this.currentResult,f=this.remainderData;this.logOnce("JS AES decrypt"),f&&(D=Object(I.appendUint8Array)(f,D),this.remainderData=null);var r=this.getValidChunk(D);if(!r.length)return null;c&&(S=c);var p=this.softwareDecrypter;p||(p=this.softwareDecrypter=new T.default),p.expandKey(L);var C=u;return this.currentResult=p.decrypt(r.buffer,0,S),this.currentIV=Object(A.sliceUint8)(r,-16).buffer,C||null},b.webCryptoDecrypt=function(D,L,S){var c=this,u=this.subtle;return this.key===L&&this.fastAesKey||(this.key=L,this.fastAesKey=new h.default(u,L)),this.fastAesKey.expandKey().then(function(f){return u?new v.default(u,S).decrypt(D.buffer,f):Promise.reject(new Error("web crypto not initialized"))}).catch(function(f){return c.onWebCryptoError(f,D,L,S)})},b.onWebCryptoError=function(D,L,S,c){return P.logger.warn("[decrypter.ts]: WebCrypto Error, disable WebCrypto API:",D),this.config.enableSoftwareAES=!0,this.logEnabled=!0,this.softwareDecrypt(L,S,c)},b.getValidChunk=function(D){var L=D,S=D.length-D.length%16;return S!==D.length&&(L=Object(A.sliceUint8)(D,0,S),this.remainderData=Object(A.sliceUint8)(D,S)),L},b.logOnce=function(D){this.logEnabled&&(P.logger.log("[decrypter.ts]: "+D),this.logEnabled=!1)},_}()},"./src/crypt/fast-aes-key.ts":function(o,l,a){a.r(l),a.d(l,"default",function(){return v});var v=function(){function h(T,P){this.subtle=void 0,this.key=void 0,this.subtle=T,this.key=P}return h.prototype.expandKey=function(){return this.subtle.importKey("raw",this.key,{name:"AES-CBC"},!1,["encrypt","decrypt"])},h}()},"./src/demux/aacdemuxer.ts":function(o,l,a){a.r(l);var v=a("./src/demux/base-audio-demuxer.ts"),h=a("./src/demux/adts.ts"),T=a("./src/utils/logger.ts"),P=a("./src/demux/id3.ts");function I(x,_){return(I=Object.setPrototypeOf||function(b,D){return b.__proto__=D,b})(x,_)}var A=function(x){var _,b;function D(S,c){var u;return(u=x.call(this)||this).observer=void 0,u.config=void 0,u.observer=S,u.config=c,u}b=x,(_=D).prototype=Object.create(b.prototype),_.prototype.constructor=_,I(_,b);var L=D.prototype;return L.resetInitSegment=function(S,c,u){x.prototype.resetInitSegment.call(this,S,c,u),this._audioTrack={container:"audio/adts",type:"audio",id:0,pid:-1,sequenceNumber:0,isAAC:!0,samples:[],manifestCodec:S,duration:u,inputTimeScale:9e4,dropped:0}},D.probe=function(S){if(!S)return!1;for(var c=(P.getID3Data(S,0)||[]).length,u=S.length;c<u;c++)if(h.probe(S,c))return T.logger.log("ADTS sync word found !"),!0;return!1},L.canParse=function(S,c){return h.canParse(S,c)},L.appendFrame=function(S,c,u){h.initTrackConfig(S,this.observer,c,u,S.manifestCodec);var f=h.appendFrame(S,c,u,this.initPTS,this.frameIndex);if(f&&f.missing===0)return f},D}(v.default);A.minProbeByteLength=9,l.default=A},"./src/demux/adts.ts":function(o,l,a){a.r(l),a.d(l,"getAudioConfig",function(){return P}),a.d(l,"isHeaderPattern",function(){return I}),a.d(l,"getHeaderLength",function(){return A}),a.d(l,"getFullFrameLength",function(){return x}),a.d(l,"canGetFrameLength",function(){return _}),a.d(l,"isHeader",function(){return b}),a.d(l,"canParse",function(){return D}),a.d(l,"probe",function(){return L}),a.d(l,"initTrackConfig",function(){return S}),a.d(l,"getFrameDuration",function(){return c}),a.d(l,"parseFrameHeader",function(){return u}),a.d(l,"appendFrame",function(){return f});var v=a("./src/utils/logger.ts"),h=a("./src/errors.ts"),T=a("./src/events.ts");function P(r,p,C,g){var m,k,d,w,y=navigator.userAgent.toLowerCase(),O=g,F=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];m=1+((192&p[C+2])>>>6);var B=(60&p[C+2])>>>2;if(!(B>F.length-1))return d=(1&p[C+2])<<2,d|=(192&p[C+3])>>>6,v.logger.log("manifest codec:"+g+", ADTS type:"+m+", samplingIndex:"+B),/firefox/i.test(y)?B>=6?(m=5,w=new Array(4),k=B-3):(m=2,w=new Array(2),k=B):y.indexOf("android")!==-1?(m=2,w=new Array(2),k=B):(m=5,w=new Array(4),g&&(g.indexOf("mp4a.40.29")!==-1||g.indexOf("mp4a.40.5")!==-1)||!g&&B>=6?k=B-3:((g&&g.indexOf("mp4a.40.2")!==-1&&(B>=6&&d===1||/vivaldi/i.test(y))||!g&&d===1)&&(m=2,w=new Array(2)),k=B)),w[0]=m<<3,w[0]|=(14&B)>>1,w[1]|=(1&B)<<7,w[1]|=d<<3,m===5&&(w[1]|=(14&k)>>1,w[2]=(1&k)<<7,w[2]|=8,w[3]=0),{config:w,samplerate:F[B],channelCount:d,codec:"mp4a.40."+m,manifestCodec:O};r.trigger(T.Events.ERROR,{type:h.ErrorTypes.MEDIA_ERROR,details:h.ErrorDetails.FRAG_PARSING_ERROR,fatal:!0,reason:"invalid ADTS sampling index:"+B})}function I(r,p){return r[p]===255&&(246&r[p+1])==240}function A(r,p){return 1&r[p+1]?7:9}function x(r,p){return(3&r[p+3])<<11|r[p+4]<<3|(224&r[p+5])>>>5}function _(r,p){return p+5<r.length}function b(r,p){return p+1<r.length&&I(r,p)}function D(r,p){return _(r,p)&&I(r,p)&&x(r,p)<=r.length-p}function L(r,p){if(b(r,p)){var C=A(r,p);if(p+C>=r.length)return!1;var g=x(r,p);if(g<=C)return!1;var m=p+g;return m===r.length||b(r,m)}return!1}function S(r,p,C,g,m){if(!r.samplerate){var k=P(p,C,g,m);if(!k)return;r.config=k.config,r.samplerate=k.samplerate,r.channelCount=k.channelCount,r.codec=k.codec,r.manifestCodec=k.manifestCodec,v.logger.log("parsed codec:"+r.codec+", rate:"+k.samplerate+", channels:"+k.channelCount)}}function c(r){return 9216e4/r}function u(r,p,C,g,m){var k=A(r,p),d=x(r,p);if((d-=k)>0)return{headerLength:k,frameLength:d,stamp:C+g*m}}function f(r,p,C,g,m){var k=u(p,C,g,m,c(r.samplerate));if(k){var d,w=k.frameLength,y=k.headerLength,O=k.stamp,F=y+w,B=Math.max(0,C+F-p.length);B?(d=new Uint8Array(F-y)).set(p.subarray(C+y,p.length),0):d=p.subarray(C+y,C+F);var M={unit:d,pts:O};return B||r.samples.push(M),{sample:M,length:F,missing:B}}}},"./src/demux/base-audio-demuxer.ts":function(o,l,a){a.r(l),a.d(l,"initPTSFn",function(){return x});var v=a("./src/polyfills/number.ts"),h=a("./src/demux/id3.ts"),T=a("./src/demux/dummy-demuxed-track.ts"),P=a("./src/utils/mp4-tools.ts"),I=a("./src/utils/typed-array.ts"),A=function(){function _(){this._audioTrack=void 0,this._id3Track=void 0,this.frameIndex=0,this.cachedData=null,this.initPTS=null}var b=_.prototype;return b.resetInitSegment=function(D,L,S){this._id3Track={type:"id3",id:0,pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0}},b.resetTimeStamp=function(){},b.resetContiguity=function(){},b.canParse=function(D,L){return!1},b.appendFrame=function(D,L,S){},b.demux=function(D,L){this.cachedData&&(D=Object(P.appendUint8Array)(this.cachedData,D),this.cachedData=null);var S,c,u=h.getID3Data(D,0),f=u?u.length:0,r=this._audioTrack,p=this._id3Track,C=u?h.getTimeStamp(u):void 0,g=D.length;for(this.frameIndex!==0&&this.initPTS!==null||(this.initPTS=x(C,L)),u&&u.length>0&&p.samples.push({pts:this.initPTS,dts:this.initPTS,data:u}),c=this.initPTS;f<g;){if(this.canParse(D,f)){var m=this.appendFrame(r,D,f);m?(this.frameIndex++,c=m.sample.pts,S=f+=m.length):f=g}else h.canParse(D,f)?(u=h.getID3Data(D,f),p.samples.push({pts:c,dts:c,data:u}),S=f+=u.length):f++;if(f===g&&S!==g){var k=Object(I.sliceUint8)(D,S);this.cachedData?this.cachedData=Object(P.appendUint8Array)(this.cachedData,k):this.cachedData=k}}return{audioTrack:r,avcTrack:Object(T.dummyTrack)(),id3Track:p,textTrack:Object(T.dummyTrack)()}},b.demuxSampleAes=function(D,L,S){return Promise.reject(new Error("["+this+"] This demuxer does not support Sample-AES decryption"))},b.flush=function(D){var L=this.cachedData;return L&&(this.cachedData=null,this.demux(L,0)),this.frameIndex=0,{audioTrack:this._audioTrack,avcTrack:Object(T.dummyTrack)(),id3Track:this._id3Track,textTrack:Object(T.dummyTrack)()}},b.destroy=function(){},_}(),x=function(_,b){return Object(v.isFiniteNumber)(_)?90*_:9e4*b};l.default=A},"./src/demux/chunk-cache.ts":function(o,l,a){a.r(l),a.d(l,"default",function(){return v});var v=function(){function h(){this.chunks=[],this.dataLength=0}var T=h.prototype;return T.push=function(P){this.chunks.push(P),this.dataLength+=P.length},T.flush=function(){var P,I=this.chunks,A=this.dataLength;return I.length?(P=I.length===1?I[0]:function(x,_){for(var b=new Uint8Array(_),D=0,L=0;L<x.length;L++){var S=x[L];b.set(S,D),D+=S.length}return b}(I,A),this.reset(),P):new Uint8Array(0)},T.reset=function(){this.chunks.length=0,this.dataLength=0},h}()},"./src/demux/dummy-demuxed-track.ts":function(o,l,a){function v(){return{type:"",id:-1,pid:-1,inputTimeScale:9e4,sequenceNumber:-1,samples:[],dropped:0}}a.r(l),a.d(l,"dummyTrack",function(){return v})},"./src/demux/exp-golomb.ts":function(o,l,a){a.r(l);var v=a("./src/utils/logger.ts"),h=function(){function T(I){this.data=void 0,this.bytesAvailable=void 0,this.word=void 0,this.bitsAvailable=void 0,this.data=I,this.bytesAvailable=I.byteLength,this.word=0,this.bitsAvailable=0}var P=T.prototype;return P.loadWord=function(){var I=this.data,A=this.bytesAvailable,x=I.byteLength-A,_=new Uint8Array(4),b=Math.min(4,A);if(b===0)throw new Error("no bytes available");_.set(I.subarray(x,x+b)),this.word=new DataView(_.buffer).getUint32(0),this.bitsAvailable=8*b,this.bytesAvailable-=b},P.skipBits=function(I){var A;this.bitsAvailable>I?(this.word<<=I,this.bitsAvailable-=I):(I-=this.bitsAvailable,I-=(A=I>>3)>>3,this.bytesAvailable-=A,this.loadWord(),this.word<<=I,this.bitsAvailable-=I)},P.readBits=function(I){var A=Math.min(this.bitsAvailable,I),x=this.word>>>32-A;return I>32&&v.logger.error("Cannot read more than 32 bits at a time"),this.bitsAvailable-=A,this.bitsAvailable>0?this.word<<=A:this.bytesAvailable>0&&this.loadWord(),(A=I-A)>0&&this.bitsAvailable?x<<A|this.readBits(A):x},P.skipLZ=function(){var I;for(I=0;I<this.bitsAvailable;++I)if(this.word&2147483648>>>I)return this.word<<=I,this.bitsAvailable-=I,I;return this.loadWord(),I+this.skipLZ()},P.skipUEG=function(){this.skipBits(1+this.skipLZ())},P.skipEG=function(){this.skipBits(1+this.skipLZ())},P.readUEG=function(){var I=this.skipLZ();return this.readBits(I+1)-1},P.readEG=function(){var I=this.readUEG();return 1&I?1+I>>>1:-1*(I>>>1)},P.readBoolean=function(){return this.readBits(1)===1},P.readUByte=function(){return this.readBits(8)},P.readUShort=function(){return this.readBits(16)},P.readUInt=function(){return this.readBits(32)},P.skipScalingList=function(I){for(var A=8,x=8,_=0;_<I;_++)x!==0&&(x=(A+this.readEG()+256)%256),A=x===0?A:x},P.readSPS=function(){var I,A,x,_=0,b=0,D=0,L=0,S=this.readUByte.bind(this),c=this.readBits.bind(this),u=this.readUEG.bind(this),f=this.readBoolean.bind(this),r=this.skipBits.bind(this),p=this.skipEG.bind(this),C=this.skipUEG.bind(this),g=this.skipScalingList.bind(this);S();var m=S();if(c(5),r(3),S(),C(),m===100||m===110||m===122||m===244||m===44||m===83||m===86||m===118||m===128){var k=u();if(k===3&&r(1),C(),C(),r(1),f())for(A=k!==3?8:12,x=0;x<A;x++)f()&&g(x<6?16:64)}C();var d=u();if(d===0)u();else if(d===1)for(r(1),p(),p(),I=u(),x=0;x<I;x++)p();C(),r(1);var w=u(),y=u(),O=c(1);O===0&&r(1),r(1),f()&&(_=u(),b=u(),D=u(),L=u());var F=[1,1];if(f()&&f())switch(S()){case 1:F=[1,1];break;case 2:F=[12,11];break;case 3:F=[10,11];break;case 4:F=[16,11];break;case 5:F=[40,33];break;case 6:F=[24,11];break;case 7:F=[20,11];break;case 8:F=[32,11];break;case 9:F=[80,33];break;case 10:F=[18,11];break;case 11:F=[15,11];break;case 12:F=[64,33];break;case 13:F=[160,99];break;case 14:F=[4,3];break;case 15:F=[3,2];break;case 16:F=[2,1];break;case 255:F=[S()<<8|S(),S()<<8|S()]}return{width:Math.ceil(16*(w+1)-2*_-2*b),height:(2-O)*(y+1)*16-(O?2:4)*(D+L),pixelRatio:F}},P.readSliceType=function(){return this.readUByte(),this.readUEG(),this.readUEG()},T}();l.default=h},"./src/demux/id3.ts":function(o,l,a){a.r(l),a.d(l,"isHeader",function(){return h}),a.d(l,"isFooter",function(){return T}),a.d(l,"getID3Data",function(){return P}),a.d(l,"canParse",function(){return A}),a.d(l,"getTimeStamp",function(){return x}),a.d(l,"isTimeStampFrame",function(){return _}),a.d(l,"getID3Frames",function(){return D}),a.d(l,"decodeFrame",function(){return L}),a.d(l,"utf8ArrayToStr",function(){return r}),a.d(l,"testables",function(){return p});var v,h=function(g,m){return m+10<=g.length&&g[m]===73&&g[m+1]===68&&g[m+2]===51&&g[m+3]<255&&g[m+4]<255&&g[m+6]<128&&g[m+7]<128&&g[m+8]<128&&g[m+9]<128},T=function(g,m){return m+10<=g.length&&g[m]===51&&g[m+1]===68&&g[m+2]===73&&g[m+3]<255&&g[m+4]<255&&g[m+6]<128&&g[m+7]<128&&g[m+8]<128&&g[m+9]<128},P=function(g,m){for(var k=m,d=0;h(g,m);)d+=10,d+=I(g,m+6),T(g,m+10)&&(d+=10),m+=d;if(d>0)return g.subarray(k,k+d)},I=function(g,m){var k=0;return k=(127&g[m])<<21,k|=(127&g[m+1])<<14,k|=(127&g[m+2])<<7,k|=127&g[m+3]},A=function(g,m){return h(g,m)&&I(g,m+6)+10<=g.length-m},x=function(g){for(var m=D(g),k=0;k<m.length;k++){var d=m[k];if(_(d))return f(d)}},_=function(g){return g&&g.key==="PRIV"&&g.info==="com.apple.streaming.transportStreamTimestamp"},b=function(g){var m=String.fromCharCode(g[0],g[1],g[2],g[3]),k=I(g,4);return{type:m,size:k,data:g.subarray(10,10+k)}},D=function(g){for(var m=0,k=[];h(g,m);){for(var d=I(g,m+6),w=(m+=10)+d;m+8<w;){var y=b(g.subarray(m)),O=L(y);O&&k.push(O),m+=y.size+10}T(g,m)&&(m+=10)}return k},L=function(g){return g.type==="PRIV"?S(g):g.type[0]==="W"?u(g):c(g)},S=function(g){if(!(g.size<2)){var m=r(g.data,!0),k=new Uint8Array(g.data.subarray(m.length+1));return{key:g.type,info:m,data:k.buffer}}},c=function(g){if(!(g.size<2)){if(g.type==="TXXX"){var m=1,k=r(g.data.subarray(m),!0);m+=k.length+1;var d=r(g.data.subarray(m));return{key:g.type,info:k,data:d}}var w=r(g.data.subarray(1));return{key:g.type,data:w}}},u=function(g){if(g.type==="WXXX"){if(g.size<2)return;var m=1,k=r(g.data.subarray(m),!0);m+=k.length+1;var d=r(g.data.subarray(m));return{key:g.type,info:k,data:d}}var w=r(g.data);return{key:g.type,data:w}},f=function(g){if(g.data.byteLength===8){var m=new Uint8Array(g.data),k=1&m[3],d=(m[4]<<23)+(m[5]<<15)+(m[6]<<7)+m[7];return d/=45,k&&(d+=4772185884e-2),Math.round(d)}},r=function(g,m){m===void 0&&(m=!1);var k=C();if(k){var d=k.decode(g);if(m){var w=d.indexOf("\0");return w!==-1?d.substring(0,w):d}return d.replace(/\0/g,"")}for(var y,O,F,B=g.length,M="",j=0;j<B;){if((y=g[j++])===0&&m)return M;if(y!==0&&y!==3)switch(y>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:M+=String.fromCharCode(y);break;case 12:case 13:O=g[j++],M+=String.fromCharCode((31&y)<<6|63&O);break;case 14:O=g[j++],F=g[j++],M+=String.fromCharCode((15&y)<<12|(63&O)<<6|(63&F)<<0)}}return M},p={decodeTextFrame:c};function C(){return v||self.TextDecoder===void 0||(v=new self.TextDecoder("utf-8")),v}},"./src/demux/mp3demuxer.ts":function(o,l,a){a.r(l);var v=a("./src/demux/base-audio-demuxer.ts"),h=a("./src/demux/id3.ts"),T=a("./src/utils/logger.ts"),P=a("./src/demux/mpegaudio.ts");function I(x,_){return(I=Object.setPrototypeOf||function(b,D){return b.__proto__=D,b})(x,_)}var A=function(x){var _,b;function D(){return x.apply(this,arguments)||this}b=x,(_=D).prototype=Object.create(b.prototype),_.prototype.constructor=_,I(_,b);var L=D.prototype;return L.resetInitSegment=function(S,c,u){x.prototype.resetInitSegment.call(this,S,c,u),this._audioTrack={container:"audio/mpeg",type:"audio",id:0,pid:-1,sequenceNumber:0,isAAC:!1,samples:[],manifestCodec:S,duration:u,inputTimeScale:9e4,dropped:0}},D.probe=function(S){if(!S)return!1;for(var c=(h.getID3Data(S,0)||[]).length,u=S.length;c<u;c++)if(P.probe(S,c))return T.logger.log("MPEG Audio sync word found !"),!0;return!1},L.canParse=function(S,c){return P.canParse(S,c)},L.appendFrame=function(S,c,u){if(this.initPTS!==null)return P.appendFrame(S,c,u,this.initPTS,this.frameIndex)},D}(v.default);A.minProbeByteLength=4,l.default=A},"./src/demux/mp4demuxer.ts":function(o,l,a){a.r(l);var v=a("./src/utils/mp4-tools.ts"),h=a("./src/demux/dummy-demuxed-track.ts"),T=function(){function P(A,x){this.remainderData=null,this.config=void 0,this.config=x}var I=P.prototype;return I.resetTimeStamp=function(){},I.resetInitSegment=function(){},I.resetContiguity=function(){},P.probe=function(A){return Object(v.findBox)({data:A,start:0,end:Math.min(A.length,16384)},["moof"]).length>0},I.demux=function(A){var x=A,_=Object(h.dummyTrack)();if(this.config.progressive){this.remainderData&&(x=Object(v.appendUint8Array)(this.remainderData,A));var b=Object(v.segmentValidRange)(x);this.remainderData=b.remainder,_.samples=b.valid||new Uint8Array}else _.samples=x;return{audioTrack:Object(h.dummyTrack)(),avcTrack:_,id3Track:Object(h.dummyTrack)(),textTrack:Object(h.dummyTrack)()}},I.flush=function(){var A=Object(h.dummyTrack)();return A.samples=this.remainderData||new Uint8Array,this.remainderData=null,{audioTrack:Object(h.dummyTrack)(),avcTrack:A,id3Track:Object(h.dummyTrack)(),textTrack:Object(h.dummyTrack)()}},I.demuxSampleAes=function(A,x,_){return Promise.reject(new Error("The MP4 demuxer does not support SAMPLE-AES decryption"))},I.destroy=function(){},P}();T.minProbeByteLength=1024,l.default=T},"./src/demux/mpegaudio.ts":function(o,l,a){a.r(l),a.d(l,"appendFrame",function(){return A}),a.d(l,"parseHeader",function(){return x}),a.d(l,"isHeaderPattern",function(){return _}),a.d(l,"isHeader",function(){return b}),a.d(l,"canParse",function(){return D}),a.d(l,"probe",function(){return L});var v=null,h=[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],T=[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],P=[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],I=[0,1,1,4];function A(S,c,u,f,r){if(!(u+24>c.length)){var p=x(c,u);if(p&&u+p.frameLength<=c.length){var C=f+r*(9e4*p.samplesPerFrame/p.sampleRate),g={unit:c.subarray(u,u+p.frameLength),pts:C,dts:C};return S.config=[],S.channelCount=p.channelCount,S.samplerate=p.sampleRate,S.samples.push(g),{sample:g,length:p.frameLength,missing:0}}}}function x(S,c){var u=S[c+1]>>3&3,f=S[c+1]>>1&3,r=S[c+2]>>4&15,p=S[c+2]>>2&3;if(u!==1&&r!==0&&r!==15&&p!==3){var C=S[c+2]>>1&1,g=S[c+3]>>6,m=1e3*h[14*(u===3?3-f:f===3?3:4)+r-1],k=T[3*(u===3?0:u===2?1:2)+p],d=g===3?1:2,w=P[u][f],y=I[f],O=8*w*y,F=Math.floor(w*m/k+C)*y;if(v===null){var B=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);v=B?parseInt(B[1]):0}return v&&v<=87&&f===2&&m>=224e3&&g===0&&(S[c+3]=128|S[c+3]),{sampleRate:k,channelCount:d,frameLength:F,samplesPerFrame:O}}}function _(S,c){return S[c]===255&&(224&S[c+1])==224&&(6&S[c+1])!=0}function b(S,c){return c+1<S.length&&_(S,c)}function D(S,c){return _(S,c)&&4<=S.length-c}function L(S,c){if(c+1<S.length&&_(S,c)){var u=x(S,c),f=4;u!=null&&u.frameLength&&(f=u.frameLength);var r=c+f;return r===S.length||b(S,r)}return!1}},"./src/demux/sample-aes.ts":function(o,l,a){a.r(l);var v=a("./src/crypt/decrypter.ts"),h=a("./src/demux/tsdemuxer.ts"),T=function(){function P(A,x,_){this.keyData=void 0,this.decrypter=void 0,this.keyData=_,this.decrypter=new v.default(A,x,{removePKCS7Padding:!1})}var I=P.prototype;return I.decryptBuffer=function(A,x){this.decrypter.decrypt(A,this.keyData.key.buffer,this.keyData.iv.buffer,x)},I.decryptAacSample=function(A,x,_,b){var D=A[x].unit,L=D.subarray(16,D.length-D.length%16),S=L.buffer.slice(L.byteOffset,L.byteOffset+L.length),c=this;this.decryptBuffer(S,function(u){var f=new Uint8Array(u);D.set(f,16),b||c.decryptAacSamples(A,x+1,_)})},I.decryptAacSamples=function(A,x,_){for(;;x++){if(x>=A.length)return void _();if(!(A[x].unit.length<32)){var b=this.decrypter.isSync();if(this.decryptAacSample(A,x,_,b),!b)return}}},I.getAvcEncryptedData=function(A){for(var x=16*Math.floor((A.length-48)/160)+16,_=new Int8Array(x),b=0,D=32;D<=A.length-16;D+=160,b+=16)_.set(A.subarray(D,D+16),b);return _},I.getAvcDecryptedUnit=function(A,x){for(var _=new Uint8Array(x),b=0,D=32;D<=A.length-16;D+=160,b+=16)A.set(_.subarray(b,b+16),D);return A},I.decryptAvcSample=function(A,x,_,b,D,L){var S=Object(h.discardEPB)(D.data),c=this.getAvcEncryptedData(S),u=this;this.decryptBuffer(c.buffer,function(f){D.data=u.getAvcDecryptedUnit(S,f),L||u.decryptAvcSamples(A,x,_+1,b)})},I.decryptAvcSamples=function(A,x,_,b){if(A instanceof Uint8Array)throw new Error("Cannot decrypt samples of type Uint8Array");for(;;x++,_=0){if(x>=A.length)return void b();for(var D=A[x].units;!(_>=D.length);_++){var L=D[_];if(!(L.data.length<=48||L.type!==1&&L.type!==5)){var S=this.decrypter.isSync();if(this.decryptAvcSample(A,x,_,b,L,S),!S)return}}}},P}();l.default=T},"./src/demux/transmuxer-interface.ts":function(o,l,a){a.r(l),a.d(l,"default",function(){return b});var v=a("./node_modules/webworkify-webpack/index.js"),h=a("./src/events.ts"),T=a("./src/demux/transmuxer.ts"),P=a("./src/utils/logger.ts"),I=a("./src/errors.ts"),A=a("./src/utils/mediasource-helper.ts"),x=a("./node_modules/eventemitter3/index.js"),_=Object(A.getMediaSource)()||{isTypeSupported:function(){return!1}},b=function(){function D(S,c,u,f){var r=this;this.hls=void 0,this.id=void 0,this.observer=void 0,this.frag=null,this.part=null,this.worker=void 0,this.onwmsg=void 0,this.transmuxer=null,this.onTransmuxComplete=void 0,this.onFlush=void 0,this.hls=S,this.id=c,this.onTransmuxComplete=u,this.onFlush=f;var p=S.config,C=function(d,w){(w=w||{}).frag=r.frag,w.id=r.id,S.trigger(d,w)};this.observer=new x.EventEmitter,this.observer.on(h.Events.FRAG_DECRYPTED,C),this.observer.on(h.Events.ERROR,C);var g={mp4:_.isTypeSupported("video/mp4"),mpeg:_.isTypeSupported("audio/mpeg"),mp3:_.isTypeSupported('audio/mp4; codecs="mp3"')},m=navigator.vendor;if(p.enableWorker&&typeof Worker<"u"){var k;P.logger.log("demuxing in webworker");try{k=this.worker=v("./src/demux/transmuxer-worker.ts"),this.onwmsg=this.onWorkerMessage.bind(this),k.addEventListener("message",this.onwmsg),k.onerror=function(d){S.trigger(h.Events.ERROR,{type:I.ErrorTypes.OTHER_ERROR,details:I.ErrorDetails.INTERNAL_EXCEPTION,fatal:!0,event:"demuxerWorker",error:new Error(d.message+"  ("+d.filename+":"+d.lineno+")")})},k.postMessage({cmd:"init",typeSupported:g,vendor:m,id:c,config:JSON.stringify(p)})}catch(d){P.logger.warn("Error in worker:",d),P.logger.error("Error while initializing DemuxerWorker, fallback to inline"),k&&self.URL.revokeObjectURL(k.objectURL),this.transmuxer=new T.default(this.observer,g,p,m,c),this.worker=null}}else this.transmuxer=new T.default(this.observer,g,p,m,c)}var L=D.prototype;return L.destroy=function(){var S=this.worker;if(S)S.removeEventListener("message",this.onwmsg),S.terminate(),this.worker=null;else{var c=this.transmuxer;c&&(c.destroy(),this.transmuxer=null)}var u=this.observer;u&&u.removeAllListeners(),this.observer=null},L.push=function(S,c,u,f,r,p,C,g,m,k){var d=this;m.transmuxing.start=self.performance.now();var w=this.transmuxer,y=this.worker,O=p?p.start:r.start,F=r.decryptdata,B=this.frag,M=!(B&&r.cc===B.cc),j=!(B&&m.level===B.level),U=B?m.sn-B.sn:-1,z=this.part?m.part-this.part.index:1,q=!j&&(U===1||U===0&&z===1),Y=self.performance.now();(j||U||r.stats.parsing.start===0)&&(r.stats.parsing.start=Y),!p||!z&&q||(p.stats.parsing.start=Y);var W=new T.TransmuxState(M,q,g,j,O);if(!q||M){P.logger.log("[transmuxer-interface, "+r.type+"]: Starting new transmux session for sn: "+m.sn+" p: "+m.part+" level: "+m.level+" id: "+m.id+`
        discontinuity: `+M+`
        trackSwitch: `+j+`
        contiguous: `+q+`
        accurateTimeOffset: `+g+`
        timeOffset: `+O);var J=new T.TransmuxConfig(u,f,c,C,k);this.configureTransmuxer(J)}if(this.frag=r,this.part=p,y)y.postMessage({cmd:"demux",data:S,decryptdata:F,chunkMeta:m,state:W},S instanceof ArrayBuffer?[S]:[]);else if(w){var Z=w.push(S,F,m,W);Object(T.isPromise)(Z)?Z.then(function(ee){d.handleTransmuxComplete(ee)}):this.handleTransmuxComplete(Z)}},L.flush=function(S){var c=this;S.transmuxing.start=self.performance.now();var u=this.transmuxer,f=this.worker;if(f)f.postMessage({cmd:"flush",chunkMeta:S});else if(u){var r=u.flush(S);Object(T.isPromise)(r)?r.then(function(p){c.handleFlushResult(p,S)}):this.handleFlushResult(r,S)}},L.handleFlushResult=function(S,c){var u=this;S.forEach(function(f){u.handleTransmuxComplete(f)}),this.onFlush(c)},L.onWorkerMessage=function(S){var c=S.data,u=this.hls;switch(c.event){case"init":self.URL.revokeObjectURL(this.worker.objectURL);break;case"transmuxComplete":this.handleTransmuxComplete(c.data);break;case"flush":this.onFlush(c.data);break;default:c.data=c.data||{},c.data.frag=this.frag,c.data.id=this.id,u.trigger(c.event,c.data)}},L.configureTransmuxer=function(S){var c=this.worker,u=this.transmuxer;c?c.postMessage({cmd:"configure",config:S}):u&&u.configure(S)},L.handleTransmuxComplete=function(S){S.chunkMeta.transmuxing.end=self.performance.now(),this.onTransmuxComplete(S)},D}()},"./src/demux/transmuxer-worker.ts":function(o,l,a){a.r(l),a.d(l,"default",function(){return I});var v=a("./src/demux/transmuxer.ts"),h=a("./src/events.ts"),T=a("./src/utils/logger.ts"),P=a("./node_modules/eventemitter3/index.js");function I(b){var D=new P.EventEmitter,L=function(S,c){b.postMessage({event:S,data:c})};D.on(h.Events.FRAG_DECRYPTED,L),D.on(h.Events.ERROR,L),b.addEventListener("message",function(S){var c=S.data;switch(c.cmd){case"init":var u=JSON.parse(c.config);b.transmuxer=new v.default(D,c.typeSupported,u,c.vendor,c.id),Object(T.enableLogs)(u.debug),L("init",null);break;case"configure":b.transmuxer.configure(c.config);break;case"demux":var f=b.transmuxer.push(c.data,c.decryptdata,c.chunkMeta,c.state);Object(v.isPromise)(f)?f.then(function(C){A(b,C)}):A(b,f);break;case"flush":var r=c.chunkMeta,p=b.transmuxer.flush(r);Object(v.isPromise)(p)?p.then(function(C){_(b,C,r)}):_(b,p,r)}})}function A(b,D){if((L=D.remuxResult).audio||L.video||L.text||L.id3||L.initSegment){var L,S=[],c=D.remuxResult,u=c.audio,f=c.video;u&&x(S,u),f&&x(S,f),b.postMessage({event:"transmuxComplete",data:D},S)}}function x(b,D){D.data1&&b.push(D.data1.buffer),D.data2&&b.push(D.data2.buffer)}function _(b,D,L){D.forEach(function(S){A(b,S)}),b.postMessage({event:"flush",data:L})}},"./src/demux/transmuxer.ts":function(o,l,a){a.r(l),a.d(l,"default",function(){return r}),a.d(l,"isPromise",function(){return C}),a.d(l,"TransmuxConfig",function(){return g}),a.d(l,"TransmuxState",function(){return m});var v,h=a("./src/events.ts"),T=a("./src/errors.ts"),P=a("./src/crypt/decrypter.ts"),I=a("./src/demux/aacdemuxer.ts"),A=a("./src/demux/mp4demuxer.ts"),x=a("./src/demux/tsdemuxer.ts"),_=a("./src/demux/mp3demuxer.ts"),b=a("./src/remux/mp4-remuxer.ts"),D=a("./src/remux/passthrough-remuxer.ts"),L=a("./src/demux/chunk-cache.ts"),S=a("./src/utils/mp4-tools.ts"),c=a("./src/utils/logger.ts");try{v=self.performance.now.bind(self.performance)}catch{c.logger.debug("Unable to use Performance API on this environment"),v=self.Date.now}var u=[{demux:x.default,remux:b.default},{demux:A.default,remux:D.default},{demux:I.default,remux:b.default},{demux:_.default,remux:b.default}],f=1024;u.forEach(function(k){var d=k.demux;f=Math.max(f,d.minProbeByteLength)});var r=function(){function k(w,y,O,F,B){this.observer=void 0,this.typeSupported=void 0,this.config=void 0,this.vendor=void 0,this.id=void 0,this.demuxer=void 0,this.remuxer=void 0,this.decrypter=void 0,this.probe=void 0,this.decryptionPromise=null,this.transmuxConfig=void 0,this.currentTransmuxState=void 0,this.cache=new L.default,this.observer=w,this.typeSupported=y,this.config=O,this.vendor=F,this.id=B}var d=k.prototype;return d.configure=function(w){this.transmuxConfig=w,this.decrypter&&this.decrypter.reset()},d.push=function(w,y,O,F){var B=this,M=O.transmuxing;M.executeStart=v();var j=new Uint8Array(w),U=this.cache,z=this.config,q=this.currentTransmuxState,Y=this.transmuxConfig;F&&(this.currentTransmuxState=F);var W=function(ot,ht){var bt=null;return ot.byteLength>0&&ht!=null&&ht.key!=null&&ht.iv!==null&&ht.method!=null&&(bt=ht),bt}(j,y);if(W&&W.method==="AES-128"){var J=this.getDecrypter();if(!z.enableSoftwareAES)return this.decryptionPromise=J.webCryptoDecrypt(j,W.key.buffer,W.iv.buffer).then(function(ot){var ht=B.push(ot,null,O);return B.decryptionPromise=null,ht}),this.decryptionPromise;var Z=J.softwareDecrypt(j,W.key.buffer,W.iv.buffer);if(!Z)return M.executeEnd=v(),p(O);j=new Uint8Array(Z)}var ee=F||q,le=ee.contiguous,ue=ee.discontinuity,fe=ee.trackSwitch,ve=ee.accurateTimeOffset,be=ee.timeOffset,we=Y.audioCodec,_e=Y.videoCodec,Pe=Y.defaultInitPts,Le=Y.duration,Be=Y.initSegmentData;if((ue||fe)&&this.resetInitSegment(Be,we,_e,Le),ue&&this.resetInitialTimestamp(Pe),le||this.resetContiguity(),this.needsProbing(j,ue,fe)){if(U.dataLength){var ut=U.flush();j=Object(S.appendUint8Array)(ut,j)}this.configureTransmuxer(j,Y)}var Ue=this.transmux(j,W,be,ve,O),et=this.currentTransmuxState;return et.contiguous=!0,et.discontinuity=!1,et.trackSwitch=!1,M.executeEnd=v(),Ue},d.flush=function(w){var y=this,O=w.transmuxing;O.executeStart=v();var F=this.decrypter,B=this.cache,M=this.currentTransmuxState,j=this.decryptionPromise;if(j)return j.then(function(){return y.flush(w)});var U=[],z=M.timeOffset;if(F){var q=F.flush();q&&U.push(this.push(q,null,w))}var Y=B.dataLength;B.reset();var W=this.demuxer,J=this.remuxer;if(!W||!J)return Y>=f&&this.observer.emit(h.Events.ERROR,h.Events.ERROR,{type:T.ErrorTypes.MEDIA_ERROR,details:T.ErrorDetails.FRAG_PARSING_ERROR,fatal:!0,reason:"no demux matching with content found"}),O.executeEnd=v(),[p(w)];var Z=W.flush(z);return C(Z)?Z.then(function(ee){return y.flushRemux(U,ee,w),U}):(this.flushRemux(U,Z,w),U)},d.flushRemux=function(w,y,O){var F=y.audioTrack,B=y.avcTrack,M=y.id3Track,j=y.textTrack,U=this.currentTransmuxState,z=U.accurateTimeOffset,q=U.timeOffset;c.logger.log("[transmuxer.ts]: Flushed fragment "+O.sn+(O.part>-1?" p: "+O.part:"")+" of level "+O.level);var Y=this.remuxer.remux(F,B,M,j,q,z,!0,this.id);w.push({remuxResult:Y,chunkMeta:O}),O.transmuxing.executeEnd=v()},d.resetInitialTimestamp=function(w){var y=this.demuxer,O=this.remuxer;y&&O&&(y.resetTimeStamp(w),O.resetTimeStamp(w))},d.resetContiguity=function(){var w=this.demuxer,y=this.remuxer;w&&y&&(w.resetContiguity(),y.resetNextTimestamp())},d.resetInitSegment=function(w,y,O,F){var B=this.demuxer,M=this.remuxer;B&&M&&(B.resetInitSegment(y,O,F),M.resetInitSegment(w,y,O))},d.destroy=function(){this.demuxer&&(this.demuxer.destroy(),this.demuxer=void 0),this.remuxer&&(this.remuxer.destroy(),this.remuxer=void 0)},d.transmux=function(w,y,O,F,B){return y&&y.method==="SAMPLE-AES"?this.transmuxSampleAes(w,y,O,F,B):this.transmuxUnencrypted(w,O,F,B)},d.transmuxUnencrypted=function(w,y,O,F){var B=this.demuxer.demux(w,y,!1,!this.config.progressive),M=B.audioTrack,j=B.avcTrack,U=B.id3Track,z=B.textTrack;return{remuxResult:this.remuxer.remux(M,j,U,z,y,O,!1,this.id),chunkMeta:F}},d.transmuxSampleAes=function(w,y,O,F,B){var M=this;return this.demuxer.demuxSampleAes(w,y,O).then(function(j){return{remuxResult:M.remuxer.remux(j.audioTrack,j.avcTrack,j.id3Track,j.textTrack,O,F,!1,M.id),chunkMeta:B}})},d.configureTransmuxer=function(w,y){for(var O,F=this.config,B=this.observer,M=this.typeSupported,j=this.vendor,U=y.audioCodec,z=y.defaultInitPts,q=y.duration,Y=y.initSegmentData,W=y.videoCodec,J=0,Z=u.length;J<Z;J++)if(u[J].demux.probe(w)){O=u[J];break}O||(c.logger.warn("Failed to find demuxer by probing frag, treating as mp4 passthrough"),O={demux:A.default,remux:D.default});var ee=this.demuxer,le=this.remuxer,ue=O.remux,fe=O.demux;le&&le instanceof ue||(this.remuxer=new ue(B,F,M,j)),ee&&ee instanceof fe||(this.demuxer=new fe(B,F,M),this.probe=fe.probe),this.resetInitSegment(Y,U,W,q),this.resetInitialTimestamp(z)},d.needsProbing=function(w,y,O){return!this.demuxer||!this.remuxer||y||O},d.getDecrypter=function(){var w=this.decrypter;return w||(w=this.decrypter=new P.default(this.observer,this.config)),w},k}(),p=function(k){return{remuxResult:{},chunkMeta:k}};function C(k){return"then"in k&&k.then instanceof Function}var g=function(k,d,w,y,O){this.audioCodec=void 0,this.videoCodec=void 0,this.initSegmentData=void 0,this.duration=void 0,this.defaultInitPts=void 0,this.audioCodec=k,this.videoCodec=d,this.initSegmentData=w,this.duration=y,this.defaultInitPts=O},m=function(k,d,w,y,O){this.discontinuity=void 0,this.contiguous=void 0,this.accurateTimeOffset=void 0,this.trackSwitch=void 0,this.timeOffset=void 0,this.discontinuity=k,this.contiguous=d,this.accurateTimeOffset=w,this.trackSwitch=y,this.timeOffset=O}},"./src/demux/tsdemuxer.ts":function(o,l,a){a.r(l),a.d(l,"discardEPB",function(){return C});var v=a("./src/demux/adts.ts"),h=a("./src/demux/mpegaudio.ts"),T=a("./src/demux/exp-golomb.ts"),P=a("./src/demux/id3.ts"),I=a("./src/demux/sample-aes.ts"),A=a("./src/events.ts"),x=a("./src/utils/mp4-tools.ts"),_=a("./src/utils/logger.ts"),b=a("./src/errors.ts"),D={video:1,audio:2,id3:3,text:4},L=function(){function g(k,d,w){this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.sampleAes=null,this.pmtParsed=!1,this.audioCodec=void 0,this.videoCodec=void 0,this._duration=0,this.aacLastPTS=null,this._initPTS=null,this._initDTS=null,this._pmtId=-1,this._avcTrack=void 0,this._audioTrack=void 0,this._id3Track=void 0,this._txtTrack=void 0,this.aacOverFlow=null,this.avcSample=null,this.remainderData=null,this.observer=k,this.config=d,this.typeSupported=w}g.probe=function(k){var d=g.syncOffset(k);return!(d<0||(d&&_.logger.warn("MPEG2-TS detected but first sync word found @ offset "+d+", junk ahead ?"),0))},g.syncOffset=function(k){for(var d=Math.min(1e3,k.length-564),w=0;w<d;){if(k[w]===71&&k[w+188]===71&&k[w+376]===71)return w;w++}return-1},g.createTrack=function(k,d){return{container:k==="video"||k==="audio"?"video/mp2t":void 0,type:k,id:D[k],pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0,duration:k==="audio"?d:void 0}};var m=g.prototype;return m.resetInitSegment=function(k,d,w){this.pmtParsed=!1,this._pmtId=-1,this._avcTrack=g.createTrack("video",w),this._audioTrack=g.createTrack("audio",w),this._id3Track=g.createTrack("id3",w),this._txtTrack=g.createTrack("text",w),this._audioTrack.isAAC=!0,this.aacOverFlow=null,this.aacLastPTS=null,this.avcSample=null,this.audioCodec=k,this.videoCodec=d,this._duration=w},m.resetTimeStamp=function(){},m.resetContiguity=function(){var k=this._audioTrack,d=this._avcTrack,w=this._id3Track;k&&(k.pesData=null),d&&(d.pesData=null),w&&(w.pesData=null),this.aacOverFlow=null,this.aacLastPTS=null},m.demux=function(k,d,w,y){var O;w===void 0&&(w=!1),y===void 0&&(y=!1),w||(this.sampleAes=null);var F=this._avcTrack,B=this._audioTrack,M=this._id3Track,j=F.pid,U=F.pesData,z=B.pid,q=M.pid,Y=B.pesData,W=M.pesData,J=!1,Z=this.pmtParsed,ee=this._pmtId,le=k.length;if(this.remainderData&&(le=(k=Object(x.appendUint8Array)(this.remainderData,k)).length,this.remainderData=null),le<188&&!y)return this.remainderData=k,{audioTrack:B,avcTrack:F,id3Track:M,textTrack:this._txtTrack};var ue=Math.max(0,g.syncOffset(k));(le-=(le+ue)%188)<k.byteLength&&!y&&(this.remainderData=new Uint8Array(k.buffer,le,k.buffer.byteLength-le));for(var fe=ue;fe<le;fe+=188)if(k[fe]===71){var ve=!!(64&k[fe+1]),be=((31&k[fe+1])<<8)+k[fe+2],we=void 0;if((48&k[fe+3])>>4>1){if((we=fe+5+k[fe+4])===fe+188)continue}else we=fe+4;switch(be){case j:ve&&(U&&(O=f(U))&&this.parseAVCPES(O,!1),U={data:[],size:0}),U&&(U.data.push(k.subarray(we,fe+188)),U.size+=fe+188-we);break;case z:ve&&(Y&&(O=f(Y))&&(B.isAAC?this.parseAACPES(O):this.parseMPEGPES(O)),Y={data:[],size:0}),Y&&(Y.data.push(k.subarray(we,fe+188)),Y.size+=fe+188-we);break;case q:ve&&(W&&(O=f(W))&&this.parseID3PES(O),W={data:[],size:0}),W&&(W.data.push(k.subarray(we,fe+188)),W.size+=fe+188-we);break;case 0:ve&&(we+=k[we]+1),ee=this._pmtId=c(k,we);break;case ee:ve&&(we+=k[we]+1);var _e=u(k,we,this.typeSupported.mpeg===!0||this.typeSupported.mp3===!0,w);(j=_e.avc)>0&&(F.pid=j),(z=_e.audio)>0&&(B.pid=z,B.isAAC=_e.isAAC),(q=_e.id3)>0&&(M.pid=q),J&&!Z&&(_.logger.log("reparse from beginning"),J=!1,fe=ue-188),Z=this.pmtParsed=!0;break;case 17:case 8191:break;default:J=!0}}else this.observer.emit(A.Events.ERROR,A.Events.ERROR,{type:b.ErrorTypes.MEDIA_ERROR,details:b.ErrorDetails.FRAG_PARSING_ERROR,fatal:!1,reason:"TS packet did not start with 0x47"});F.pesData=U,B.pesData=Y,M.pesData=W;var Pe={audioTrack:B,avcTrack:F,id3Track:M,textTrack:this._txtTrack};return y&&this.extractRemainingSamples(Pe),Pe},m.flush=function(){var k,d=this.remainderData;return this.remainderData=null,k=d?this.demux(d,-1,!1,!0):{audioTrack:this._audioTrack,avcTrack:this._avcTrack,textTrack:this._txtTrack,id3Track:this._id3Track},this.extractRemainingSamples(k),this.sampleAes?this.decrypt(k,this.sampleAes):k},m.extractRemainingSamples=function(k){var d,w=k.audioTrack,y=k.avcTrack,O=k.id3Track,F=y.pesData,B=w.pesData,M=O.pesData;F&&(d=f(F))?(this.parseAVCPES(d,!0),y.pesData=null):y.pesData=F,B&&(d=f(B))?(w.isAAC?this.parseAACPES(d):this.parseMPEGPES(d),w.pesData=null):(B!=null&&B.size&&_.logger.log("last AAC PES packet truncated,might overlap between fragments"),w.pesData=B),M&&(d=f(M))?(this.parseID3PES(d),O.pesData=null):O.pesData=M},m.demuxSampleAes=function(k,d,w){var y=this.demux(k,w,!0,!this.config.progressive),O=this.sampleAes=new I.default(this.observer,this.config,d);return this.decrypt(y,O)},m.decrypt=function(k,d){return new Promise(function(w){var y=k.audioTrack,O=k.avcTrack;y.samples&&y.isAAC?d.decryptAacSamples(y.samples,0,function(){O.samples?d.decryptAvcSamples(O.samples,0,0,function(){w(k)}):w(k)}):O.samples&&d.decryptAvcSamples(O.samples,0,0,function(){w(k)})})},m.destroy=function(){this._initPTS=this._initDTS=null,this._duration=0},m.parseAVCPES=function(k,d){var w,y=this,O=this._avcTrack,F=this.parseAVCNALu(k.data),B=this.avcSample,M=!1;k.data=null,B&&F.length&&!O.audFound&&(r(B,O),B=this.avcSample=S(!1,k.pts,k.dts,"")),F.forEach(function(j){switch(j.type){case 1:w=!0,B||(B=y.avcSample=S(!0,k.pts,k.dts,"")),B.frame=!0;var U=j.data;if(M&&U.length>4){var z=new T.default(U).readSliceType();z!==2&&z!==4&&z!==7&&z!==9||(B.key=!0)}break;case 5:w=!0,B||(B=y.avcSample=S(!0,k.pts,k.dts,"")),B.key=!0,B.frame=!0;break;case 6:w=!0;var q=new T.default(C(j.data));q.readUByte();for(var Y=0,W=0,J=!1,Z=0;!J&&q.bytesAvailable>1;){Y=0;do Y+=Z=q.readUByte();while(Z===255);W=0;do W+=Z=q.readUByte();while(Z===255);if(Y===4&&q.bytesAvailable!==0){if(J=!0,q.readUByte()===181&&q.readUShort()===49&&q.readUInt()===1195456820&&q.readUByte()===3){for(var ee=q.readUByte(),le=31&ee,ue=[ee,q.readUByte()],fe=0;fe<le;fe++)ue.push(q.readUByte()),ue.push(q.readUByte()),ue.push(q.readUByte());p(y._txtTrack.samples,{type:3,pts:k.pts,bytes:ue})}}else if(Y===5&&q.bytesAvailable!==0){if(J=!0,W>16){for(var ve=[],be=0;be<16;be++)ve.push(q.readUByte().toString(16)),be!==3&&be!==5&&be!==7&&be!==9||ve.push("-");for(var we=W-16,_e=new Uint8Array(we),Pe=0;Pe<we;Pe++)_e[Pe]=q.readUByte();p(y._txtTrack.samples,{pts:k.pts,payloadType:Y,uuid:ve.join(""),userData:Object(P.utf8ArrayToStr)(_e),userDataBytes:_e})}}else if(W<q.bytesAvailable)for(var Le=0;Le<W;Le++)q.readUByte()}break;case 7:if(w=!0,M=!0,!O.sps){var Be=new T.default(j.data).readSPS();O.width=Be.width,O.height=Be.height,O.pixelRatio=Be.pixelRatio,O.sps=[j.data],O.duration=y._duration;for(var ut=j.data.subarray(1,4),Ue="avc1.",et=0;et<3;et++){var ot=ut[et].toString(16);ot.length<2&&(ot="0"+ot),Ue+=ot}O.codec=Ue}break;case 8:w=!0,O.pps||(O.pps=[j.data]);break;case 9:w=!1,O.audFound=!0,B&&r(B,O),B=y.avcSample=S(!1,k.pts,k.dts,"");break;case 12:w=!1;break;default:w=!1,B&&(B.debug+="unknown NAL "+j.type+" ")}B&&w&&B.units.push(j)}),d&&B&&(r(B,O),this.avcSample=null)},m.getLastNalUnit=function(){var k,d,w=this.avcSample;if(!w||w.units.length===0){var y=this._avcTrack.samples;w=y[y.length-1]}if((k=w)!==null&&k!==void 0&&k.units){var O=w.units;d=O[O.length-1]}return d},m.parseAVCNALu=function(k){var d,w,y=k.byteLength,O=this._avcTrack,F=O.naluState||0,B=F,M=[],j=0,U=-1,z=0;for(F===-1&&(U=0,z=31&k[0],F=0,j=1);j<y;)if(d=k[j++],F)if(F!==1)if(d)if(d===1){if(U>=0){var q={data:k.subarray(U,j-F-1),type:z};M.push(q)}else{var Y=this.getLastNalUnit();if(Y&&(B&&j<=4-B&&Y.state&&(Y.data=Y.data.subarray(0,Y.data.byteLength-B)),(w=j-F-1)>0)){var W=new Uint8Array(Y.data.byteLength+w);W.set(Y.data,0),W.set(k.subarray(0,w),Y.data.byteLength),Y.data=W}}j<y?(U=j,z=31&k[j],F=0):F=-1}else F=0;else F=3;else F=d?0:2;else F=d?0:1;if(U>=0&&F>=0){var J={data:k.subarray(U,y),type:z,state:F};M.push(J)}if(M.length===0){var Z=this.getLastNalUnit();if(Z){var ee=new Uint8Array(Z.data.byteLength+k.byteLength);ee.set(Z.data,0),ee.set(k,Z.data.byteLength),Z.data=ee}}return O.naluState=F,M},m.parseAACPES=function(k){var d,w,y,O,F,B=0,M=this._audioTrack,j=this.aacOverFlow,U=k.data;if(j){this.aacOverFlow=null;var z=j.sample.unit.byteLength,q=Math.min(j.missing,z),Y=z-q;j.sample.unit.set(U.subarray(0,q),Y),M.samples.push(j.sample),B=j.missing}for(d=B,w=U.length;d<w-1&&!v.isHeader(U,d);d++);if(d===B||(d<w-1?(y="AAC PES did not start with ADTS header,offset:"+d,O=!1):(y="no ADTS header found in AAC PES",O=!0),_.logger.warn("parsing error:"+y),this.observer.emit(A.Events.ERROR,A.Events.ERROR,{type:b.ErrorTypes.MEDIA_ERROR,details:b.ErrorDetails.FRAG_PARSING_ERROR,fatal:O,reason:y}),!O)){if(v.initTrackConfig(M,this.observer,U,d,this.audioCodec),k.pts!==void 0)F=k.pts;else{if(!j)return void _.logger.warn("[tsdemuxer]: AAC PES unknown PTS");var W=v.getFrameDuration(M.samplerate);F=j.sample.pts+W}for(var J=0;d<w;){if(v.isHeader(U,d)){if(d+5<w){var Z=v.appendFrame(M,U,d,F,J);if(Z){if(!Z.missing){d+=Z.length,J++;continue}this.aacOverFlow=Z}}break}d++}}},m.parseMPEGPES=function(k){var d=k.data,w=d.length,y=0,O=0,F=k.pts;if(F!==void 0)for(;O<w;)if(h.isHeader(d,O)){var B=h.appendFrame(this._audioTrack,d,O,F,y);if(!B)break;O+=B.length,y++}else O++;else _.logger.warn("[tsdemuxer]: MPEG PES unknown PTS")},m.parseID3PES=function(k){k.pts!==void 0?this._id3Track.samples.push(k):_.logger.warn("[tsdemuxer]: ID3 PES unknown PTS")},g}();function S(g,m,k,d){return{key:g,frame:!1,pts:m,dts:k,units:[],debug:d,length:0}}function c(g,m){return(31&g[m+10])<<8|g[m+11]}function u(g,m,k,d){var w={audio:-1,avc:-1,id3:-1,isAAC:!0},y=m+3+((15&g[m+1])<<8|g[m+2])-4;for(m+=12+((15&g[m+10])<<8|g[m+11]);m<y;){var O=(31&g[m+1])<<8|g[m+2];switch(g[m]){case 207:if(!d){_.logger.log("ADTS AAC with AES-128-CBC frame encryption found in unencrypted stream");break}case 15:w.audio===-1&&(w.audio=O);break;case 21:w.id3===-1&&(w.id3=O);break;case 219:if(!d){_.logger.log("H.264 with AES-128-CBC slice encryption found in unencrypted stream");break}case 27:w.avc===-1&&(w.avc=O);break;case 3:case 4:k?w.audio===-1&&(w.audio=O,w.isAAC=!1):_.logger.log("MPEG audio found, not supported in this browser");break;case 36:_.logger.warn("Unsupported HEVC stream type found")}m+=5+((15&g[m+3])<<8|g[m+4])}return w}function f(g){var m,k,d,w,y,O=0,F=g.data;if(!g||g.size===0)return null;for(;F[0].length<19&&F.length>1;){var B=new Uint8Array(F[0].length+F[1].length);B.set(F[0]),B.set(F[1],F[0].length),F[0]=B,F.splice(1,1)}if(((m=F[0])[0]<<16)+(m[1]<<8)+m[2]===1){if((k=(m[4]<<8)+m[5])&&k>g.size-6)return null;var M=m[7];192&M&&(w=536870912*(14&m[9])+4194304*(255&m[10])+16384*(254&m[11])+128*(255&m[12])+(254&m[13])/2,64&M?w-(y=536870912*(14&m[14])+4194304*(255&m[15])+16384*(254&m[16])+128*(255&m[17])+(254&m[18])/2)>54e5&&(_.logger.warn(Math.round((w-y)/9e4)+"s delta between PTS and DTS, align them"),w=y):y=w);var j=(d=m[8])+9;if(g.size<=j)return null;g.size-=j;for(var U=new Uint8Array(g.size),z=0,q=F.length;z<q;z++){var Y=(m=F[z]).byteLength;if(j){if(j>Y){j-=Y;continue}m=m.subarray(j),Y-=j,j=0}U.set(m,O),O+=Y}return k&&(k-=d+3),{data:U,pts:w,dts:y,len:k}}return null}function r(g,m){if(g.units.length&&g.frame){if(g.pts===void 0){var k=m.samples,d=k.length;if(!d)return void m.dropped++;var w=k[d-1];g.pts=w.pts,g.dts=w.dts}m.samples.push(g)}g.debug.length&&_.logger.log(g.pts+"/"+g.dts+":"+g.debug)}function p(g,m){var k=g.length;if(k>0){if(m.pts>=g[k-1].pts)g.push(m);else for(var d=k-1;d>=0;d--)if(m.pts<g[d].pts){g.splice(d,0,m);break}}else g.push(m)}function C(g){for(var m=g.byteLength,k=[],d=1;d<m-2;)g[d]===0&&g[d+1]===0&&g[d+2]===3?(k.push(d+2),d+=2):d++;if(k.length===0)return g;var w=m-k.length,y=new Uint8Array(w),O=0;for(d=0;d<w;O++,d++)O===k[0]&&(O++,k.shift()),y[d]=g[O];return y}L.minProbeByteLength=188,l.default=L},"./src/errors.ts":function(o,l,a){var v,h;a.r(l),a.d(l,"ErrorTypes",function(){return v}),a.d(l,"ErrorDetails",function(){return h}),function(T){T.NETWORK_ERROR="networkError",T.MEDIA_ERROR="mediaError",T.KEY_SYSTEM_ERROR="keySystemError",T.MUX_ERROR="muxError",T.OTHER_ERROR="otherError"}(v||(v={})),function(T){T.KEY_SYSTEM_NO_KEYS="keySystemNoKeys",T.KEY_SYSTEM_NO_ACCESS="keySystemNoAccess",T.KEY_SYSTEM_NO_SESSION="keySystemNoSession",T.KEY_SYSTEM_LICENSE_REQUEST_FAILED="keySystemLicenseRequestFailed",T.KEY_SYSTEM_NO_INIT_DATA="keySystemNoInitData",T.MANIFEST_LOAD_ERROR="manifestLoadError",T.MANIFEST_LOAD_TIMEOUT="manifestLoadTimeOut",T.MANIFEST_PARSING_ERROR="manifestParsingError",T.MANIFEST_INCOMPATIBLE_CODECS_ERROR="manifestIncompatibleCodecsError",T.LEVEL_EMPTY_ERROR="levelEmptyError",T.LEVEL_LOAD_ERROR="levelLoadError",T.LEVEL_LOAD_TIMEOUT="levelLoadTimeOut",T.LEVEL_SWITCH_ERROR="levelSwitchError",T.AUDIO_TRACK_LOAD_ERROR="audioTrackLoadError",T.AUDIO_TRACK_LOAD_TIMEOUT="audioTrackLoadTimeOut",T.SUBTITLE_LOAD_ERROR="subtitleTrackLoadError",T.SUBTITLE_TRACK_LOAD_TIMEOUT="subtitleTrackLoadTimeOut",T.FRAG_LOAD_ERROR="fragLoadError",T.FRAG_LOAD_TIMEOUT="fragLoadTimeOut",T.FRAG_DECRYPT_ERROR="fragDecryptError",T.FRAG_PARSING_ERROR="fragParsingError",T.REMUX_ALLOC_ERROR="remuxAllocError",T.KEY_LOAD_ERROR="keyLoadError",T.KEY_LOAD_TIMEOUT="keyLoadTimeOut",T.BUFFER_ADD_CODEC_ERROR="bufferAddCodecError",T.BUFFER_INCOMPATIBLE_CODECS_ERROR="bufferIncompatibleCodecsError",T.BUFFER_APPEND_ERROR="bufferAppendError",T.BUFFER_APPENDING_ERROR="bufferAppendingError",T.BUFFER_STALLED_ERROR="bufferStalledError",T.BUFFER_FULL_ERROR="bufferFullError",T.BUFFER_SEEK_OVER_HOLE="bufferSeekOverHole",T.BUFFER_NUDGE_ON_STALL="bufferNudgeOnStall",T.INTERNAL_EXCEPTION="internalException",T.INTERNAL_ABORTED="aborted",T.UNKNOWN="unknown"}(h||(h={}))},"./src/events.ts":function(o,l,a){var v;a.r(l),a.d(l,"Events",function(){return v}),function(h){h.MEDIA_ATTACHING="hlsMediaAttaching",h.MEDIA_ATTACHED="hlsMediaAttached",h.MEDIA_DETACHING="hlsMediaDetaching",h.MEDIA_DETACHED="hlsMediaDetached",h.BUFFER_RESET="hlsBufferReset",h.BUFFER_CODECS="hlsBufferCodecs",h.BUFFER_CREATED="hlsBufferCreated",h.BUFFER_APPENDING="hlsBufferAppending",h.BUFFER_APPENDED="hlsBufferAppended",h.BUFFER_EOS="hlsBufferEos",h.BUFFER_FLUSHING="hlsBufferFlushing",h.BUFFER_FLUSHED="hlsBufferFlushed",h.MANIFEST_LOADING="hlsManifestLoading",h.MANIFEST_LOADED="hlsManifestLoaded",h.MANIFEST_PARSED="hlsManifestParsed",h.LEVEL_SWITCHING="hlsLevelSwitching",h.LEVEL_SWITCHED="hlsLevelSwitched",h.LEVEL_LOADING="hlsLevelLoading",h.LEVEL_LOADED="hlsLevelLoaded",h.LEVEL_UPDATED="hlsLevelUpdated",h.LEVEL_PTS_UPDATED="hlsLevelPtsUpdated",h.LEVELS_UPDATED="hlsLevelsUpdated",h.AUDIO_TRACKS_UPDATED="hlsAudioTracksUpdated",h.AUDIO_TRACK_SWITCHING="hlsAudioTrackSwitching",h.AUDIO_TRACK_SWITCHED="hlsAudioTrackSwitched",h.AUDIO_TRACK_LOADING="hlsAudioTrackLoading",h.AUDIO_TRACK_LOADED="hlsAudioTrackLoaded",h.SUBTITLE_TRACKS_UPDATED="hlsSubtitleTracksUpdated",h.SUBTITLE_TRACKS_CLEARED="hlsSubtitleTracksCleared",h.SUBTITLE_TRACK_SWITCH="hlsSubtitleTrackSwitch",h.SUBTITLE_TRACK_LOADING="hlsSubtitleTrackLoading",h.SUBTITLE_TRACK_LOADED="hlsSubtitleTrackLoaded",h.SUBTITLE_FRAG_PROCESSED="hlsSubtitleFragProcessed",h.CUES_PARSED="hlsCuesParsed",h.NON_NATIVE_TEXT_TRACKS_FOUND="hlsNonNativeTextTracksFound",h.INIT_PTS_FOUND="hlsInitPtsFound",h.FRAG_LOADING="hlsFragLoading",h.FRAG_LOAD_EMERGENCY_ABORTED="hlsFragLoadEmergencyAborted",h.FRAG_LOADED="hlsFragLoaded",h.FRAG_DECRYPTED="hlsFragDecrypted",h.FRAG_PARSING_INIT_SEGMENT="hlsFragParsingInitSegment",h.FRAG_PARSING_USERDATA="hlsFragParsingUserdata",h.FRAG_PARSING_METADATA="hlsFragParsingMetadata",h.FRAG_PARSED="hlsFragParsed",h.FRAG_BUFFERED="hlsFragBuffered",h.FRAG_CHANGED="hlsFragChanged",h.FPS_DROP="hlsFpsDrop",h.FPS_DROP_LEVEL_CAPPING="hlsFpsDropLevelCapping",h.ERROR="hlsError",h.DESTROYING="hlsDestroying",h.KEY_LOADING="hlsKeyLoading",h.KEY_LOADED="hlsKeyLoaded",h.LIVE_BACK_BUFFER_REACHED="hlsLiveBackBufferReached",h.BACK_BUFFER_REACHED="hlsBackBufferReached"}(v||(v={}))},"./src/hls.ts":function(o,l,a){a.r(l),a.d(l,"default",function(){return r});var v=a("./node_modules/url-toolkit/src/url-toolkit.js"),h=a("./src/loader/playlist-loader.ts"),T=a("./src/loader/key-loader.ts"),P=a("./src/controller/id3-track-controller.ts"),I=a("./src/controller/latency-controller.ts"),A=a("./src/controller/level-controller.ts"),x=a("./src/controller/fragment-tracker.ts"),_=a("./src/controller/stream-controller.ts"),b=a("./src/is-supported.ts"),D=a("./src/utils/logger.ts"),L=a("./src/config.ts"),S=a("./node_modules/eventemitter3/index.js"),c=a("./src/events.ts"),u=a("./src/errors.ts");function f(p,C){for(var g=0;g<C.length;g++){var m=C[g];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(p,m.key,m)}}var r=function(){function p(d){d===void 0&&(d={}),this.config=void 0,this.userConfig=void 0,this.coreComponents=void 0,this.networkControllers=void 0,this._emitter=new S.EventEmitter,this._autoLevelCapping=void 0,this.abrController=void 0,this.bufferController=void 0,this.capLevelController=void 0,this.latencyController=void 0,this.levelController=void 0,this.streamController=void 0,this.audioTrackController=void 0,this.subtitleTrackController=void 0,this.emeController=void 0,this._media=null,this.url=null;var w=this.config=Object(L.mergeConfig)(p.DefaultConfig,d);this.userConfig=d,Object(D.enableLogs)(w.debug),this._autoLevelCapping=-1,w.progressive&&Object(L.enableStreamingMode)(w);var y=w.abrController,O=w.bufferController,F=w.capLevelController,B=w.fpsController,M=this.abrController=new y(this),j=this.bufferController=new O(this),U=this.capLevelController=new F(this),z=new B(this),q=new h.default(this),Y=new T.default(this),W=new P.default(this),J=this.levelController=new A.default(this),Z=new x.FragmentTracker(this),ee=this.streamController=new _.default(this,Z);U.setStreamController(ee),z.setStreamController(ee);var le=[J,ee];this.networkControllers=le;var ue=[q,Y,M,j,U,z,W,Z];this.audioTrackController=this.createController(w.audioTrackController,null,le),this.createController(w.audioStreamController,Z,le),this.subtitleTrackController=this.createController(w.subtitleTrackController,null,le),this.createController(w.subtitleStreamController,Z,le),this.createController(w.timelineController,null,ue),this.emeController=this.createController(w.emeController,null,ue),this.latencyController=this.createController(I.default,null,ue),this.coreComponents=ue}p.isSupported=function(){return Object(b.isSupported)()};var C,g,m,k=p.prototype;return k.createController=function(d,w,y){if(d){var O=w?new d(this,w):new d(this);return y&&y.push(O),O}return null},k.on=function(d,w,y){y===void 0&&(y=this),this._emitter.on(d,w,y)},k.once=function(d,w,y){y===void 0&&(y=this),this._emitter.once(d,w,y)},k.removeAllListeners=function(d){this._emitter.removeAllListeners(d)},k.off=function(d,w,y,O){y===void 0&&(y=this),this._emitter.off(d,w,y,O)},k.listeners=function(d){return this._emitter.listeners(d)},k.emit=function(d,w,y){return this._emitter.emit(d,w,y)},k.trigger=function(d,w){if(this.config.debug)return this.emit(d,d,w);try{return this.emit(d,d,w)}catch(y){D.logger.error("An internal error happened while handling event "+d+'. Error message: "'+y.message+'". Here is a stacktrace:',y),this.trigger(c.Events.ERROR,{type:u.ErrorTypes.OTHER_ERROR,details:u.ErrorDetails.INTERNAL_EXCEPTION,fatal:!1,event:d,error:y})}return!1},k.listenerCount=function(d){return this._emitter.listenerCount(d)},k.destroy=function(){D.logger.log("destroy"),this.trigger(c.Events.DESTROYING,void 0),this.detachMedia(),this.removeAllListeners(),this._autoLevelCapping=-1,this.url=null,this.networkControllers.forEach(function(d){return d.destroy()}),this.networkControllers.length=0,this.coreComponents.forEach(function(d){return d.destroy()}),this.coreComponents.length=0},k.attachMedia=function(d){D.logger.log("attachMedia"),this._media=d,this.trigger(c.Events.MEDIA_ATTACHING,{media:d})},k.detachMedia=function(){D.logger.log("detachMedia"),this.trigger(c.Events.MEDIA_DETACHING,void 0),this._media=null},k.loadSource=function(d){this.stopLoad();var w=this.media,y=this.url,O=this.url=v.buildAbsoluteURL(self.location.href,d,{alwaysNormalize:!0});D.logger.log("loadSource:"+O),w&&y&&y!==O&&this.bufferController.hasSourceTypes()&&(this.detachMedia(),this.attachMedia(w)),this.trigger(c.Events.MANIFEST_LOADING,{url:d})},k.startLoad=function(d){d===void 0&&(d=-1),D.logger.log("startLoad("+d+")"),this.networkControllers.forEach(function(w){w.startLoad(d)})},k.stopLoad=function(){D.logger.log("stopLoad"),this.networkControllers.forEach(function(d){d.stopLoad()})},k.swapAudioCodec=function(){D.logger.log("swapAudioCodec"),this.streamController.swapAudioCodec()},k.recoverMediaError=function(){D.logger.log("recoverMediaError");var d=this._media;this.detachMedia(),d&&this.attachMedia(d)},k.removeLevel=function(d,w){w===void 0&&(w=0),this.levelController.removeLevel(d,w)},C=p,m=[{key:"version",get:function(){return"1.0.11"}},{key:"Events",get:function(){return c.Events}},{key:"ErrorTypes",get:function(){return u.ErrorTypes}},{key:"ErrorDetails",get:function(){return u.ErrorDetails}},{key:"DefaultConfig",get:function(){return p.defaultConfig?p.defaultConfig:L.hlsDefaultConfig},set:function(d){p.defaultConfig=d}}],(g=[{key:"levels",get:function(){var d=this.levelController.levels;return d||[]}},{key:"currentLevel",get:function(){return this.streamController.currentLevel},set:function(d){D.logger.log("set currentLevel:"+d),this.loadLevel=d,this.abrController.clearTimer(),this.streamController.immediateLevelSwitch()}},{key:"nextLevel",get:function(){return this.streamController.nextLevel},set:function(d){D.logger.log("set nextLevel:"+d),this.levelController.manualLevel=d,this.streamController.nextLevelSwitch()}},{key:"loadLevel",get:function(){return this.levelController.level},set:function(d){D.logger.log("set loadLevel:"+d),this.levelController.manualLevel=d}},{key:"nextLoadLevel",get:function(){return this.levelController.nextLoadLevel},set:function(d){this.levelController.nextLoadLevel=d}},{key:"firstLevel",get:function(){return Math.max(this.levelController.firstLevel,this.minAutoLevel)},set:function(d){D.logger.log("set firstLevel:"+d),this.levelController.firstLevel=d}},{key:"startLevel",get:function(){return this.levelController.startLevel},set:function(d){D.logger.log("set startLevel:"+d),d!==-1&&(d=Math.max(d,this.minAutoLevel)),this.levelController.startLevel=d}},{key:"capLevelToPlayerSize",get:function(){return this.config.capLevelToPlayerSize},set:function(d){var w=!!d;w!==this.config.capLevelToPlayerSize&&(w?this.capLevelController.startCapping():(this.capLevelController.stopCapping(),this.autoLevelCapping=-1,this.streamController.nextLevelSwitch()),this.config.capLevelToPlayerSize=w)}},{key:"autoLevelCapping",get:function(){return this._autoLevelCapping},set:function(d){this._autoLevelCapping!==d&&(D.logger.log("set autoLevelCapping:"+d),this._autoLevelCapping=d)}},{key:"bandwidthEstimate",get:function(){var d=this.abrController.bwEstimator;return d?d.getEstimate():NaN}},{key:"autoLevelEnabled",get:function(){return this.levelController.manualLevel===-1}},{key:"manualLevel",get:function(){return this.levelController.manualLevel}},{key:"minAutoLevel",get:function(){var d=this.levels,w=this.config.minAutoBitrate;if(!d)return 0;for(var y=d.length,O=0;O<y;O++)if(d[O].maxBitrate>w)return O;return 0}},{key:"maxAutoLevel",get:function(){var d=this.levels,w=this.autoLevelCapping;return w===-1&&d&&d.length?d.length-1:w}},{key:"nextAutoLevel",get:function(){return Math.min(Math.max(this.abrController.nextAutoLevel,this.minAutoLevel),this.maxAutoLevel)},set:function(d){this.abrController.nextAutoLevel=Math.max(this.minAutoLevel,d)}},{key:"audioTracks",get:function(){var d=this.audioTrackController;return d?d.audioTracks:[]}},{key:"audioTrack",get:function(){var d=this.audioTrackController;return d?d.audioTrack:-1},set:function(d){var w=this.audioTrackController;w&&(w.audioTrack=d)}},{key:"subtitleTracks",get:function(){var d=this.subtitleTrackController;return d?d.subtitleTracks:[]}},{key:"subtitleTrack",get:function(){var d=this.subtitleTrackController;return d?d.subtitleTrack:-1},set:function(d){var w=this.subtitleTrackController;w&&(w.subtitleTrack=d)}},{key:"media",get:function(){return this._media}},{key:"subtitleDisplay",get:function(){var d=this.subtitleTrackController;return!!d&&d.subtitleDisplay},set:function(d){var w=this.subtitleTrackController;w&&(w.subtitleDisplay=d)}},{key:"lowLatencyMode",get:function(){return this.config.lowLatencyMode},set:function(d){this.config.lowLatencyMode=d}},{key:"liveSyncPosition",get:function(){return this.latencyController.liveSyncPosition}},{key:"latency",get:function(){return this.latencyController.latency}},{key:"maxLatency",get:function(){return this.latencyController.maxLatency}},{key:"targetLatency",get:function(){return this.latencyController.targetLatency}},{key:"drift",get:function(){return this.latencyController.drift}},{key:"forceStartLoad",get:function(){return this.streamController.forceStartLoad}}])&&f(C.prototype,g),m&&f(C,m),p}();r.defaultConfig=void 0},"./src/is-supported.ts":function(o,l,a){a.r(l),a.d(l,"isSupported",function(){return T}),a.d(l,"changeTypeSupported",function(){return P});var v=a("./src/utils/mediasource-helper.ts");function h(){return self.SourceBuffer||self.WebKitSourceBuffer}function T(){var I=Object(v.getMediaSource)();if(!I)return!1;var A=h(),x=I&&typeof I.isTypeSupported=="function"&&I.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'),_=!A||A.prototype&&typeof A.prototype.appendBuffer=="function"&&typeof A.prototype.remove=="function";return!!x&&!!_}function P(){var I,A=h();return typeof(A==null||(I=A.prototype)===null||I===void 0?void 0:I.changeType)=="function"}},"./src/loader/fragment-loader.ts":function(o,l,a){a.r(l),a.d(l,"default",function(){return b}),a.d(l,"LoadError",function(){return L});var v=a("./src/polyfills/number.ts"),h=a("./src/errors.ts");function T(S){var c=typeof Map=="function"?new Map:void 0;return(T=function(u){if(u===null||(f=u,Function.toString.call(f).indexOf("[native code]")===-1))return u;var f;if(typeof u!="function")throw new TypeError("Super expression must either be null or a function");if(c!==void 0){if(c.has(u))return c.get(u);c.set(u,r)}function r(){return P(u,arguments,x(this).constructor)}return r.prototype=Object.create(u.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),A(r,u)})(S)}function P(S,c,u){return(P=I()?Reflect.construct:function(f,r,p){var C=[null];C.push.apply(C,r);var g=new(Function.bind.apply(f,C));return p&&A(g,p.prototype),g}).apply(null,arguments)}function I(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function A(S,c){return(A=Object.setPrototypeOf||function(u,f){return u.__proto__=f,u})(S,c)}function x(S){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(c){return c.__proto__||Object.getPrototypeOf(c)})(S)}var _=Math.pow(2,17),b=function(){function S(u){this.config=void 0,this.loader=null,this.partLoadTimeout=-1,this.config=u}var c=S.prototype;return c.destroy=function(){this.loader&&(this.loader.destroy(),this.loader=null)},c.abort=function(){this.loader&&this.loader.abort()},c.load=function(u,f){var r=this,p=u.url;if(!p)return Promise.reject(new L({type:h.ErrorTypes.NETWORK_ERROR,details:h.ErrorDetails.FRAG_LOAD_ERROR,fatal:!1,frag:u,networkDetails:null},"Fragment does not have a "+(p?"part list":"url")));this.abort();var C=this.config,g=C.fLoader,m=C.loader;return new Promise(function(k,d){r.loader&&r.loader.destroy();var w=r.loader=u.loader=g?new g(C):new m(C),y=D(u),O={timeout:C.fragLoadingTimeOut,maxRetry:0,retryDelay:0,maxRetryDelay:C.fragLoadingMaxRetryTimeout,highWaterMark:_};u.stats=w.stats,w.load(y,O,{onSuccess:function(F,B,M,j){r.resetLoader(u,w),k({frag:u,part:null,payload:F.data,networkDetails:j})},onError:function(F,B,M){r.resetLoader(u,w),d(new L({type:h.ErrorTypes.NETWORK_ERROR,details:h.ErrorDetails.FRAG_LOAD_ERROR,fatal:!1,frag:u,response:F,networkDetails:M}))},onAbort:function(F,B,M){r.resetLoader(u,w),d(new L({type:h.ErrorTypes.NETWORK_ERROR,details:h.ErrorDetails.INTERNAL_ABORTED,fatal:!1,frag:u,networkDetails:M}))},onTimeout:function(F,B,M){r.resetLoader(u,w),d(new L({type:h.ErrorTypes.NETWORK_ERROR,details:h.ErrorDetails.FRAG_LOAD_TIMEOUT,fatal:!1,frag:u,networkDetails:M}))},onProgress:function(F,B,M,j){f&&f({frag:u,part:null,payload:M,networkDetails:j})}})})},c.loadPart=function(u,f,r){var p=this;this.abort();var C=this.config,g=C.fLoader,m=C.loader;return new Promise(function(k,d){p.loader&&p.loader.destroy();var w=p.loader=u.loader=g?new g(C):new m(C),y=D(u,f),O={timeout:C.fragLoadingTimeOut,maxRetry:0,retryDelay:0,maxRetryDelay:C.fragLoadingMaxRetryTimeout,highWaterMark:_};f.stats=w.stats,w.load(y,O,{onSuccess:function(F,B,M,j){p.resetLoader(u,w),p.updateStatsFromPart(u,f);var U={frag:u,part:f,payload:F.data,networkDetails:j};r(U),k(U)},onError:function(F,B,M){p.resetLoader(u,w),d(new L({type:h.ErrorTypes.NETWORK_ERROR,details:h.ErrorDetails.FRAG_LOAD_ERROR,fatal:!1,frag:u,part:f,response:F,networkDetails:M}))},onAbort:function(F,B,M){u.stats.aborted=f.stats.aborted,p.resetLoader(u,w),d(new L({type:h.ErrorTypes.NETWORK_ERROR,details:h.ErrorDetails.INTERNAL_ABORTED,fatal:!1,frag:u,part:f,networkDetails:M}))},onTimeout:function(F,B,M){p.resetLoader(u,w),d(new L({type:h.ErrorTypes.NETWORK_ERROR,details:h.ErrorDetails.FRAG_LOAD_TIMEOUT,fatal:!1,frag:u,part:f,networkDetails:M}))}})})},c.updateStatsFromPart=function(u,f){var r=u.stats,p=f.stats,C=p.total;if(r.loaded+=p.loaded,C){var g=Math.round(u.duration/f.duration),m=Math.min(Math.round(r.loaded/C),g),k=(g-m)*Math.round(r.loaded/m);r.total=r.loaded+k}else r.total=Math.max(r.loaded,r.total);var d=r.loading,w=p.loading;d.start?d.first+=w.first-w.start:(d.start=w.start,d.first=w.first),d.end=w.end},c.resetLoader=function(u,f){u.loader=null,this.loader===f&&(self.clearTimeout(this.partLoadTimeout),this.loader=null),f.destroy()},S}();function D(S,c){c===void 0&&(c=null);var u=c||S,f={frag:S,part:c,responseType:"arraybuffer",url:u.url,rangeStart:0,rangeEnd:0},r=u.byteRangeStartOffset,p=u.byteRangeEndOffset;return Object(v.isFiniteNumber)(r)&&Object(v.isFiniteNumber)(p)&&(f.rangeStart=r,f.rangeEnd=p),f}var L=function(S){var c,u;function f(r){for(var p,C=arguments.length,g=new Array(C>1?C-1:0),m=1;m<C;m++)g[m-1]=arguments[m];return(p=S.call.apply(S,[this].concat(g))||this).data=void 0,p.data=r,p}return u=S,(c=f).prototype=Object.create(u.prototype),c.prototype.constructor=c,A(c,u),f}(T(Error))},"./src/loader/fragment.ts":function(o,l,a){a.r(l),a.d(l,"ElementaryStreamTypes",function(){return v}),a.d(l,"BaseSegment",function(){return L}),a.d(l,"Fragment",function(){return S}),a.d(l,"Part",function(){return c});var v,h=a("./src/polyfills/number.ts"),T=a("./node_modules/url-toolkit/src/url-toolkit.js"),P=a("./src/utils/logger.ts"),I=a("./src/loader/level-key.ts"),A=a("./src/loader/load-stats.ts");function x(u,f){u.prototype=Object.create(f.prototype),u.prototype.constructor=u,_(u,f)}function _(u,f){return(_=Object.setPrototypeOf||function(r,p){return r.__proto__=p,r})(u,f)}function b(u,f){for(var r=0;r<f.length;r++){var p=f[r];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(u,p.key,p)}}function D(u,f,r){return f&&b(u.prototype,f),r&&b(u,r),u}(function(u){u.AUDIO="audio",u.VIDEO="video",u.AUDIOVIDEO="audiovideo"})(v||(v={}));var L=function(){function u(f){var r;this._byteRange=null,this._url=null,this.baseurl=void 0,this.relurl=void 0,this.elementaryStreams=((r={})[v.AUDIO]=null,r[v.VIDEO]=null,r[v.AUDIOVIDEO]=null,r),this.baseurl=f}return u.prototype.setByteRange=function(f,r){var p=f.split("@",2),C=[];p.length===1?C[0]=r?r.byteRangeEndOffset:0:C[0]=parseInt(p[1]),C[1]=parseInt(p[0])+C[0],this._byteRange=C},D(u,[{key:"byteRange",get:function(){return this._byteRange?this._byteRange:[]}},{key:"byteRangeStartOffset",get:function(){return this.byteRange[0]}},{key:"byteRangeEndOffset",get:function(){return this.byteRange[1]}},{key:"url",get:function(){return!this._url&&this.baseurl&&this.relurl&&(this._url=Object(T.buildAbsoluteURL)(this.baseurl,this.relurl,{alwaysNormalize:!0})),this._url||""},set:function(f){this._url=f}}]),u}(),S=function(u){function f(p,C){var g;return(g=u.call(this,C)||this)._decryptdata=null,g.rawProgramDateTime=null,g.programDateTime=null,g.tagList=[],g.duration=0,g.sn=0,g.levelkey=void 0,g.type=void 0,g.loader=null,g.level=-1,g.cc=0,g.startPTS=void 0,g.endPTS=void 0,g.appendedPTS=void 0,g.startDTS=void 0,g.endDTS=void 0,g.start=0,g.deltaPTS=void 0,g.maxStartPTS=void 0,g.minEndPTS=void 0,g.stats=new A.LoadStats,g.urlId=0,g.data=void 0,g.bitrateTest=!1,g.title=null,g.initSegment=null,g.type=p,g}x(f,u);var r=f.prototype;return r.createInitializationVector=function(p){for(var C=new Uint8Array(16),g=12;g<16;g++)C[g]=p>>8*(15-g)&255;return C},r.setDecryptDataFromLevelKey=function(p,C){var g=p;return(p==null?void 0:p.method)==="AES-128"&&p.uri&&!p.iv&&((g=I.LevelKey.fromURI(p.uri)).method=p.method,g.iv=this.createInitializationVector(C),g.keyFormat="identity"),g},r.setElementaryStreamInfo=function(p,C,g,m,k,d){d===void 0&&(d=!1);var w=this.elementaryStreams,y=w[p];y?(y.startPTS=Math.min(y.startPTS,C),y.endPTS=Math.max(y.endPTS,g),y.startDTS=Math.min(y.startDTS,m),y.endDTS=Math.max(y.endDTS,k)):w[p]={startPTS:C,endPTS:g,startDTS:m,endDTS:k,partial:d}},r.clearElementaryStreamInfo=function(){var p=this.elementaryStreams;p[v.AUDIO]=null,p[v.VIDEO]=null,p[v.AUDIOVIDEO]=null},D(f,[{key:"decryptdata",get:function(){if(!this.levelkey&&!this._decryptdata)return null;if(!this._decryptdata&&this.levelkey){var p=this.sn;typeof p!="number"&&(this.levelkey&&this.levelkey.method==="AES-128"&&!this.levelkey.iv&&P.logger.warn('missing IV for initialization segment with method="'+this.levelkey.method+'" - compliance issue'),p=0),this._decryptdata=this.setDecryptDataFromLevelKey(this.levelkey,p)}return this._decryptdata}},{key:"end",get:function(){return this.start+this.duration}},{key:"endProgramDateTime",get:function(){if(this.programDateTime===null||!Object(h.isFiniteNumber)(this.programDateTime))return null;var p=Object(h.isFiniteNumber)(this.duration)?this.duration:0;return this.programDateTime+1e3*p}},{key:"encrypted",get:function(){var p;return!((p=this.decryptdata)===null||p===void 0||!p.keyFormat||!this.decryptdata.uri)}}]),f}(L),c=function(u){function f(r,p,C,g,m){var k;(k=u.call(this,C)||this).fragOffset=0,k.duration=0,k.gap=!1,k.independent=!1,k.relurl=void 0,k.fragment=void 0,k.index=void 0,k.stats=new A.LoadStats,k.duration=r.decimalFloatingPoint("DURATION"),k.gap=r.bool("GAP"),k.independent=r.bool("INDEPENDENT"),k.relurl=r.enumeratedString("URI"),k.fragment=p,k.index=g;var d=r.enumeratedString("BYTERANGE");return d&&k.setByteRange(d,m),m&&(k.fragOffset=m.fragOffset+m.duration),k}return x(f,u),D(f,[{key:"start",get:function(){return this.fragment.start+this.fragOffset}},{key:"end",get:function(){return this.start+this.duration}},{key:"loaded",get:function(){var r=this.elementaryStreams;return!!(r.audio||r.video||r.audiovideo)}}]),f}(L)},"./src/loader/key-loader.ts":function(o,l,a){a.r(l),a.d(l,"default",function(){return P});var v=a("./src/events.ts"),h=a("./src/errors.ts"),T=a("./src/utils/logger.ts"),P=function(){function I(x){this.hls=void 0,this.loaders={},this.decryptkey=null,this.decrypturl=null,this.hls=x,this._registerListeners()}var A=I.prototype;return A._registerListeners=function(){this.hls.on(v.Events.KEY_LOADING,this.onKeyLoading,this)},A._unregisterListeners=function(){this.hls.off(v.Events.KEY_LOADING,this.onKeyLoading)},A.destroy=function(){for(var x in this._unregisterListeners(),this.loaders){var _=this.loaders[x];_&&_.destroy()}this.loaders={}},A.onKeyLoading=function(x,_){var b=_.frag,D=b.type,L=this.loaders[D];if(b.decryptdata){var S=b.decryptdata.uri;if(S!==this.decrypturl||this.decryptkey===null){var c=this.hls.config;if(L&&(T.logger.warn("abort previous key loader for type:"+D),L.abort()),!S)return void T.logger.warn("key uri is falsy");var u=c.loader,f=b.loader=this.loaders[D]=new u(c);this.decrypturl=S,this.decryptkey=null;var r={url:S,frag:b,responseType:"arraybuffer"},p={timeout:c.fragLoadingTimeOut,maxRetry:0,retryDelay:c.fragLoadingRetryDelay,maxRetryDelay:c.fragLoadingMaxRetryTimeout,highWaterMark:0},C={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)};f.load(r,p,C)}else this.decryptkey&&(b.decryptdata.key=this.decryptkey,this.hls.trigger(v.Events.KEY_LOADED,{frag:b}))}else T.logger.warn("Missing decryption data on fragment in onKeyLoading")},A.loadsuccess=function(x,_,b){var D=b.frag;D.decryptdata?(this.decryptkey=D.decryptdata.key=new Uint8Array(x.data),D.loader=null,delete this.loaders[D.type],this.hls.trigger(v.Events.KEY_LOADED,{frag:D})):T.logger.error("after key load, decryptdata unset")},A.loaderror=function(x,_){var b=_.frag,D=b.loader;D&&D.abort(),delete this.loaders[b.type],this.hls.trigger(v.Events.ERROR,{type:h.ErrorTypes.NETWORK_ERROR,details:h.ErrorDetails.KEY_LOAD_ERROR,fatal:!1,frag:b,response:x})},A.loadtimeout=function(x,_){var b=_.frag,D=b.loader;D&&D.abort(),delete this.loaders[b.type],this.hls.trigger(v.Events.ERROR,{type:h.ErrorTypes.NETWORK_ERROR,details:h.ErrorDetails.KEY_LOAD_TIMEOUT,fatal:!1,frag:b})},I}()},"./src/loader/level-details.ts":function(o,l,a){a.r(l),a.d(l,"LevelDetails",function(){return T});var v=a("./src/polyfills/number.ts");function h(P,I){for(var A=0;A<I.length;A++){var x=I[A];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(P,x.key,x)}}var T=function(){function P(x){this.PTSKnown=!1,this.alignedSliding=!1,this.averagetargetduration=void 0,this.endCC=0,this.endSN=0,this.fragments=void 0,this.fragmentHint=void 0,this.partList=null,this.live=!0,this.ageHeader=0,this.advancedDateTime=void 0,this.updated=!0,this.advanced=!0,this.availabilityDelay=void 0,this.misses=0,this.needSidxRanges=!1,this.startCC=0,this.startSN=0,this.startTimeOffset=null,this.targetduration=0,this.totalduration=0,this.type=null,this.url=void 0,this.m3u8="",this.version=null,this.canBlockReload=!1,this.canSkipUntil=0,this.canSkipDateRanges=!1,this.skippedSegments=0,this.recentlyRemovedDateranges=void 0,this.partHoldBack=0,this.holdBack=0,this.partTarget=0,this.preloadHint=void 0,this.renditionReports=void 0,this.tuneInGoal=0,this.deltaUpdateFailed=void 0,this.driftStartTime=0,this.driftEndTime=0,this.driftStart=0,this.driftEnd=0,this.fragments=[],this.url=x}var I,A;return P.prototype.reloaded=function(x){if(!x)return this.advanced=!0,void(this.updated=!0);var _=this.lastPartSn-x.lastPartSn,b=this.lastPartIndex-x.lastPartIndex;this.updated=this.endSN!==x.endSN||!!b||!!_,this.advanced=this.endSN>x.endSN||_>0||_===0&&b>0,this.updated||this.advanced?this.misses=Math.floor(.6*x.misses):this.misses=x.misses+1,this.availabilityDelay=x.availabilityDelay},I=P,(A=[{key:"hasProgramDateTime",get:function(){return!!this.fragments.length&&Object(v.isFiniteNumber)(this.fragments[this.fragments.length-1].programDateTime)}},{key:"levelTargetDuration",get:function(){return this.averagetargetduration||this.targetduration||10}},{key:"drift",get:function(){var x=this.driftEndTime-this.driftStartTime;return x>0?1e3*(this.driftEnd-this.driftStart)/x:1}},{key:"edge",get:function(){return this.partEnd||this.fragmentEnd}},{key:"partEnd",get:function(){var x;return(x=this.partList)!==null&&x!==void 0&&x.length?this.partList[this.partList.length-1].end:this.fragmentEnd}},{key:"fragmentEnd",get:function(){var x;return(x=this.fragments)!==null&&x!==void 0&&x.length?this.fragments[this.fragments.length-1].end:0}},{key:"age",get:function(){return this.advancedDateTime?Math.max(Date.now()-this.advancedDateTime,0)/1e3:0}},{key:"lastPartIndex",get:function(){var x;return(x=this.partList)!==null&&x!==void 0&&x.length?this.partList[this.partList.length-1].index:-1}},{key:"lastPartSn",get:function(){var x;return(x=this.partList)!==null&&x!==void 0&&x.length?this.partList[this.partList.length-1].fragment.sn:this.endSN}}])&&h(I.prototype,A),P}()},"./src/loader/level-key.ts":function(o,l,a){a.r(l),a.d(l,"LevelKey",function(){return T});var v=a("./node_modules/url-toolkit/src/url-toolkit.js");function h(P,I){for(var A=0;A<I.length;A++){var x=I[A];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(P,x.key,x)}}var T=function(){function P(x,_){this._uri=null,this.method=null,this.keyFormat=null,this.keyFormatVersions=null,this.keyID=null,this.key=null,this.iv=null,this._uri=_?Object(v.buildAbsoluteURL)(x,_,{alwaysNormalize:!0}):x}var I,A;return P.fromURL=function(x,_){return new P(x,_)},P.fromURI=function(x){return new P(x)},I=P,(A=[{key:"uri",get:function(){return this._uri}}])&&h(I.prototype,A),P}()},"./src/loader/load-stats.ts":function(o,l,a){a.r(l),a.d(l,"LoadStats",function(){return v});var v=function(){this.aborted=!1,this.loaded=0,this.retry=0,this.total=0,this.chunkCount=0,this.bwEstimate=0,this.loading={start:0,first:0,end:0},this.parsing={start:0,end:0},this.buffering={start:0,first:0,end:0}}},"./src/loader/m3u8-parser.ts":function(o,l,a){a.r(l),a.d(l,"default",function(){return u});var v=a("./src/polyfills/number.ts"),h=a("./node_modules/url-toolkit/src/url-toolkit.js"),T=a("./src/loader/fragment.ts"),P=a("./src/loader/level-details.ts"),I=a("./src/loader/level-key.ts"),A=a("./src/utils/attr-list.ts"),x=a("./src/utils/logger.ts"),_=a("./src/utils/codecs.ts"),b=/#EXT-X-STREAM-INF:([^\r\n]*)(?:[\r\n](?:#[^\r\n]*)?)*([^\r\n]+)|#EXT-X-SESSION-DATA:([^\r\n]*)[\r\n]+/g,D=/#EXT-X-MEDIA:(.*)/g,L=new RegExp([/#EXTINF:\s*(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source,/(?!#) *(\S[\S ]*)/.source,/#EXT-X-BYTERANGE:*(.+)/.source,/#EXT-X-PROGRAM-DATE-TIME:(.+)/.source,/#.*/.source].join("|"),"g"),S=new RegExp([/#(EXTM3U)/.source,/#EXT-X-(PLAYLIST-TYPE):(.+)/.source,/#EXT-X-(MEDIA-SEQUENCE): *(\d+)/.source,/#EXT-X-(SKIP):(.+)/.source,/#EXT-X-(TARGETDURATION): *(\d+)/.source,/#EXT-X-(KEY):(.+)/.source,/#EXT-X-(START):(.+)/.source,/#EXT-X-(ENDLIST)/.source,/#EXT-X-(DISCONTINUITY-SEQ)UENCE: *(\d+)/.source,/#EXT-X-(DIS)CONTINUITY/.source,/#EXT-X-(VERSION):(\d+)/.source,/#EXT-X-(MAP):(.+)/.source,/#EXT-X-(SERVER-CONTROL):(.+)/.source,/#EXT-X-(PART-INF):(.+)/.source,/#EXT-X-(GAP)/.source,/#EXT-X-(BITRATE):\s*(\d+)/.source,/#EXT-X-(PART):(.+)/.source,/#EXT-X-(PRELOAD-HINT):(.+)/.source,/#EXT-X-(RENDITION-REPORT):(.+)/.source,/(#)([^:]*):(.*)/.source,/(#)(.*)(?:.*)\r?\n?/.source].join("|")),c=/\.(mp4|m4s|m4v|m4a)$/i,u=function(){function C(){}return C.findGroup=function(g,m){for(var k=0;k<g.length;k++){var d=g[k];if(d.id===m)return d}},C.convertAVC1ToAVCOTI=function(g){var m=g.split(".");if(m.length>2){var k=m.shift()+".";return k+=parseInt(m.shift()).toString(16),k+=("000"+parseInt(m.shift()).toString(16)).substr(-4)}return g},C.resolve=function(g,m){return h.buildAbsoluteURL(m,g,{alwaysNormalize:!0})},C.parseMasterPlaylist=function(g,m){var k,d=[],w={},y=!1;for(b.lastIndex=0;(k=b.exec(g))!=null;)if(k[1]){var O=new A.AttrList(k[1]),F={attrs:O,bitrate:O.decimalInteger("AVERAGE-BANDWIDTH")||O.decimalInteger("BANDWIDTH"),name:O.NAME,url:C.resolve(k[2],m)},B=O.decimalResolution("RESOLUTION");B&&(F.width=B.width,F.height=B.height),f((O.CODECS||"").split(/[ ,]+/).filter(function(j){return j}),F),F.videoCodec&&F.videoCodec.indexOf("avc1")!==-1&&(F.videoCodec=C.convertAVC1ToAVCOTI(F.videoCodec)),d.push(F)}else if(k[3]){var M=new A.AttrList(k[3]);M["DATA-ID"]&&(y=!0,w[M["DATA-ID"]]=M)}return{levels:d,sessionData:y?w:null}},C.parseMasterPlaylistMedia=function(g,m,k,d){var w;d===void 0&&(d=[]);var y=[],O=0;for(D.lastIndex=0;(w=D.exec(g))!==null;){var F=new A.AttrList(w[1]);if(F.TYPE===k){var B={attrs:F,bitrate:0,id:O++,groupId:F["GROUP-ID"],instreamId:F["INSTREAM-ID"],name:F.NAME||F.LANGUAGE||"",type:k,default:F.bool("DEFAULT"),autoselect:F.bool("AUTOSELECT"),forced:F.bool("FORCED"),lang:F.LANGUAGE,url:F.URI?C.resolve(F.URI,m):""};if(d.length){var M=C.findGroup(d,B.groupId)||d[0];r(B,M,"audioCodec"),r(B,M,"textCodec")}y.push(B)}}return y},C.parseLevelPlaylist=function(g,m,k,d,w){var y,O,F,B=new P.LevelDetails(m),M=B.fragments,j=null,U=0,z=0,q=0,Y=0,W=null,J=new T.Fragment(d,m),Z=-1,ee=!1;for(L.lastIndex=0,B.m3u8=g;(y=L.exec(g))!==null;){ee&&(ee=!1,(J=new T.Fragment(d,m)).start=q,J.sn=U,J.cc=Y,J.level=k,j&&(J.initSegment=j,J.rawProgramDateTime=j.rawProgramDateTime));var le=y[1];if(le){J.duration=parseFloat(le);var ue=(" "+y[2]).slice(1);J.title=ue||null,J.tagList.push(ue?["INF",le,ue]:["INF",le])}else if(y[3])Object(v.isFiniteNumber)(J.duration)&&(J.start=q,F&&(J.levelkey=F),J.sn=U,J.level=k,J.cc=Y,J.urlId=w,M.push(J),J.relurl=(" "+y[3]).slice(1),p(J,W),W=J,q+=J.duration,U++,z=0,ee=!0);else if(y[4]){var fe=(" "+y[4]).slice(1);W?J.setByteRange(fe,W):J.setByteRange(fe)}else if(y[5])J.rawProgramDateTime=(" "+y[5]).slice(1),J.tagList.push(["PROGRAM-DATE-TIME",J.rawProgramDateTime]),Z===-1&&(Z=M.length);else{if(!(y=y[0].match(S))){x.logger.warn("No matches on slow regex match for level playlist!");continue}for(O=1;O<y.length&&y[O]===void 0;O++);var ve=(" "+y[O]).slice(1),be=(" "+y[O+1]).slice(1),we=y[O+2]?(" "+y[O+2]).slice(1):"";switch(ve){case"PLAYLIST-TYPE":B.type=be.toUpperCase();break;case"MEDIA-SEQUENCE":U=B.startSN=parseInt(be);break;case"SKIP":var _e=new A.AttrList(be),Pe=_e.decimalInteger("SKIPPED-SEGMENTS");if(Object(v.isFiniteNumber)(Pe)){B.skippedSegments=Pe;for(var Le=Pe;Le--;)M.unshift(null);U+=Pe}var Be=_e.enumeratedString("RECENTLY-REMOVED-DATERANGES");Be&&(B.recentlyRemovedDateranges=Be.split("	"));break;case"TARGETDURATION":B.targetduration=parseFloat(be);break;case"VERSION":B.version=parseInt(be);break;case"EXTM3U":break;case"ENDLIST":B.live=!1;break;case"#":(be||we)&&J.tagList.push(we?[be,we]:[be]);break;case"DIS":Y++;case"GAP":J.tagList.push([ve]);break;case"BITRATE":J.tagList.push([ve,be]);break;case"DISCONTINUITY-SEQ":Y=parseInt(be);break;case"KEY":var ut,Ue=new A.AttrList(be),et=Ue.enumeratedString("METHOD"),ot=Ue.URI,ht=Ue.hexadecimalInteger("IV"),bt=Ue.enumeratedString("KEYFORMATVERSIONS"),Ee=Ue.enumeratedString("KEYID"),xe=(ut=Ue.enumeratedString("KEYFORMAT"))!=null?ut:"identity";if(["com.apple.streamingkeydelivery","com.microsoft.playready","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed","com.widevine"].indexOf(xe)>-1){x.logger.warn("Keyformat "+xe+" is not supported from the manifest");continue}if(xe!=="identity")continue;et&&(F=I.LevelKey.fromURL(m,ot),ot&&["AES-128","SAMPLE-AES","SAMPLE-AES-CENC"].indexOf(et)>=0&&(F.method=et,F.keyFormat=xe,Ee&&(F.keyID=Ee),bt&&(F.keyFormatVersions=bt),F.iv=ht));break;case"START":var ze=new A.AttrList(be).decimalFloatingPoint("TIME-OFFSET");Object(v.isFiniteNumber)(ze)&&(B.startTimeOffset=ze);break;case"MAP":var rt=new A.AttrList(be);J.relurl=rt.URI,rt.BYTERANGE&&J.setByteRange(rt.BYTERANGE),J.level=k,J.sn="initSegment",F&&(J.levelkey=F),J.initSegment=null,j=J,ee=!0;break;case"SERVER-CONTROL":var at=new A.AttrList(be);B.canBlockReload=at.bool("CAN-BLOCK-RELOAD"),B.canSkipUntil=at.optionalFloat("CAN-SKIP-UNTIL",0),B.canSkipDateRanges=B.canSkipUntil>0&&at.bool("CAN-SKIP-DATERANGES"),B.partHoldBack=at.optionalFloat("PART-HOLD-BACK",0),B.holdBack=at.optionalFloat("HOLD-BACK",0);break;case"PART-INF":var jt=new A.AttrList(be);B.partTarget=jt.decimalFloatingPoint("PART-TARGET");break;case"PART":var Ut=B.partList;Ut||(Ut=B.partList=[]);var oe=z>0?Ut[Ut.length-1]:void 0,ae=z++,ne=new T.Part(new A.AttrList(be),J,m,ae,oe);Ut.push(ne),J.duration+=ne.duration;break;case"PRELOAD-HINT":var de=new A.AttrList(be);B.preloadHint=de;break;case"RENDITION-REPORT":var Ce=new A.AttrList(be);B.renditionReports=B.renditionReports||[],B.renditionReports.push(Ce);break;default:x.logger.warn("line parsed but not handled: "+y)}}}W&&!W.relurl?(M.pop(),q-=W.duration,B.partList&&(B.fragmentHint=W)):B.partList&&(p(J,W),J.cc=Y,B.fragmentHint=J);var Te=M.length,Re=M[0],De=M[Te-1];if((q+=B.skippedSegments*B.targetduration)>0&&Te&&De){B.averagetargetduration=q/Te;var tt=De.sn;B.endSN=tt!=="initSegment"?tt:0,Re&&(B.startCC=Re.cc,Re.initSegment||B.fragments.every(function(Je){return Je.relurl&&(Ve=Je.relurl,c.test((Xe=(Me=h.parseURL(Ve))===null||Me===void 0?void 0:Me.path)!=null?Xe:""));var Ve,Xe,Me})&&(x.logger.warn("MP4 fragments found but no init segment (probably no MAP, incomplete M3U8), trying to fetch SIDX"),(J=new T.Fragment(d,m)).relurl=De.relurl,J.level=k,J.sn="initSegment",Re.initSegment=J,B.needSidxRanges=!0))}else B.endSN=0,B.startCC=0;return B.fragmentHint&&(q+=B.fragmentHint.duration),B.totalduration=q,B.endCC=Y,Z>0&&function(Je,Ve){for(var Xe=Je[Ve],Me=Ve;Me--;){var We=Je[Me];if(!We)return;We.programDateTime=Xe.programDateTime-1e3*We.duration,Xe=We}}(M,Z),B},C}();function f(C,g){["video","audio","text"].forEach(function(m){var k=C.filter(function(w){return Object(_.isCodecType)(w,m)});if(k.length){var d=k.filter(function(w){return w.lastIndexOf("avc1",0)===0||w.lastIndexOf("mp4a",0)===0});g[m+"Codec"]=d.length>0?d[0]:k[0],C=C.filter(function(w){return k.indexOf(w)===-1})}}),g.unknownCodecs=C}function r(C,g,m){var k=g[m];k&&(C[m]=k)}function p(C,g){C.rawProgramDateTime?C.programDateTime=Date.parse(C.rawProgramDateTime):g!=null&&g.programDateTime&&(C.programDateTime=g.endProgramDateTime),Object(v.isFiniteNumber)(C.programDateTime)||(C.programDateTime=null,C.rawProgramDateTime=null)}},"./src/loader/playlist-loader.ts":function(o,l,a){a.r(l);var v=a("./src/polyfills/number.ts"),h=a("./src/events.ts"),T=a("./src/errors.ts"),P=a("./src/utils/logger.ts"),I=a("./src/utils/mp4-tools.ts"),A=a("./src/loader/m3u8-parser.ts"),x=a("./src/types/loader.ts"),_=a("./src/utils/attr-list.ts");function b(L,S){var c=L.url;return c!==void 0&&c.indexOf("data:")!==0||(c=S.url),c}var D=function(){function L(c){this.hls=void 0,this.loaders=Object.create(null),this.hls=c,this.registerListeners()}var S=L.prototype;return S.registerListeners=function(){var c=this.hls;c.on(h.Events.MANIFEST_LOADING,this.onManifestLoading,this),c.on(h.Events.LEVEL_LOADING,this.onLevelLoading,this),c.on(h.Events.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),c.on(h.Events.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this)},S.unregisterListeners=function(){var c=this.hls;c.off(h.Events.MANIFEST_LOADING,this.onManifestLoading,this),c.off(h.Events.LEVEL_LOADING,this.onLevelLoading,this),c.off(h.Events.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),c.off(h.Events.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this)},S.createInternalLoader=function(c){var u=this.hls.config,f=u.pLoader,r=u.loader,p=new(f||r)(u);return c.loader=p,this.loaders[c.type]=p,p},S.getInternalLoader=function(c){return this.loaders[c.type]},S.resetInternalLoader=function(c){this.loaders[c]&&delete this.loaders[c]},S.destroyInternalLoaders=function(){for(var c in this.loaders){var u=this.loaders[c];u&&u.destroy(),this.resetInternalLoader(c)}},S.destroy=function(){this.unregisterListeners(),this.destroyInternalLoaders()},S.onManifestLoading=function(c,u){var f=u.url;this.load({id:null,groupId:null,level:0,responseType:"text",type:x.PlaylistContextType.MANIFEST,url:f,deliveryDirectives:null})},S.onLevelLoading=function(c,u){var f=u.id,r=u.level,p=u.url,C=u.deliveryDirectives;this.load({id:f,groupId:null,level:r,responseType:"text",type:x.PlaylistContextType.LEVEL,url:p,deliveryDirectives:C})},S.onAudioTrackLoading=function(c,u){var f=u.id,r=u.groupId,p=u.url,C=u.deliveryDirectives;this.load({id:f,groupId:r,level:null,responseType:"text",type:x.PlaylistContextType.AUDIO_TRACK,url:p,deliveryDirectives:C})},S.onSubtitleTrackLoading=function(c,u){var f=u.id,r=u.groupId,p=u.url,C=u.deliveryDirectives;this.load({id:f,groupId:r,level:null,responseType:"text",type:x.PlaylistContextType.SUBTITLE_TRACK,url:p,deliveryDirectives:C})},S.load=function(c){var u,f,r,p,C,g,m=this.hls.config,k=this.getInternalLoader(c);if(k){var d=k.context;if(d&&d.url===c.url)return void P.logger.trace("[playlist-loader]: playlist request ongoing");P.logger.log("[playlist-loader]: aborting previous loader for type: "+c.type),k.abort()}switch(c.type){case x.PlaylistContextType.MANIFEST:f=m.manifestLoadingMaxRetry,r=m.manifestLoadingTimeOut,p=m.manifestLoadingRetryDelay,C=m.manifestLoadingMaxRetryTimeout;break;case x.PlaylistContextType.LEVEL:case x.PlaylistContextType.AUDIO_TRACK:case x.PlaylistContextType.SUBTITLE_TRACK:f=0,r=m.levelLoadingTimeOut;break;default:f=m.levelLoadingMaxRetry,r=m.levelLoadingTimeOut,p=m.levelLoadingRetryDelay,C=m.levelLoadingMaxRetryTimeout}if(k=this.createInternalLoader(c),(u=c.deliveryDirectives)!==null&&u!==void 0&&u.part&&(c.type===x.PlaylistContextType.LEVEL&&c.level!==null?g=this.hls.levels[c.level].details:c.type===x.PlaylistContextType.AUDIO_TRACK&&c.id!==null?g=this.hls.audioTracks[c.id].details:c.type===x.PlaylistContextType.SUBTITLE_TRACK&&c.id!==null&&(g=this.hls.subtitleTracks[c.id].details),g)){var w=g.partTarget,y=g.targetduration;w&&y&&(r=Math.min(1e3*Math.max(3*w,.8*y),r))}var O={timeout:r,maxRetry:f,retryDelay:p,maxRetryDelay:C,highWaterMark:0},F={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)};k.load(c,O,F)},S.loadsuccess=function(c,u,f,r){if(r===void 0&&(r=null),f.isSidxRequest)return this.handleSidxRequest(c,f),void this.handlePlaylistLoaded(c,u,f,r);this.resetInternalLoader(f.type);var p=c.data;p.indexOf("#EXTM3U")===0?(u.parsing.start=performance.now(),p.indexOf("#EXTINF:")>0||p.indexOf("#EXT-X-TARGETDURATION:")>0?this.handleTrackOrLevelPlaylist(c,u,f,r):this.handleMasterPlaylist(c,u,f,r)):this.handleManifestParsingError(c,f,"no EXTM3U delimiter",r)},S.loaderror=function(c,u,f){f===void 0&&(f=null),this.handleNetworkError(u,f,!1,c)},S.loadtimeout=function(c,u,f){f===void 0&&(f=null),this.handleNetworkError(u,f,!0)},S.handleMasterPlaylist=function(c,u,f,r){var p=this.hls,C=c.data,g=b(c,f),m=A.default.parseMasterPlaylist(C,g),k=m.levels,d=m.sessionData;if(k.length){var w=k.map(function(M){return{id:M.attrs.AUDIO,audioCodec:M.audioCodec}}),y=k.map(function(M){return{id:M.attrs.SUBTITLES,textCodec:M.textCodec}}),O=A.default.parseMasterPlaylistMedia(C,g,"AUDIO",w),F=A.default.parseMasterPlaylistMedia(C,g,"SUBTITLES",y),B=A.default.parseMasterPlaylistMedia(C,g,"CLOSED-CAPTIONS");O.length&&(O.some(function(M){return!M.url})||!k[0].audioCodec||k[0].attrs.AUDIO||(P.logger.log("[playlist-loader]: audio codec signaled in quality level, but no embedded audio track signaled, create one"),O.unshift({type:"main",name:"main",default:!1,autoselect:!1,forced:!1,id:-1,attrs:new _.AttrList({}),bitrate:0,url:""}))),p.trigger(h.Events.MANIFEST_LOADED,{levels:k,audioTracks:O,subtitles:F,captions:B,url:g,stats:u,networkDetails:r,sessionData:d})}else this.handleManifestParsingError(c,f,"no level found in manifest",r)},S.handleTrackOrLevelPlaylist=function(c,u,f,r){var p=this.hls,C=f.id,g=f.level,m=f.type,k=b(c,f),d=Object(v.isFiniteNumber)(C)?C:0,w=Object(v.isFiniteNumber)(g)?g:d,y=function(j){switch(j.type){case x.PlaylistContextType.AUDIO_TRACK:return x.PlaylistLevelType.AUDIO;case x.PlaylistContextType.SUBTITLE_TRACK:return x.PlaylistLevelType.SUBTITLE;default:return x.PlaylistLevelType.MAIN}}(f),O=A.default.parseLevelPlaylist(c.data,k,w,y,d);if(O.fragments.length){if(m===x.PlaylistContextType.MANIFEST){var F={attrs:new _.AttrList({}),bitrate:0,details:O,name:"",url:k};p.trigger(h.Events.MANIFEST_LOADED,{levels:[F],audioTracks:[],url:k,stats:u,networkDetails:r,sessionData:null})}if(u.parsing.end=performance.now(),O.needSidxRanges){var B,M=(B=O.fragments[0].initSegment)===null||B===void 0?void 0:B.url;this.load({url:M,isSidxRequest:!0,type:m,level:g,levelDetails:O,id:C,groupId:null,rangeStart:0,rangeEnd:2048,responseType:"arraybuffer",deliveryDirectives:null})}else f.levelDetails=O,this.handlePlaylistLoaded(c,u,f,r)}else p.trigger(h.Events.ERROR,{type:T.ErrorTypes.NETWORK_ERROR,details:T.ErrorDetails.LEVEL_EMPTY_ERROR,fatal:!1,url:k,reason:"no fragments found in level",level:typeof f.level=="number"?f.level:void 0})},S.handleSidxRequest=function(c,u){var f=Object(I.parseSegmentIndex)(new Uint8Array(c.data));if(f){var r=f.references,p=u.levelDetails;r.forEach(function(C,g){var m=C.info,k=p.fragments[g];k.byteRange.length===0&&k.setByteRange(String(1+m.end-m.start)+"@"+String(m.start)),k.initSegment&&k.initSegment.setByteRange(String(f.moovEndOffset)+"@0")})}},S.handleManifestParsingError=function(c,u,f,r){this.hls.trigger(h.Events.ERROR,{type:T.ErrorTypes.NETWORK_ERROR,details:T.ErrorDetails.MANIFEST_PARSING_ERROR,fatal:u.type===x.PlaylistContextType.MANIFEST,url:c.url,reason:f,response:c,context:u,networkDetails:r})},S.handleNetworkError=function(c,u,f,r){f===void 0&&(f=!1),P.logger.warn("[playlist-loader]: A network "+(f?"timeout":"error")+" occurred while loading "+c.type+" level: "+c.level+" id: "+c.id+' group-id: "'+c.groupId+'"');var p=T.ErrorDetails.UNKNOWN,C=!1,g=this.getInternalLoader(c);switch(c.type){case x.PlaylistContextType.MANIFEST:p=f?T.ErrorDetails.MANIFEST_LOAD_TIMEOUT:T.ErrorDetails.MANIFEST_LOAD_ERROR,C=!0;break;case x.PlaylistContextType.LEVEL:p=f?T.ErrorDetails.LEVEL_LOAD_TIMEOUT:T.ErrorDetails.LEVEL_LOAD_ERROR,C=!1;break;case x.PlaylistContextType.AUDIO_TRACK:p=f?T.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT:T.ErrorDetails.AUDIO_TRACK_LOAD_ERROR,C=!1;break;case x.PlaylistContextType.SUBTITLE_TRACK:p=f?T.ErrorDetails.SUBTITLE_TRACK_LOAD_TIMEOUT:T.ErrorDetails.SUBTITLE_LOAD_ERROR,C=!1}g&&this.resetInternalLoader(c.type);var m={type:T.ErrorTypes.NETWORK_ERROR,details:p,fatal:C,url:c.url,loader:g,context:c,networkDetails:u};r&&(m.response=r),this.hls.trigger(h.Events.ERROR,m)},S.handlePlaylistLoaded=function(c,u,f,r){var p=f.type,C=f.level,g=f.id,m=f.groupId,k=f.loader,d=f.levelDetails,w=f.deliveryDirectives;if(d!=null&&d.targetduration){if(k)switch(d.live&&(k.getCacheAge&&(d.ageHeader=k.getCacheAge()||0),k.getCacheAge&&!isNaN(d.ageHeader)||(d.ageHeader=0)),p){case x.PlaylistContextType.MANIFEST:case x.PlaylistContextType.LEVEL:this.hls.trigger(h.Events.LEVEL_LOADED,{details:d,level:C||0,id:g||0,stats:u,networkDetails:r,deliveryDirectives:w});break;case x.PlaylistContextType.AUDIO_TRACK:this.hls.trigger(h.Events.AUDIO_TRACK_LOADED,{details:d,id:g||0,groupId:m||"",stats:u,networkDetails:r,deliveryDirectives:w});break;case x.PlaylistContextType.SUBTITLE_TRACK:this.hls.trigger(h.Events.SUBTITLE_TRACK_LOADED,{details:d,id:g||0,groupId:m||"",stats:u,networkDetails:r,deliveryDirectives:w})}}else this.handleManifestParsingError(c,f,"invalid target duration",r)},L}();l.default=D},"./src/polyfills/number.ts":function(o,l,a){a.r(l),a.d(l,"isFiniteNumber",function(){return v}),a.d(l,"MAX_SAFE_INTEGER",function(){return h});var v=Number.isFinite||function(T){return typeof T=="number"&&isFinite(T)},h=Number.MAX_SAFE_INTEGER||9007199254740991},"./src/remux/aac-helper.ts":function(o,l,a){a.r(l);var v=function(){function h(){}return h.getSilentFrame=function(T,P){switch(T){case"mp4a.40.2":if(P===1)return new Uint8Array([0,200,0,128,35,128]);if(P===2)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(P===3)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(P===4)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(P===5)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(P===6)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224]);break;default:if(P===1)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(P===2)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(P===3)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}},h}();l.default=v},"./src/remux/mp4-generator.ts":function(o,l,a){a.r(l);var v=Math.pow(2,32)-1,h=function(){function T(){}return T.init=function(){var P;for(P in T.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],".mp3":[],mvex:[],mvhd:[],pasp:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]},T.types)T.types.hasOwnProperty(P)&&(T.types[P]=[P.charCodeAt(0),P.charCodeAt(1),P.charCodeAt(2),P.charCodeAt(3)]);var I=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),A=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);T.HDLR_TYPES={video:I,audio:A};var x=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),_=new Uint8Array([0,0,0,0,0,0,0,0]);T.STTS=T.STSC=T.STCO=_,T.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),T.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),T.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),T.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);var b=new Uint8Array([105,115,111,109]),D=new Uint8Array([97,118,99,49]),L=new Uint8Array([0,0,0,1]);T.FTYP=T.box(T.types.ftyp,b,L,b,D),T.DINF=T.box(T.types.dinf,T.box(T.types.dref,x))},T.box=function(P){for(var I=8,A=arguments.length,x=new Array(A>1?A-1:0),_=1;_<A;_++)x[_-1]=arguments[_];for(var b=x.length,D=b;b--;)I+=x[b].byteLength;var L=new Uint8Array(I);for(L[0]=I>>24&255,L[1]=I>>16&255,L[2]=I>>8&255,L[3]=255&I,L.set(P,4),b=0,I=8;b<D;b++)L.set(x[b],I),I+=x[b].byteLength;return L},T.hdlr=function(P){return T.box(T.types.hdlr,T.HDLR_TYPES[P])},T.mdat=function(P){return T.box(T.types.mdat,P)},T.mdhd=function(P,I){I*=P;var A=Math.floor(I/(v+1)),x=Math.floor(I%(v+1));return T.box(T.types.mdhd,new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,P>>24&255,P>>16&255,P>>8&255,255&P,A>>24,A>>16&255,A>>8&255,255&A,x>>24,x>>16&255,x>>8&255,255&x,85,196,0,0]))},T.mdia=function(P){return T.box(T.types.mdia,T.mdhd(P.timescale,P.duration),T.hdlr(P.type),T.minf(P))},T.mfhd=function(P){return T.box(T.types.mfhd,new Uint8Array([0,0,0,0,P>>24,P>>16&255,P>>8&255,255&P]))},T.minf=function(P){return P.type==="audio"?T.box(T.types.minf,T.box(T.types.smhd,T.SMHD),T.DINF,T.stbl(P)):T.box(T.types.minf,T.box(T.types.vmhd,T.VMHD),T.DINF,T.stbl(P))},T.moof=function(P,I,A){return T.box(T.types.moof,T.mfhd(P),T.traf(A,I))},T.moov=function(P){for(var I=P.length,A=[];I--;)A[I]=T.trak(P[I]);return T.box.apply(null,[T.types.moov,T.mvhd(P[0].timescale,P[0].duration)].concat(A).concat(T.mvex(P)))},T.mvex=function(P){for(var I=P.length,A=[];I--;)A[I]=T.trex(P[I]);return T.box.apply(null,[T.types.mvex].concat(A))},T.mvhd=function(P,I){I*=P;var A=Math.floor(I/(v+1)),x=Math.floor(I%(v+1)),_=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,P>>24&255,P>>16&255,P>>8&255,255&P,A>>24,A>>16&255,A>>8&255,255&A,x>>24,x>>16&255,x>>8&255,255&x,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return T.box(T.types.mvhd,_)},T.sdtp=function(P){var I,A,x=P.samples||[],_=new Uint8Array(4+x.length);for(I=0;I<x.length;I++)A=x[I].flags,_[I+4]=A.dependsOn<<4|A.isDependedOn<<2|A.hasRedundancy;return T.box(T.types.sdtp,_)},T.stbl=function(P){return T.box(T.types.stbl,T.stsd(P),T.box(T.types.stts,T.STTS),T.box(T.types.stsc,T.STSC),T.box(T.types.stsz,T.STSZ),T.box(T.types.stco,T.STCO))},T.avc1=function(P){var I,A,x,_=[],b=[];for(I=0;I<P.sps.length;I++)x=(A=P.sps[I]).byteLength,_.push(x>>>8&255),_.push(255&x),_=_.concat(Array.prototype.slice.call(A));for(I=0;I<P.pps.length;I++)x=(A=P.pps[I]).byteLength,b.push(x>>>8&255),b.push(255&x),b=b.concat(Array.prototype.slice.call(A));var D=T.box(T.types.avcC,new Uint8Array([1,_[3],_[4],_[5],255,224|P.sps.length].concat(_).concat([P.pps.length]).concat(b))),L=P.width,S=P.height,c=P.pixelRatio[0],u=P.pixelRatio[1];return T.box(T.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,L>>8&255,255&L,S>>8&255,255&S,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),D,T.box(T.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),T.box(T.types.pasp,new Uint8Array([c>>24,c>>16&255,c>>8&255,255&c,u>>24,u>>16&255,u>>8&255,255&u])))},T.esds=function(P){var I=P.config.length;return new Uint8Array([0,0,0,0,3,23+I,0,1,0,4,15+I,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([I]).concat(P.config).concat([6,1,2]))},T.mp4a=function(P){var I=P.samplerate;return T.box(T.types.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,P.channelCount,0,16,0,0,0,0,I>>8&255,255&I,0,0]),T.box(T.types.esds,T.esds(P)))},T.mp3=function(P){var I=P.samplerate;return T.box(T.types[".mp3"],new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,P.channelCount,0,16,0,0,0,0,I>>8&255,255&I,0,0]))},T.stsd=function(P){return P.type==="audio"?P.isAAC||P.codec!=="mp3"?T.box(T.types.stsd,T.STSD,T.mp4a(P)):T.box(T.types.stsd,T.STSD,T.mp3(P)):T.box(T.types.stsd,T.STSD,T.avc1(P))},T.tkhd=function(P){var I=P.id,A=P.duration*P.timescale,x=P.width,_=P.height,b=Math.floor(A/(v+1)),D=Math.floor(A%(v+1));return T.box(T.types.tkhd,new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,I>>24&255,I>>16&255,I>>8&255,255&I,0,0,0,0,b>>24,b>>16&255,b>>8&255,255&b,D>>24,D>>16&255,D>>8&255,255&D,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,x>>8&255,255&x,0,0,_>>8&255,255&_,0,0]))},T.traf=function(P,I){var A=T.sdtp(P),x=P.id,_=Math.floor(I/(v+1)),b=Math.floor(I%(v+1));return T.box(T.types.traf,T.box(T.types.tfhd,new Uint8Array([0,0,0,0,x>>24,x>>16&255,x>>8&255,255&x])),T.box(T.types.tfdt,new Uint8Array([1,0,0,0,_>>24,_>>16&255,_>>8&255,255&_,b>>24,b>>16&255,b>>8&255,255&b])),T.trun(P,A.length+16+20+8+16+8+8),A)},T.trak=function(P){return P.duration=P.duration||4294967295,T.box(T.types.trak,T.tkhd(P),T.mdia(P))},T.trex=function(P){var I=P.id;return T.box(T.types.trex,new Uint8Array([0,0,0,0,I>>24,I>>16&255,I>>8&255,255&I,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))},T.trun=function(P,I){var A,x,_,b,D,L,S=P.samples||[],c=S.length,u=12+16*c,f=new Uint8Array(u);for(I+=8+u,f.set([0,0,15,1,c>>>24&255,c>>>16&255,c>>>8&255,255&c,I>>>24&255,I>>>16&255,I>>>8&255,255&I],0),A=0;A<c;A++)_=(x=S[A]).duration,b=x.size,D=x.flags,L=x.cts,f.set([_>>>24&255,_>>>16&255,_>>>8&255,255&_,b>>>24&255,b>>>16&255,b>>>8&255,255&b,D.isLeading<<2|D.dependsOn,D.isDependedOn<<6|D.hasRedundancy<<4|D.paddingValue<<1|D.isNonSync,61440&D.degradPrio,15&D.degradPrio,L>>>24&255,L>>>16&255,L>>>8&255,255&L],12+16*A);return T.box(T.types.trun,f)},T.initSegment=function(P){T.types||T.init();var I=T.moov(P),A=new Uint8Array(T.FTYP.byteLength+I.byteLength);return A.set(T.FTYP),A.set(I,T.FTYP.byteLength),A},T}();h.types=void 0,h.HDLR_TYPES=void 0,h.STTS=void 0,h.STSC=void 0,h.STCO=void 0,h.STSZ=void 0,h.VMHD=void 0,h.SMHD=void 0,h.STSD=void 0,h.FTYP=void 0,h.DINF=void 0,l.default=h},"./src/remux/mp4-remuxer.ts":function(o,l,a){a.r(l),a.d(l,"default",function(){return c}),a.d(l,"normalizePts",function(){return u});var v=a("./src/polyfills/number.ts"),h=a("./src/remux/aac-helper.ts"),T=a("./src/remux/mp4-generator.ts"),P=a("./src/events.ts"),I=a("./src/errors.ts"),A=a("./src/utils/logger.ts"),x=a("./src/types/loader.ts"),_=a("./src/utils/timescale-conversion.ts");function b(){return(b=Object.assign||function(p){for(var C=1;C<arguments.length;C++){var g=arguments[C];for(var m in g)Object.prototype.hasOwnProperty.call(g,m)&&(p[m]=g[m])}return p}).apply(this,arguments)}var D=null,L=null,S=!1,c=function(){function p(g,m,k,d){if(this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.ISGenerated=!1,this._initPTS=void 0,this._initDTS=void 0,this.nextAvcDts=null,this.nextAudioPts=null,this.isAudioContiguous=!1,this.isVideoContiguous=!1,this.observer=g,this.config=m,this.typeSupported=k,this.ISGenerated=!1,D===null){var w=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);D=w?parseInt(w[1]):0}if(L===null){var y=navigator.userAgent.match(/Safari\/(\d+)/i);L=y?parseInt(y[1]):0}S=!!D&&D<75||!!L&&L<600}var C=p.prototype;return C.destroy=function(){},C.resetTimeStamp=function(g){A.logger.log("[mp4-remuxer]: initPTS & initDTS reset"),this._initPTS=this._initDTS=g},C.resetNextTimestamp=function(){A.logger.log("[mp4-remuxer]: reset next timestamp"),this.isVideoContiguous=!1,this.isAudioContiguous=!1},C.resetInitSegment=function(){A.logger.log("[mp4-remuxer]: ISGenerated flag reset"),this.ISGenerated=!1},C.getVideoStartPts=function(g){var m=!1,k=g.reduce(function(d,w){var y=w.pts-d;return y<-4294967296?(m=!0,u(d,w.pts)):y>0?d:w.pts},g[0].pts);return m&&A.logger.debug("PTS rollover detected"),k},C.remux=function(g,m,k,d,w,y,O,F){var B,M,j,U,z,q,Y=w,W=w,J=g.pid>-1,Z=m.pid>-1,ee=m.samples.length,le=g.samples.length>0,ue=ee>1;if((!J||le)&&(!Z||ue)||this.ISGenerated||O){this.ISGenerated||(j=this.generateIS(g,m,w));var fe=this.isVideoContiguous,ve=-1;if(ue&&(ve=function(Le){for(var Be=0;Be<Le.length;Be++)if(Le[Be].key)return Be;return-1}(m.samples),!fe&&this.config.forceKeyFrameOnDiscontinuity))if(q=!0,ve>0){A.logger.warn("[mp4-remuxer]: Dropped "+ve+" out of "+ee+" video samples due to a missing keyframe");var be=this.getVideoStartPts(m.samples);m.samples=m.samples.slice(ve),m.dropped+=ve,W+=(m.samples[0].pts-be)/(m.timescale||9e4)}else ve===-1&&(A.logger.warn("[mp4-remuxer]: No keyframe found out of "+ee+" video samples"),q=!1);if(this.ISGenerated){if(le&&ue){var we=this.getVideoStartPts(m.samples),_e=(u(g.samples[0].pts,we)-we)/m.inputTimeScale;Y+=Math.max(0,_e),W+=Math.max(0,-_e)}if(le){if(g.samplerate||(A.logger.warn("[mp4-remuxer]: regenerate InitSegment as audio detected"),j=this.generateIS(g,m,w)),M=this.remuxAudio(g,Y,this.isAudioContiguous,y,Z||ue||F===x.PlaylistLevelType.AUDIO?W:void 0),ue){var Pe=M?M.endPTS-M.startPTS:0;m.inputTimeScale||(A.logger.warn("[mp4-remuxer]: regenerate InitSegment as video detected"),j=this.generateIS(g,m,w)),B=this.remuxVideo(m,W,fe,Pe)}}else ue&&(B=this.remuxVideo(m,W,fe,0));B&&(B.firstKeyFrame=ve,B.independent=ve!==-1)}}return this.ISGenerated&&(k.samples.length&&(z=this.remuxID3(k,w)),d.samples.length&&(U=this.remuxText(d,w))),{audio:M,video:B,initSegment:j,independent:q,text:U,id3:z}},C.generateIS=function(g,m,k){var d,w,y,O=g.samples,F=m.samples,B=this.typeSupported,M={},j=!Object(v.isFiniteNumber)(this._initPTS),U="audio/mp4";if(j&&(d=w=1/0),g.config&&O.length&&(g.timescale=g.samplerate,g.isAAC||(B.mpeg?(U="audio/mpeg",g.codec=""):B.mp3&&(g.codec="mp3")),M.audio={id:"audio",container:U,codec:g.codec,initSegment:!g.isAAC&&B.mpeg?new Uint8Array(0):T.default.initSegment([g]),metadata:{channelCount:g.channelCount}},j&&(y=g.inputTimeScale,d=w=O[0].pts-Math.round(y*k))),m.sps&&m.pps&&F.length&&(m.timescale=m.inputTimeScale,M.video={id:"main",container:"video/mp4",codec:m.codec,initSegment:T.default.initSegment([m]),metadata:{width:m.width,height:m.height}},j)){y=m.inputTimeScale;var z=this.getVideoStartPts(F),q=Math.round(y*k);w=Math.min(w,u(F[0].dts,z)-q),d=Math.min(d,z-q)}if(Object.keys(M).length)return this.ISGenerated=!0,j&&(this._initPTS=d,this._initDTS=w),{tracks:M,initPTS:d,timescale:y}},C.remuxVideo=function(g,m,k,d){var w,y,O,F=g.inputTimeScale,B=g.samples,M=[],j=B.length,U=this._initPTS,z=this.nextAvcDts,q=8,Y=Number.POSITIVE_INFINITY,W=Number.NEGATIVE_INFINITY,J=0,Z=!1;k&&z!==null||(z=m*F-(B[0].pts-u(B[0].dts,B[0].pts)));for(var ee=0;ee<j;ee++){var le=B[ee];le.pts=u(le.pts-U,z),le.dts=u(le.dts-U,z),le.dts>le.pts&&(J=Math.max(Math.min(J,le.pts-le.dts),-18e3)),le.dts<B[ee>0?ee-1:ee].dts&&(Z=!0)}Z&&B.sort(function(Me,We){var Ie=Me.dts-We.dts,$e=Me.pts-We.pts;return Ie||$e}),y=B[0].dts,O=B[B.length-1].dts;var ue=Math.round((O-y)/(j-1));if(J<0){if(J<-2*ue){A.logger.warn("PTS < DTS detected in video samples, offsetting DTS from PTS by "+Object(_.toMsFromMpegTsClock)(-ue,!0)+" ms");for(var fe=J,ve=0;ve<j;ve++)B[ve].dts=fe=Math.max(fe,B[ve].pts-ue),B[ve].pts=Math.max(fe,B[ve].pts)}else{A.logger.warn("PTS < DTS detected in video samples, shifting DTS by "+Object(_.toMsFromMpegTsClock)(J,!0)+" ms to overcome this issue");for(var be=0;be<j;be++)B[be].dts=B[be].dts+J}y=B[0].dts}if(k){var we=y-z,_e=we>ue;if(_e||we<-1){_e?A.logger.warn("AVC: "+Object(_.toMsFromMpegTsClock)(we,!0)+" ms ("+we+"dts) hole between fragments detected, filling it"):A.logger.warn("AVC: "+Object(_.toMsFromMpegTsClock)(-we,!0)+" ms ("+we+"dts) overlapping between fragments detected"),y=z;var Pe=B[0].pts-we;B[0].dts=y,B[0].pts=Pe,A.logger.log("Video: First PTS/DTS adjusted: "+Object(_.toMsFromMpegTsClock)(Pe,!0)+"/"+Object(_.toMsFromMpegTsClock)(y,!0)+", delta: "+Object(_.toMsFromMpegTsClock)(we,!0)+" ms")}}S&&(y=Math.max(0,y));for(var Le=0,Be=0,ut=0;ut<j;ut++){for(var Ue=B[ut],et=Ue.units,ot=et.length,ht=0,bt=0;bt<ot;bt++)ht+=et[bt].data.length;Be+=ht,Le+=ot,Ue.length=ht,Ue.dts=Math.max(Ue.dts,y),Ue.pts=Math.max(Ue.pts,Ue.dts,0),Y=Math.min(Ue.pts,Y),W=Math.max(Ue.pts,W)}O=B[j-1].dts;var Ee,xe=Be+4*Le+8;try{Ee=new Uint8Array(xe)}catch{return void this.observer.emit(P.Events.ERROR,P.Events.ERROR,{type:I.ErrorTypes.MUX_ERROR,details:I.ErrorDetails.REMUX_ALLOC_ERROR,fatal:!1,bytes:xe,reason:"fail allocating video mdat "+xe})}var ze=new DataView(Ee.buffer);ze.setUint32(0,xe),Ee.set(T.default.types.mdat,4);for(var rt=0;rt<j;rt++){for(var at=B[rt],jt=at.units,Ut=0,oe=0,ae=jt.length;oe<ae;oe++){var ne=jt[oe],de=ne.data,Ce=ne.data.byteLength;ze.setUint32(q,Ce),q+=4,Ee.set(de,q),q+=Ce,Ut+=4+Ce}if(rt<j-1)w=B[rt+1].dts-at.dts;else{var Te=this.config,Re=at.dts-B[rt>0?rt-1:rt].dts;if(Te.stretchShortVideoTrack&&this.nextAudioPts!==null){var De=Math.floor(Te.maxBufferHole*F),tt=(d?Y+d*F:this.nextAudioPts)-at.pts;tt>De?((w=tt-Re)<0&&(w=Re),A.logger.log("[mp4-remuxer]: It is approximately "+tt/90+" ms to the next segment; using duration "+w/90+" ms for the last video frame.")):w=Re}else w=Re}var Je=Math.round(at.pts-at.dts);M.push(new f(at.key,w,Ut,Je))}if(M.length&&D&&D<70){var Ve=M[0].flags;Ve.dependsOn=2,Ve.isNonSync=0}console.assert(w!==void 0,"mp4SampleDuration must be computed"),this.nextAvcDts=z=O+w,this.isVideoContiguous=!0;var Xe={data1:T.default.moof(g.sequenceNumber++,y,b({},g,{samples:M})),data2:Ee,startPTS:Y/F,endPTS:(W+w)/F,startDTS:y/F,endDTS:z/F,type:"video",hasAudio:!1,hasVideo:!0,nb:M.length,dropped:g.dropped};return g.samples=[],g.dropped=0,console.assert(Ee.length,"MDAT length must not be zero"),Xe},C.remuxAudio=function(g,m,k,d,w){var y=g.inputTimeScale,O=y/(g.samplerate?g.samplerate:y),F=g.isAAC?1024:1152,B=F*O,M=this._initPTS,j=!g.isAAC&&this.typeSupported.mpeg,U=[],z=g.samples,q=j?0:8,Y=this.nextAudioPts||-1,W=m*y;if(this.isAudioContiguous=k=k||z.length&&Y>0&&(d&&Math.abs(W-Y)<9e3||Math.abs(u(z[0].pts-M,W)-Y)<20*B),z.forEach(function(de){de.pts=u(de.pts-M,W)}),!k||Y<0){if(!(z=z.filter(function(de){return de.pts>=0})).length)return;Y=w===0?0:d?Math.max(0,W):z[0].pts}if(g.isAAC)for(var J=w!==void 0,Z=this.config.maxAudioFramesDrift,ee=0,le=Y;ee<z.length;ee++){var ue=z[ee],fe=ue.pts,ve=fe-le,be=Math.abs(1e3*ve/y);if(ve<=-Z*B&&J)ee===0&&(A.logger.warn("Audio frame @ "+(fe/y).toFixed(3)+"s overlaps nextAudioPts by "+Math.round(1e3*ve/y)+" ms."),this.nextAudioPts=Y=le=fe);else if(ve>=Z*B&&be<1e4&&J){var we=Math.round(ve/B);(le=fe-we*B)<0&&(we--,le+=B),ee===0&&(this.nextAudioPts=Y=le),A.logger.warn("[mp4-remuxer]: Injecting "+we+" audio frame @ "+(le/y).toFixed(3)+"s due to "+Math.round(1e3*ve/y)+" ms gap.");for(var _e=0;_e<we;_e++){var Pe=Math.max(le,0),Le=h.default.getSilentFrame(g.manifestCodec||g.codec,g.channelCount);Le||(A.logger.log("[mp4-remuxer]: Unable to get silent frame for given audio codec; duplicating last frame instead."),Le=ue.unit.subarray()),z.splice(ee,0,{unit:Le,pts:Pe}),le+=B,ee++}}ue.pts=le,le+=B}for(var Be,ut=null,Ue=null,et=0,ot=z.length;ot--;)et+=z[ot].unit.byteLength;for(var ht=0,bt=z.length;ht<bt;ht++){var Ee=z[ht],xe=Ee.unit,ze=Ee.pts;if(Ue!==null)U[ht-1].duration=Math.round((ze-Ue)/O);else{if(k&&g.isAAC&&(ze=Y),ut=ze,!(et>0))return;et+=q;try{Be=new Uint8Array(et)}catch{return void this.observer.emit(P.Events.ERROR,P.Events.ERROR,{type:I.ErrorTypes.MUX_ERROR,details:I.ErrorDetails.REMUX_ALLOC_ERROR,fatal:!1,bytes:et,reason:"fail allocating audio mdat "+et})}j||(new DataView(Be.buffer).setUint32(0,et),Be.set(T.default.types.mdat,4))}Be.set(xe,q);var rt=xe.byteLength;q+=rt,U.push(new f(!0,F,rt,0)),Ue=ze}var at=U.length;if(at){var jt=U[U.length-1];this.nextAudioPts=Y=Ue+O*jt.duration;var Ut=j?new Uint8Array(0):T.default.moof(g.sequenceNumber++,ut/O,b({},g,{samples:U}));g.samples=[];var oe=ut/y,ae=Y/y,ne={data1:Ut,data2:Be,startPTS:oe,endPTS:ae,startDTS:oe,endDTS:ae,type:"audio",hasAudio:!0,hasVideo:!1,nb:at};return this.isAudioContiguous=!0,console.assert(Be.length,"MDAT length must not be zero"),ne}},C.remuxEmptyAudio=function(g,m,k,d){var w=g.inputTimeScale,y=w/(g.samplerate?g.samplerate:w),O=this.nextAudioPts,F=(O!==null?O:d.startDTS*w)+this._initDTS,B=d.endDTS*w+this._initDTS,M=1024*y,j=Math.ceil((B-F)/M),U=h.default.getSilentFrame(g.manifestCodec||g.codec,g.channelCount);if(A.logger.warn("[mp4-remuxer]: remux empty Audio"),U){for(var z=[],q=0;q<j;q++){var Y=F+q*M;z.push({unit:U,pts:Y,dts:Y})}return g.samples=z,this.remuxAudio(g,m,k,!1)}A.logger.trace("[mp4-remuxer]: Unable to remuxEmptyAudio since we were unable to get a silent frame for given audio codec")},C.remuxID3=function(g,m){var k=g.samples.length;if(k){for(var d=g.inputTimeScale,w=this._initPTS,y=this._initDTS,O=0;O<k;O++){var F=g.samples[O];F.pts=u(F.pts-w,m*d)/d,F.dts=u(F.dts-y,m*d)/d}var B=g.samples;return g.samples=[],{samples:B}}},C.remuxText=function(g,m){var k=g.samples.length;if(k){for(var d=g.inputTimeScale,w=this._initPTS,y=0;y<k;y++){var O=g.samples[y];O.pts=u(O.pts-w,m*d)/d}g.samples.sort(function(B,M){return B.pts-M.pts});var F=g.samples;return g.samples=[],{samples:F}}},p}();function u(p,C){var g;if(C===null)return p;for(g=C<p?-8589934592:8589934592;Math.abs(p-C)>4294967296;)p+=g;return p}var f=function(p,C,g,m){this.size=void 0,this.duration=void 0,this.cts=void 0,this.flags=void 0,this.duration=C,this.size=g,this.cts=m,this.flags=new r(p)},r=function(p){this.isLeading=0,this.isDependedOn=0,this.hasRedundancy=0,this.degradPrio=0,this.dependsOn=1,this.isNonSync=1,this.dependsOn=p?2:1,this.isNonSync=p?0:1}},"./src/remux/passthrough-remuxer.ts":function(o,l,a){a.r(l);var v=a("./src/polyfills/number.ts"),h=a("./src/utils/mp4-tools.ts"),T=a("./src/loader/fragment.ts"),P=a("./src/utils/logger.ts"),I=function(){function _(){this.emitInitSegment=!1,this.audioCodec=void 0,this.videoCodec=void 0,this.initData=void 0,this.initPTS=void 0,this.initTracks=void 0,this.lastEndDTS=null}var b=_.prototype;return b.destroy=function(){},b.resetTimeStamp=function(D){this.initPTS=D,this.lastEndDTS=null},b.resetNextTimestamp=function(){this.lastEndDTS=null},b.resetInitSegment=function(D,L,S){this.audioCodec=L,this.videoCodec=S,this.generateInitSegment(D),this.emitInitSegment=!0},b.generateInitSegment=function(D){var L=this.audioCodec,S=this.videoCodec;if(!D||!D.byteLength)return this.initTracks=void 0,void(this.initData=void 0);var c=this.initData=Object(h.parseInitSegment)(D);L||(L=x(c.audio,T.ElementaryStreamTypes.AUDIO)),S||(S=x(c.video,T.ElementaryStreamTypes.VIDEO));var u={};c.audio&&c.video?u.audiovideo={container:"video/mp4",codec:L+","+S,initSegment:D,id:"main"}:c.audio?u.audio={container:"audio/mp4",codec:L,initSegment:D,id:"audio"}:c.video?u.video={container:"video/mp4",codec:S,initSegment:D,id:"main"}:P.logger.warn("[passthrough-remuxer.ts]: initSegment does not contain moov or trak boxes."),this.initTracks=u},b.remux=function(D,L,S,c,u){var f=this.initPTS,r=this.lastEndDTS,p={audio:void 0,video:void 0,text:c,id3:S,initSegment:void 0};Object(v.isFiniteNumber)(r)||(r=this.lastEndDTS=u||0);var C=L.samples;if(!C||!C.length)return p;var g={initPTS:void 0,timescale:1},m=this.initData;if(m&&m.length||(this.generateInitSegment(C),m=this.initData),!m||!m.length)return P.logger.warn("[passthrough-remuxer.ts]: Failed to generate initSegment."),p;this.emitInitSegment&&(g.tracks=this.initTracks,this.emitInitSegment=!1),Object(v.isFiniteNumber)(f)||(this.initPTS=g.initPTS=f=A(m,C,r));var k=Object(h.getDuration)(C,m),d=r,w=k+d;Object(h.offsetStartDTS)(m,C,f),k>0?this.lastEndDTS=w:(P.logger.warn("Duration parsed from mp4 should be greater than zero"),this.resetNextTimestamp());var y=!!m.audio,O=!!m.video,F="";y&&(F+="audio"),O&&(F+="video");var B={data1:C,startPTS:d,startDTS:d,endPTS:w,endDTS:w,type:F,hasAudio:y,hasVideo:O,nb:1,dropped:0};return p.audio=B.type==="audio"?B:void 0,p.video=B.type!=="audio"?B:void 0,p.text=c,p.id3=S,p.initSegment=g,p},_}(),A=function(_,b,D){return Object(h.getStartDTS)(_,b)-D};function x(_,b){var D=_==null?void 0:_.codec;return D&&D.length>4?D:D==="hvc1"?"hvc1.1.c.L120.90":D==="av01"?"av01.0.04M.08":D==="avc1"||b===T.ElementaryStreamTypes.VIDEO?"avc1.42e01e":"mp4a.40.5"}l.default=I},"./src/task-loop.ts":function(o,l,a){a.r(l),a.d(l,"default",function(){return v});var v=function(){function h(){this._boundTick=void 0,this._tickTimer=null,this._tickInterval=null,this._tickCallCount=0,this._boundTick=this.tick.bind(this)}var T=h.prototype;return T.destroy=function(){this.onHandlerDestroying(),this.onHandlerDestroyed()},T.onHandlerDestroying=function(){this.clearNextTick(),this.clearInterval()},T.onHandlerDestroyed=function(){},T.hasInterval=function(){return!!this._tickInterval},T.hasNextTick=function(){return!!this._tickTimer},T.setInterval=function(P){return!this._tickInterval&&(this._tickInterval=self.setInterval(this._boundTick,P),!0)},T.clearInterval=function(){return!!this._tickInterval&&(self.clearInterval(this._tickInterval),this._tickInterval=null,!0)},T.clearNextTick=function(){return!!this._tickTimer&&(self.clearTimeout(this._tickTimer),this._tickTimer=null,!0)},T.tick=function(){this._tickCallCount++,this._tickCallCount===1&&(this.doTick(),this._tickCallCount>1&&this.tickImmediate(),this._tickCallCount=0)},T.tickImmediate=function(){this.clearNextTick(),this._tickTimer=self.setTimeout(this._boundTick,0)},T.doTick=function(){},h}()},"./src/types/level.ts":function(o,l,a){function v(A,x){for(var _=0;_<x.length;_++){var b=x[_];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(A,b.key,b)}}var h;function T(A,x){var _=A.canSkipUntil,b=A.canSkipDateRanges,D=A.endSN;return _&&(x!==void 0?x-D:0)<_?b?h.v2:h.Yes:h.No}a.r(l),a.d(l,"HlsSkip",function(){return h}),a.d(l,"getSkipValue",function(){return T}),a.d(l,"HlsUrlParameters",function(){return P}),a.d(l,"Level",function(){return I}),function(A){A.No="",A.Yes="YES",A.v2="v2"}(h||(h={}));var P=function(){function A(x,_,b){this.msn=void 0,this.part=void 0,this.skip=void 0,this.msn=x,this.part=_,this.skip=b}return A.prototype.addDirectives=function(x){var _=new self.URL(x);return this.msn!==void 0&&_.searchParams.set("_HLS_msn",this.msn.toString()),this.part!==void 0&&_.searchParams.set("_HLS_part",this.part.toString()),this.skip&&_.searchParams.set("_HLS_skip",this.skip),_.toString()},A}(),I=function(){function A(b){this.attrs=void 0,this.audioCodec=void 0,this.bitrate=void 0,this.codecSet=void 0,this.height=void 0,this.id=void 0,this.name=void 0,this.videoCodec=void 0,this.width=void 0,this.unknownCodecs=void 0,this.audioGroupIds=void 0,this.details=void 0,this.fragmentError=0,this.loadError=0,this.loaded=void 0,this.realBitrate=0,this.textGroupIds=void 0,this.url=void 0,this._urlId=0,this.url=[b.url],this.attrs=b.attrs,this.bitrate=b.bitrate,b.details&&(this.details=b.details),this.id=b.id||0,this.name=b.name,this.width=b.width||0,this.height=b.height||0,this.audioCodec=b.audioCodec,this.videoCodec=b.videoCodec,this.unknownCodecs=b.unknownCodecs,this.codecSet=[b.videoCodec,b.audioCodec].filter(function(D){return D}).join(",").replace(/\.[^.,]+/g,"")}var x,_;return x=A,(_=[{key:"maxBitrate",get:function(){return Math.max(this.realBitrate,this.bitrate)}},{key:"uri",get:function(){return this.url[this._urlId]||""}},{key:"urlId",get:function(){return this._urlId},set:function(b){var D=b%this.url.length;this._urlId!==D&&(this.details=void 0,this._urlId=D)}}])&&v(x.prototype,_),A}()},"./src/types/loader.ts":function(o,l,a){var v,h;a.r(l),a.d(l,"PlaylistContextType",function(){return v}),a.d(l,"PlaylistLevelType",function(){return h}),function(T){T.MANIFEST="manifest",T.LEVEL="level",T.AUDIO_TRACK="audioTrack",T.SUBTITLE_TRACK="subtitleTrack"}(v||(v={})),function(T){T.MAIN="main",T.AUDIO="audio",T.SUBTITLE="subtitle"}(h||(h={}))},"./src/types/transmuxer.ts":function(o,l,a){a.r(l),a.d(l,"ChunkMetadata",function(){return v});var v=function(h,T,P,I,A,x){I===void 0&&(I=0),A===void 0&&(A=-1),x===void 0&&(x=!1),this.level=void 0,this.sn=void 0,this.part=void 0,this.id=void 0,this.size=void 0,this.partial=void 0,this.transmuxing={start:0,executeStart:0,executeEnd:0,end:0},this.buffering={audio:{start:0,executeStart:0,executeEnd:0,end:0},video:{start:0,executeStart:0,executeEnd:0,end:0},audiovideo:{start:0,executeStart:0,executeEnd:0,end:0}},this.level=h,this.sn=T,this.id=P,this.size=I,this.part=A,this.partial=x}},"./src/utils/attr-list.ts":function(o,l,a){a.r(l),a.d(l,"AttrList",function(){return T});var v=/^(\d+)x(\d+)$/,h=/\s*(.+?)\s*=((?:\".*?\")|.*?)(?:,|$)/g,T=function(){function P(A){for(var x in typeof A=="string"&&(A=P.parseAttrList(A)),A)A.hasOwnProperty(x)&&(this[x]=A[x])}var I=P.prototype;return I.decimalInteger=function(A){var x=parseInt(this[A],10);return x>Number.MAX_SAFE_INTEGER?1/0:x},I.hexadecimalInteger=function(A){if(this[A]){var x=(this[A]||"0x").slice(2);x=(1&x.length?"0":"")+x;for(var _=new Uint8Array(x.length/2),b=0;b<x.length/2;b++)_[b]=parseInt(x.slice(2*b,2*b+2),16);return _}return null},I.hexadecimalIntegerAsNumber=function(A){var x=parseInt(this[A],16);return x>Number.MAX_SAFE_INTEGER?1/0:x},I.decimalFloatingPoint=function(A){return parseFloat(this[A])},I.optionalFloat=function(A,x){var _=this[A];return _?parseFloat(_):x},I.enumeratedString=function(A){return this[A]},I.bool=function(A){return this[A]==="YES"},I.decimalResolution=function(A){var x=v.exec(this[A]);if(x!==null)return{width:parseInt(x[1],10),height:parseInt(x[2],10)}},P.parseAttrList=function(A){var x,_={};for(h.lastIndex=0;(x=h.exec(A))!==null;){var b=x[2];b.indexOf('"')===0&&b.lastIndexOf('"')===b.length-1&&(b=b.slice(1,-1)),_[x[1]]=b}return _},P}()},"./src/utils/binary-search.ts":function(o,l,a){a.r(l),l.default={search:function(v,h){for(var T=0,P=v.length-1,I=null,A=null;T<=P;){var x=h(A=v[I=(T+P)/2|0]);if(x>0)T=I+1;else{if(!(x<0))return A;P=I-1}}return null}}},"./src/utils/buffer-helper.ts":function(o,l,a){a.r(l),a.d(l,"BufferHelper",function(){return T});var v=a("./src/utils/logger.ts"),h={length:0,start:function(){return 0},end:function(){return 0}},T=function(){function P(){}return P.isBuffered=function(I,A){try{if(I){for(var x=P.getBuffered(I),_=0;_<x.length;_++)if(A>=x.start(_)&&A<=x.end(_))return!0}}catch{}return!1},P.bufferInfo=function(I,A,x){try{if(I){var _,b=P.getBuffered(I),D=[];for(_=0;_<b.length;_++)D.push({start:b.start(_),end:b.end(_)});return this.bufferedInfo(D,A,x)}}catch{}return{len:0,start:A,end:A,nextStart:void 0}},P.bufferedInfo=function(I,A,x){A=Math.max(0,A),I.sort(function(g,m){var k=g.start-m.start;return k||m.end-g.end});var _=[];if(x)for(var b=0;b<I.length;b++){var D=_.length;if(D){var L=_[D-1].end;I[b].start-L<x?I[b].end>L&&(_[D-1].end=I[b].end):_.push(I[b])}else _.push(I[b])}else _=I;for(var S,c=0,u=A,f=A,r=0;r<_.length;r++){var p=_[r].start,C=_[r].end;if(A+x>=p&&A<C)u=p,c=(f=C)-A;else if(A+x<p){S=p;break}}return{len:c,start:u||0,end:f||0,nextStart:S}},P.getBuffered=function(I){try{return I.buffered}catch(A){return v.logger.log("failed to get media.buffered",A),h}},P}()},"./src/utils/cea-608-parser.ts":function(o,l,a){a.r(l),a.d(l,"Row",function(){return u}),a.d(l,"CaptionScreen",function(){return f});var v,h=a("./src/utils/logger.ts"),T={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},P=function(m){var k=m;return T.hasOwnProperty(m)&&(k=T[m]),String.fromCharCode(k)},I={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},A={17:2,18:4,21:6,22:8,23:10,19:13,20:15},x={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},_={25:2,26:4,29:6,30:8,31:10,27:13,28:15},b=["white","green","blue","cyan","red","yellow","magenta","black","transparent"];(function(m){m[m.ERROR=0]="ERROR",m[m.TEXT=1]="TEXT",m[m.WARNING=2]="WARNING",m[m.INFO=2]="INFO",m[m.DEBUG=3]="DEBUG",m[m.DATA=3]="DATA"})(v||(v={}));var D=function(){function m(){this.time=null,this.verboseLevel=v.ERROR}return m.prototype.log=function(k,d){this.verboseLevel>=k&&h.logger.log(this.time+" ["+k+"] "+d)},m}(),L=function(m){for(var k=[],d=0;d<m.length;d++)k.push(m[d].toString(16));return k},S=function(){function m(d,w,y,O,F){this.foreground=void 0,this.underline=void 0,this.italics=void 0,this.background=void 0,this.flash=void 0,this.foreground=d||"white",this.underline=w||!1,this.italics=y||!1,this.background=O||"black",this.flash=F||!1}var k=m.prototype;return k.reset=function(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1},k.setStyles=function(d){for(var w=["foreground","underline","italics","background","flash"],y=0;y<w.length;y++){var O=w[y];d.hasOwnProperty(O)&&(this[O]=d[O])}},k.isDefault=function(){return this.foreground==="white"&&!this.underline&&!this.italics&&this.background==="black"&&!this.flash},k.equals=function(d){return this.foreground===d.foreground&&this.underline===d.underline&&this.italics===d.italics&&this.background===d.background&&this.flash===d.flash},k.copy=function(d){this.foreground=d.foreground,this.underline=d.underline,this.italics=d.italics,this.background=d.background,this.flash=d.flash},k.toString=function(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash},m}(),c=function(){function m(d,w,y,O,F,B){this.uchar=void 0,this.penState=void 0,this.uchar=d||" ",this.penState=new S(w,y,O,F,B)}var k=m.prototype;return k.reset=function(){this.uchar=" ",this.penState.reset()},k.setChar=function(d,w){this.uchar=d,this.penState.copy(w)},k.setPenState=function(d){this.penState.copy(d)},k.equals=function(d){return this.uchar===d.uchar&&this.penState.equals(d.penState)},k.copy=function(d){this.uchar=d.uchar,this.penState.copy(d.penState)},k.isEmpty=function(){return this.uchar===" "&&this.penState.isDefault()},m}(),u=function(){function m(d){this.chars=void 0,this.pos=void 0,this.currPenState=void 0,this.cueStartTime=void 0,this.logger=void 0,this.chars=[];for(var w=0;w<100;w++)this.chars.push(new c);this.logger=d,this.pos=0,this.currPenState=new S}var k=m.prototype;return k.equals=function(d){for(var w=!0,y=0;y<100;y++)if(!this.chars[y].equals(d.chars[y])){w=!1;break}return w},k.copy=function(d){for(var w=0;w<100;w++)this.chars[w].copy(d.chars[w])},k.isEmpty=function(){for(var d=!0,w=0;w<100;w++)if(!this.chars[w].isEmpty()){d=!1;break}return d},k.setCursor=function(d){this.pos!==d&&(this.pos=d),this.pos<0?(this.logger.log(v.DEBUG,"Negative cursor position "+this.pos),this.pos=0):this.pos>100&&(this.logger.log(v.DEBUG,"Too large cursor position "+this.pos),this.pos=100)},k.moveCursor=function(d){var w=this.pos+d;if(d>1)for(var y=this.pos+1;y<w+1;y++)this.chars[y].setPenState(this.currPenState);this.setCursor(w)},k.backSpace=function(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)},k.insertChar=function(d){d>=144&&this.backSpace();var w=P(d);this.pos>=100?this.logger.log(v.ERROR,"Cannot insert "+d.toString(16)+" ("+w+") at position "+this.pos+". Skipping it!"):(this.chars[this.pos].setChar(w,this.currPenState),this.moveCursor(1))},k.clearFromPos=function(d){var w;for(w=d;w<100;w++)this.chars[w].reset()},k.clear=function(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()},k.clearToEndOfRow=function(){this.clearFromPos(this.pos)},k.getTextString=function(){for(var d=[],w=!0,y=0;y<100;y++){var O=this.chars[y].uchar;O!==" "&&(w=!1),d.push(O)}return w?"":d.join("")},k.setPenStyles=function(d){this.currPenState.setStyles(d),this.chars[this.pos].setPenState(this.currPenState)},m}(),f=function(){function m(d){this.rows=void 0,this.currRow=void 0,this.nrRollUpRows=void 0,this.lastOutputScreen=void 0,this.logger=void 0,this.rows=[];for(var w=0;w<15;w++)this.rows.push(new u(d));this.logger=d,this.currRow=14,this.nrRollUpRows=null,this.lastOutputScreen=null,this.reset()}var k=m.prototype;return k.reset=function(){for(var d=0;d<15;d++)this.rows[d].clear();this.currRow=14},k.equals=function(d){for(var w=!0,y=0;y<15;y++)if(!this.rows[y].equals(d.rows[y])){w=!1;break}return w},k.copy=function(d){for(var w=0;w<15;w++)this.rows[w].copy(d.rows[w])},k.isEmpty=function(){for(var d=!0,w=0;w<15;w++)if(!this.rows[w].isEmpty()){d=!1;break}return d},k.backSpace=function(){this.rows[this.currRow].backSpace()},k.clearToEndOfRow=function(){this.rows[this.currRow].clearToEndOfRow()},k.insertChar=function(d){this.rows[this.currRow].insertChar(d)},k.setPen=function(d){this.rows[this.currRow].setPenStyles(d)},k.moveCursor=function(d){this.rows[this.currRow].moveCursor(d)},k.setCursor=function(d){this.logger.log(v.INFO,"setCursor: "+d),this.rows[this.currRow].setCursor(d)},k.setPAC=function(d){this.logger.log(v.INFO,"pacData = "+JSON.stringify(d));var w=d.row-1;if(this.nrRollUpRows&&w<this.nrRollUpRows-1&&(w=this.nrRollUpRows-1),this.nrRollUpRows&&this.currRow!==w){for(var y=0;y<15;y++)this.rows[y].clear();var O=this.currRow+1-this.nrRollUpRows,F=this.lastOutputScreen;if(F){var B=F.rows[O].cueStartTime,M=this.logger.time;if(B&&M!==null&&B<M)for(var j=0;j<this.nrRollUpRows;j++)this.rows[w-this.nrRollUpRows+j+1].copy(F.rows[O+j])}}this.currRow=w;var U=this.rows[this.currRow];if(d.indent!==null){var z=d.indent,q=Math.max(z-1,0);U.setCursor(d.indent),d.color=U.chars[q].penState.foreground}var Y={foreground:d.color,underline:d.underline,italics:d.italics,background:"black",flash:!1};this.setPen(Y)},k.setBkgData=function(d){this.logger.log(v.INFO,"bkgData = "+JSON.stringify(d)),this.backSpace(),this.setPen(d),this.insertChar(32)},k.setRollUpRows=function(d){this.nrRollUpRows=d},k.rollUp=function(){if(this.nrRollUpRows!==null){this.logger.log(v.TEXT,this.getDisplayText());var d=this.currRow+1-this.nrRollUpRows,w=this.rows.splice(d,1)[0];w.clear(),this.rows.splice(this.currRow,0,w),this.logger.log(v.INFO,"Rolling up")}else this.logger.log(v.DEBUG,"roll_up but nrRollUpRows not set yet")},k.getDisplayText=function(d){d=d||!1;for(var w=[],y="",O=-1,F=0;F<15;F++){var B=this.rows[F].getTextString();B&&(O=F+1,d?w.push("Row "+O+": '"+B+"'"):w.push(B.trim()))}return w.length>0&&(y=d?"["+w.join(" | ")+"]":w.join(`
`)),y},k.getTextAndFormat=function(){return this.rows},m}(),r=function(){function m(d,w,y){this.chNr=void 0,this.outputFilter=void 0,this.mode=void 0,this.verbose=void 0,this.displayedMemory=void 0,this.nonDisplayedMemory=void 0,this.lastOutputScreen=void 0,this.currRollUpRow=void 0,this.writeScreen=void 0,this.cueStartTime=void 0,this.logger=void 0,this.chNr=d,this.outputFilter=w,this.mode=null,this.verbose=0,this.displayedMemory=new f(y),this.nonDisplayedMemory=new f(y),this.lastOutputScreen=new f(y),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.logger=y}var k=m.prototype;return k.reset=function(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.outputFilter.reset(),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null},k.getHandler=function(){return this.outputFilter},k.setHandler=function(d){this.outputFilter=d},k.setPAC=function(d){this.writeScreen.setPAC(d)},k.setBkgData=function(d){this.writeScreen.setBkgData(d)},k.setMode=function(d){d!==this.mode&&(this.mode=d,this.logger.log(v.INFO,"MODE="+d),this.mode==="MODE_POP-ON"?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),this.mode!=="MODE_ROLL-UP"&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=d)},k.insertChars=function(d){for(var w=0;w<d.length;w++)this.writeScreen.insertChar(d[w]);var y=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";this.logger.log(v.INFO,y+": "+this.writeScreen.getDisplayText(!0)),this.mode!=="MODE_PAINT-ON"&&this.mode!=="MODE_ROLL-UP"||(this.logger.log(v.TEXT,"DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())},k.ccRCL=function(){this.logger.log(v.INFO,"RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")},k.ccBS=function(){this.logger.log(v.INFO,"BS - BackSpace"),this.mode!=="MODE_TEXT"&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())},k.ccAOF=function(){},k.ccAON=function(){},k.ccDER=function(){this.logger.log(v.INFO,"DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()},k.ccRU=function(d){this.logger.log(v.INFO,"RU("+d+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(d)},k.ccFON=function(){this.logger.log(v.INFO,"FON - Flash On"),this.writeScreen.setPen({flash:!0})},k.ccRDC=function(){this.logger.log(v.INFO,"RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")},k.ccTR=function(){this.logger.log(v.INFO,"TR"),this.setMode("MODE_TEXT")},k.ccRTD=function(){this.logger.log(v.INFO,"RTD"),this.setMode("MODE_TEXT")},k.ccEDM=function(){this.logger.log(v.INFO,"EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate(!0)},k.ccCR=function(){this.logger.log(v.INFO,"CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate(!0)},k.ccENM=function(){this.logger.log(v.INFO,"ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()},k.ccEOC=function(){if(this.logger.log(v.INFO,"EOC - End Of Caption"),this.mode==="MODE_POP-ON"){var d=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=d,this.writeScreen=this.nonDisplayedMemory,this.logger.log(v.TEXT,"DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate(!0)},k.ccTO=function(d){this.logger.log(v.INFO,"TO("+d+") - Tab Offset"),this.writeScreen.moveCursor(d)},k.ccMIDROW=function(d){var w={flash:!1};if(w.underline=d%2==1,w.italics=d>=46,w.italics)w.foreground="white";else{var y=Math.floor(d/2)-16;w.foreground=["white","green","blue","cyan","red","yellow","magenta"][y]}this.logger.log(v.INFO,"MIDROW: "+JSON.stringify(w)),this.writeScreen.setPen(w)},k.outputDataUpdate=function(d){d===void 0&&(d=!1);var w=this.logger.time;w!==null&&this.outputFilter&&(this.cueStartTime!==null||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue(this.cueStartTime,w,this.lastOutputScreen),d&&this.outputFilter.dispatchCue&&this.outputFilter.dispatchCue(),this.cueStartTime=this.displayedMemory.isEmpty()?null:w):this.cueStartTime=w,this.lastOutputScreen.copy(this.displayedMemory))},k.cueSplitAtTime=function(d){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,d,this.displayedMemory),this.cueStartTime=d))},m}(),p=function(){function m(d,w,y){this.channels=void 0,this.currentChannel=0,this.cmdHistory=void 0,this.logger=void 0;var O=new D;this.channels=[null,new r(d,w,O),new r(d+1,y,O)],this.cmdHistory={a:null,b:null},this.logger=O}var k=m.prototype;return k.getHandler=function(d){return this.channels[d].getHandler()},k.setHandler=function(d,w){this.channels[d].setHandler(w)},k.addData=function(d,w){var y,O,F,B=!1;this.logger.time=d;for(var M=0;M<w.length;M+=2)if(O=127&w[M],F=127&w[M+1],O!==0||F!==0){if(this.logger.log(v.DATA,"["+L([w[M],w[M+1]])+"] -> ("+L([O,F])+")"),(y=this.parseCmd(O,F))||(y=this.parseMidrow(O,F)),y||(y=this.parsePAC(O,F)),y||(y=this.parseBackgroundAttributes(O,F)),!y&&(B=this.parseChars(O,F))){var j=this.currentChannel;j&&j>0?this.channels[j].insertChars(B):this.logger.log(v.WARNING,"No channel found yet. TEXT-MODE?")}y||B||this.logger.log(v.WARNING,"Couldn't parse cleaned data "+L([O,F])+" orig: "+L([w[M],w[M+1]]))}},k.parseCmd=function(d,w){var y=this.cmdHistory;if(!((d===20||d===28||d===21||d===29)&&w>=32&&w<=47||(d===23||d===31)&&w>=33&&w<=35))return!1;if(g(d,w,y))return C(null,null,y),this.logger.log(v.DEBUG,"Repeated command ("+L([d,w])+") is dropped"),!0;var O=d===20||d===21||d===23?1:2,F=this.channels[O];return d===20||d===21||d===28||d===29?w===32?F.ccRCL():w===33?F.ccBS():w===34?F.ccAOF():w===35?F.ccAON():w===36?F.ccDER():w===37?F.ccRU(2):w===38?F.ccRU(3):w===39?F.ccRU(4):w===40?F.ccFON():w===41?F.ccRDC():w===42?F.ccTR():w===43?F.ccRTD():w===44?F.ccEDM():w===45?F.ccCR():w===46?F.ccENM():w===47&&F.ccEOC():F.ccTO(w-32),C(d,w,y),this.currentChannel=O,!0},k.parseMidrow=function(d,w){var y=0;if((d===17||d===25)&&w>=32&&w<=47){if((y=d===17?1:2)!==this.currentChannel)return this.logger.log(v.ERROR,"Mismatch channel in midrow parsing"),!1;var O=this.channels[y];return!!O&&(O.ccMIDROW(w),this.logger.log(v.DEBUG,"MIDROW ("+L([d,w])+")"),!0)}return!1},k.parsePAC=function(d,w){var y,O=this.cmdHistory;if(!((d>=17&&d<=23||d>=25&&d<=31)&&w>=64&&w<=127||(d===16||d===24)&&w>=64&&w<=95))return!1;if(g(d,w,O))return C(null,null,O),!0;var F=d<=23?1:2;y=w>=64&&w<=95?F===1?I[d]:x[d]:F===1?A[d]:_[d];var B=this.channels[F];return!!B&&(B.setPAC(this.interpretPAC(y,w)),C(d,w,O),this.currentChannel=F,!0)},k.interpretPAC=function(d,w){var y,O={color:null,italics:!1,indent:null,underline:!1,row:d};return y=w>95?w-96:w-64,O.underline=(1&y)==1,y<=13?O.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(y/2)]:y<=15?(O.italics=!0,O.color="white"):O.indent=4*Math.floor((y-16)/2),O},k.parseChars=function(d,w){var y,O,F=null,B=null;if(d>=25?(y=2,B=d-8):(y=1,B=d),B>=17&&B<=19?(O=B===17?w+80:B===18?w+112:w+144,this.logger.log(v.INFO,"Special char '"+P(O)+"' in channel "+y),F=[O]):d>=32&&d<=127&&(F=w===0?[d]:[d,w]),F){var M=L(F);this.logger.log(v.DEBUG,"Char codes =  "+M.join(",")),C(d,w,this.cmdHistory)}return F},k.parseBackgroundAttributes=function(d,w){var y;if(!((d===16||d===24)&&w>=32&&w<=47||(d===23||d===31)&&w>=45&&w<=47))return!1;var O={};d===16||d===24?(y=Math.floor((w-32)/2),O.background=b[y],w%2==1&&(O.background=O.background+"_semi")):w===45?O.background="transparent":(O.foreground="black",w===47&&(O.underline=!0));var F=d<=23?1:2;return this.channels[F].setBkgData(O),C(d,w,this.cmdHistory),!0},k.reset=function(){for(var d=0;d<Object.keys(this.channels).length;d++){var w=this.channels[d];w&&w.reset()}this.cmdHistory={a:null,b:null}},k.cueSplitAtTime=function(d){for(var w=0;w<this.channels.length;w++){var y=this.channels[w];y&&y.cueSplitAtTime(d)}},m}();function C(m,k,d){d.a=m,d.b=k}function g(m,k,d){return d.a===m&&d.b===k}l.default=p},"./src/utils/codecs.ts":function(o,l,a){a.r(l),a.d(l,"isCodecType",function(){return h}),a.d(l,"isCodecSupportedInMp4",function(){return T});var v={audio:{a3ds:!0,"ac-3":!0,"ac-4":!0,alac:!0,alaw:!0,dra1:!0,"dts+":!0,"dts-":!0,dtsc:!0,dtse:!0,dtsh:!0,"ec-3":!0,enca:!0,g719:!0,g726:!0,m4ae:!0,mha1:!0,mha2:!0,mhm1:!0,mhm2:!0,mlpa:!0,mp4a:!0,"raw ":!0,Opus:!0,samr:!0,sawb:!0,sawp:!0,sevc:!0,sqcp:!0,ssmv:!0,twos:!0,ulaw:!0},video:{avc1:!0,avc2:!0,avc3:!0,avc4:!0,avcp:!0,av01:!0,drac:!0,dvav:!0,dvhe:!0,encv:!0,hev1:!0,hvc1:!0,mjp2:!0,mp4v:!0,mvc1:!0,mvc2:!0,mvc3:!0,mvc4:!0,resv:!0,rv60:!0,s263:!0,svc1:!0,svc2:!0,"vc-1":!0,vp08:!0,vp09:!0},text:{stpp:!0,wvtt:!0}};function h(P,I){var A=v[I];return!!A&&A[P.slice(0,4)]===!0}function T(P,I){return MediaSource.isTypeSupported((I||"video")+'/mp4;codecs="'+P+'"')}},"./src/utils/cues.ts":function(o,l,a){a.r(l);var v=a("./src/utils/vttparser.ts"),h=a("./src/utils/webvtt-parser.ts"),T=a("./src/utils/texttrack-utils.ts"),P=/\s/,I={newCue:function(A,x,_,b){for(var D,L,S,c,u,f=[],r=self.VTTCue||self.TextTrackCue,p=0;p<b.rows.length;p++)if(S=!0,c=0,u="",!(D=b.rows[p]).isEmpty()){for(var C=0;C<D.chars.length;C++)P.test(D.chars[C].uchar)&&S?c++:(u+=D.chars[C].uchar,S=!1);D.cueStartTime=x,x===_&&(_+=1e-4),c>=16?c--:c++;var g=Object(v.fixLineBreaks)(u.trim()),m=Object(h.generateCueId)(x,_,g);A&&A.cues&&A.cues.getCueById(m)||((L=new r(x,_,g)).id=m,L.line=p+1,L.align="left",L.position=10+Math.min(80,10*Math.floor(8*c/32)),f.push(L))}return A&&f.length&&(f.sort(function(k,d){return k.line==="auto"||d.line==="auto"?0:k.line>8&&d.line>8?d.line-k.line:k.line-d.line}),f.forEach(function(k){return Object(T.addCueToTrack)(A,k)})),f}};l.default=I},"./src/utils/discontinuities.ts":function(o,l,a){a.r(l),a.d(l,"findFirstFragWithCC",function(){return P}),a.d(l,"shouldAlignOnDiscontinuities",function(){return I}),a.d(l,"findDiscontinuousReferenceFrag",function(){return A}),a.d(l,"adjustSlidingStart",function(){return _}),a.d(l,"alignStream",function(){return b}),a.d(l,"alignPDT",function(){return D}),a.d(l,"alignFragmentByPDTDelta",function(){return L}),a.d(l,"alignMediaPlaylistByPDT",function(){return S});var v=a("./src/polyfills/number.ts"),h=a("./src/utils/logger.ts"),T=a("./src/controller/level-helper.ts");function P(c,u){for(var f=null,r=0,p=c.length;r<p;r++){var C=c[r];if(C&&C.cc===u){f=C;break}}return f}function I(c,u,f){return!(!u.details||!(f.endCC>f.startCC||c&&c.cc<f.startCC))}function A(c,u){var f=c.fragments,r=u.fragments;if(r.length&&f.length){var p=P(f,r[0].cc);if(p&&(!p||p.startPTS))return p;h.logger.log("No frag in previous level to align on")}else h.logger.log("No fragments to align")}function x(c,u){if(c){var f=c.start+u;c.start=c.startPTS=f,c.endPTS=f+c.duration}}function _(c,u){for(var f=u.fragments,r=0,p=f.length;r<p;r++)x(f[r],c);u.fragmentHint&&x(u.fragmentHint,c),u.alignedSliding=!0}function b(c,u,f){u&&(function(r,p,C){if(I(r,C,p)){var g=A(C.details,p);g&&Object(v.isFiniteNumber)(g.start)&&(h.logger.log("Adjusting PTS using last level due to CC increase within current level "+p.url),_(g.start,p))}}(c,f,u),!f.alignedSliding&&u.details&&D(f,u.details),f.alignedSliding||!u.details||f.skippedSegments||Object(T.adjustSliding)(u.details,f))}function D(c,u){if(u.fragments.length&&c.hasProgramDateTime&&u.hasProgramDateTime){var f=u.fragments[0].programDateTime,r=c.fragments[0].programDateTime,p=(r-f)/1e3+u.fragments[0].start;p&&Object(v.isFiniteNumber)(p)&&(h.logger.log("Adjusting PTS using programDateTime delta "+(r-f)+"ms, sliding:"+p.toFixed(3)+" "+c.url+" "),_(p,c))}}function L(c,u){var f=c.programDateTime;if(f){var r=(f-u)/1e3;c.start=c.startPTS=r,c.endPTS=r+c.duration}}function S(c,u){if(u.fragments.length&&c.hasProgramDateTime&&u.hasProgramDateTime){var f=u.fragments[0].programDateTime-1e3*u.fragments[0].start;c.fragments.forEach(function(r){L(r,f)}),c.fragmentHint&&L(c.fragmentHint,f),c.alignedSliding=!0}}},"./src/utils/ewma-bandwidth-estimator.ts":function(o,l,a){a.r(l);var v=a("./src/utils/ewma.ts"),h=function(){function T(I,A,x){this.defaultEstimate_=void 0,this.minWeight_=void 0,this.minDelayMs_=void 0,this.slow_=void 0,this.fast_=void 0,this.defaultEstimate_=x,this.minWeight_=.001,this.minDelayMs_=50,this.slow_=new v.default(I),this.fast_=new v.default(A)}var P=T.prototype;return P.update=function(I,A){var x=this.slow_,_=this.fast_;this.slow_.halfLife!==I&&(this.slow_=new v.default(I,x.getEstimate(),x.getTotalWeight())),this.fast_.halfLife!==A&&(this.fast_=new v.default(A,_.getEstimate(),_.getTotalWeight()))},P.sample=function(I,A){var x=(I=Math.max(I,this.minDelayMs_))/1e3,_=8*A/x;this.fast_.sample(x,_),this.slow_.sample(x,_)},P.canEstimate=function(){var I=this.fast_;return I&&I.getTotalWeight()>=this.minWeight_},P.getEstimate=function(){return this.canEstimate()?Math.min(this.fast_.getEstimate(),this.slow_.getEstimate()):this.defaultEstimate_},P.destroy=function(){},T}();l.default=h},"./src/utils/ewma.ts":function(o,l,a){a.r(l);var v=function(){function h(P,I,A){I===void 0&&(I=0),A===void 0&&(A=0),this.halfLife=void 0,this.alpha_=void 0,this.estimate_=void 0,this.totalWeight_=void 0,this.halfLife=P,this.alpha_=P?Math.exp(Math.log(.5)/P):0,this.estimate_=I,this.totalWeight_=A}var T=h.prototype;return T.sample=function(P,I){var A=Math.pow(this.alpha_,P);this.estimate_=I*(1-A)+A*this.estimate_,this.totalWeight_+=P},T.getTotalWeight=function(){return this.totalWeight_},T.getEstimate=function(){if(this.alpha_){var P=1-Math.pow(this.alpha_,this.totalWeight_);if(P)return this.estimate_/P}return this.estimate_},h}();l.default=v},"./src/utils/fetch-loader.ts":function(o,l,a){a.r(l),a.d(l,"fetchSupported",function(){return b});var v=a("./src/polyfills/number.ts"),h=a("./src/loader/load-stats.ts"),T=a("./src/demux/chunk-cache.ts");function P(c){var u=typeof Map=="function"?new Map:void 0;return(P=function(f){if(f===null||(r=f,Function.toString.call(r).indexOf("[native code]")===-1))return f;var r;if(typeof f!="function")throw new TypeError("Super expression must either be null or a function");if(u!==void 0){if(u.has(f))return u.get(f);u.set(f,p)}function p(){return I(f,arguments,_(this).constructor)}return p.prototype=Object.create(f.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),x(p,f)})(c)}function I(c,u,f){return(I=A()?Reflect.construct:function(r,p,C){var g=[null];g.push.apply(g,p);var m=new(Function.bind.apply(r,g));return C&&x(m,C.prototype),m}).apply(null,arguments)}function A(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function x(c,u){return(x=Object.setPrototypeOf||function(f,r){return f.__proto__=r,f})(c,u)}function _(c){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(u){return u.__proto__||Object.getPrototypeOf(u)})(c)}function b(){if(self.fetch&&self.AbortController&&self.ReadableStream&&self.Request)try{return new self.ReadableStream({}),!0}catch{}return!1}var D=function(){function c(f){this.fetchSetup=void 0,this.requestTimeout=void 0,this.request=void 0,this.response=void 0,this.controller=void 0,this.context=void 0,this.config=null,this.callbacks=null,this.stats=void 0,this.loader=null,this.fetchSetup=f.fetchSetup||L,this.controller=new self.AbortController,this.stats=new h.LoadStats}var u=c.prototype;return u.destroy=function(){this.loader=this.callbacks=null,this.abortInternal()},u.abortInternal=function(){var f=this.response;f&&f.ok||(this.stats.aborted=!0,this.controller.abort())},u.abort=function(){var f;this.abortInternal(),(f=this.callbacks)!==null&&f!==void 0&&f.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.response)},u.load=function(f,r,p){var C=this,g=this.stats;if(g.loading.start)throw new Error("Loader can only be used once.");g.loading.start=self.performance.now();var m=function(y,O){var F={method:"GET",mode:"cors",credentials:"same-origin",signal:O};return y.rangeEnd&&(F.headers=new self.Headers({Range:"bytes="+y.rangeStart+"-"+String(y.rangeEnd-1)})),F}(f,this.controller.signal),k=p.onProgress,d=f.responseType==="arraybuffer",w=d?"byteLength":"length";this.context=f,this.config=r,this.callbacks=p,this.request=this.fetchSetup(f,m),self.clearTimeout(this.requestTimeout),this.requestTimeout=self.setTimeout(function(){C.abortInternal(),p.onTimeout(g,f,C.response)},r.timeout),self.fetch(this.request).then(function(y){if(C.response=C.loader=y,!y.ok){var O=y.status,F=y.statusText;throw new S(F||"fetch, bad network response",O,y)}return g.loading.first=Math.max(self.performance.now(),g.loading.start),g.total=parseInt(y.headers.get("Content-Length")||"0"),k&&Object(v.isFiniteNumber)(r.highWaterMark)?C.loadProgressively(y,g,f,r.highWaterMark,k):d?y.arrayBuffer():y.text()}).then(function(y){var O=C.response;self.clearTimeout(C.requestTimeout),g.loading.end=Math.max(self.performance.now(),g.loading.first),g.loaded=g.total=y[w];var F={url:O.url,data:y};k&&!Object(v.isFiniteNumber)(r.highWaterMark)&&k(g,f,y,O),p.onSuccess(F,g,f,O)}).catch(function(y){if(self.clearTimeout(C.requestTimeout),!g.aborted){var O=y.code||0;p.onError({code:O,text:y.message},f,y.details)}})},u.getCacheAge=function(){var f=null;if(this.response){var r=this.response.headers.get("age");f=r?parseFloat(r):null}return f},u.loadProgressively=function(f,r,p,C,g){C===void 0&&(C=0);var m=new T.default,k=f.body.getReader();return function d(){return k.read().then(function(w){if(w.done)return m.dataLength&&g(r,p,m.flush(),f),Promise.resolve(new ArrayBuffer(0));var y=w.value,O=y.length;return r.loaded+=O,O<C||m.dataLength?(m.push(y),m.dataLength>=C&&g(r,p,m.flush(),f)):g(r,p,y,f),d()}).catch(function(){return Promise.reject()})}()},c}();function L(c,u){return new self.Request(c.url,u)}var S=function(c){var u,f;function r(p,C,g){var m;return(m=c.call(this,p)||this).code=void 0,m.details=void 0,m.code=C,m.details=g,m}return f=c,(u=r).prototype=Object.create(f.prototype),u.prototype.constructor=u,x(u,f),r}(P(Error));l.default=D},"./src/utils/imsc1-ttml-parser.ts":function(o,l,a){a.r(l),a.d(l,"IMSC1_CODEC",function(){return _}),a.d(l,"parseIMSC1",function(){return S});var v=a("./src/utils/mp4-tools.ts"),h=a("./src/utils/vttparser.ts"),T=a("./src/utils/vttcue.ts"),P=a("./src/demux/id3.ts"),I=a("./src/utils/timescale-conversion.ts"),A=a("./src/utils/webvtt-parser.ts");function x(){return(x=Object.assign||function(C){for(var g=1;g<arguments.length;g++){var m=arguments[g];for(var k in m)Object.prototype.hasOwnProperty.call(m,k)&&(C[k]=m[k])}return C}).apply(this,arguments)}var _="stpp.ttml.im1t",b=/^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/,D=/^(\d*(?:\.\d*)?)(h|m|s|ms|f|t)$/,L={left:"start",center:"center",right:"end",start:"start",end:"end"};function S(C,g,m,k,d){var w=Object(v.findBox)(new Uint8Array(C),["mdat"]);if(w.length!==0){var y=w[0],O=Object(P.utf8ArrayToStr)(new Uint8Array(C,y.start,y.end-y.start)),F=Object(I.toTimescaleFromScale)(g,1,m);try{k(function(B,M){var j=new DOMParser().parseFromString(B,"text/xml").getElementsByTagName("tt")[0];if(!j)throw new Error("Invalid ttml");var U={frameRate:30,subFrameRate:1,frameRateMultiplier:0,tickRate:0},z=Object.keys(U).reduce(function(Z,ee){return Z[ee]=j.getAttribute("ttp:"+ee)||U[ee],Z},{}),q=j.getAttribute("xml:space")!=="preserve",Y=u(c(j,"styling","style")),W=u(c(j,"layout","region")),J=c(j,"body","[begin]");return[].map.call(J,function(Z){var ee=function Be(ut,Ue){return[].slice.call(ut.childNodes).reduce(function(et,ot,ht){var bt;return ot.nodeName==="br"&&ht?et+`
`:(bt=ot.childNodes)!==null&&bt!==void 0&&bt.length?Be(ot,Ue):Ue?et+ot.textContent.trim().replace(/\s+/g," "):et+ot.textContent},"")}(Z,q);if(!ee||!Z.hasAttribute("begin"))return null;var le=p(Z.getAttribute("begin"),z),ue=p(Z.getAttribute("dur"),z),fe=p(Z.getAttribute("end"),z);if(le===null)throw r(Z);if(fe===null){if(ue===null)throw r(Z);fe=le+ue}var ve=new T.default(le-M,fe-M,ee);ve.id=Object(A.generateCueId)(ve.startTime,ve.endTime,ve.text);var be=W[Z.getAttribute("region")],we=Y[Z.getAttribute("style")];ve.position=10,ve.size=80;var _e=function(Be,ut){var Ue="http://www.w3.org/ns/ttml#styling";return["displayAlign","textAlign","color","backgroundColor","fontSize","fontFamily"].reduce(function(et,ot){var ht=f(ut,Ue,ot)||f(Be,Ue,ot);return ht&&(et[ot]=ht),et},{})}(be,we),Pe=_e.textAlign;if(Pe){var Le=L[Pe];Le&&(ve.lineAlign=Le),ve.align=Pe}return x(ve,_e),ve}).filter(function(Z){return Z!==null})}(O,F))}catch(B){d(B)}}else d(new Error("Could not parse IMSC1 mdat"))}function c(C,g,m){var k=C.getElementsByTagName(g)[0];return k?[].slice.call(k.querySelectorAll(m)):[]}function u(C){return C.reduce(function(g,m){var k=m.getAttribute("xml:id");return k&&(g[k]=m),g},{})}function f(C,g,m){return C.hasAttributeNS(g,m)?C.getAttributeNS(g,m):null}function r(C){return new Error("Could not parse ttml timestamp "+C)}function p(C,g){if(!C)return null;var m=Object(h.parseTimeStamp)(C);return m===null&&(b.test(C)?m=function(k,d){var w=b.exec(k),y=(0|w[4])+(0|w[5])/d.subFrameRate;return 3600*(0|w[1])+60*(0|w[2])+(0|w[3])+y/d.frameRate}(C,g):D.test(C)&&(m=function(k,d){var w=D.exec(k),y=Number(w[1]);switch(w[2]){case"h":return 3600*y;case"m":return 60*y;case"ms":return 1e3*y;case"f":return y/d.frameRate;case"t":return y/d.tickRate}return y}(C,g))),m}},"./src/utils/logger.ts":function(o,l,a){a.r(l),a.d(l,"enableLogs",function(){return I}),a.d(l,"logger",function(){return A});var v=function(){},h={trace:v,debug:v,log:v,warn:v,info:v,error:v},T=h;function P(x){var _=self.console[x];return _?_.bind(self.console,"["+x+"] >"):v}function I(x){if(self.console&&x===!0||typeof x=="object"){(function(_){for(var b=arguments.length,D=new Array(b>1?b-1:0),L=1;L<b;L++)D[L-1]=arguments[L];D.forEach(function(S){T[S]=_[S]?_[S].bind(_):P(S)})})(x,"debug","log","info","warn","error");try{T.log()}catch{T=h}}else T=h}var A=h},"./src/utils/mediakeys-helper.ts":function(o,l,a){var v;a.r(l),a.d(l,"KeySystems",function(){return v}),a.d(l,"requestMediaKeySystemAccess",function(){return h}),function(T){T.WIDEVINE="com.widevine.alpha",T.PLAYREADY="com.microsoft.playready"}(v||(v={}));var h=typeof self<"u"&&self.navigator&&self.navigator.requestMediaKeySystemAccess?self.navigator.requestMediaKeySystemAccess.bind(self.navigator):null},"./src/utils/mediasource-helper.ts":function(o,l,a){function v(){return self.MediaSource||self.WebKitMediaSource}a.r(l),a.d(l,"getMediaSource",function(){return v})},"./src/utils/mp4-tools.ts":function(o,l,a){a.r(l),a.d(l,"bin2str",function(){return I}),a.d(l,"readUint16",function(){return A}),a.d(l,"readUint32",function(){return x}),a.d(l,"writeUint32",function(){return _}),a.d(l,"findBox",function(){return b}),a.d(l,"parseSegmentIndex",function(){return D}),a.d(l,"parseInitSegment",function(){return L}),a.d(l,"getStartDTS",function(){return S}),a.d(l,"getDuration",function(){return c}),a.d(l,"computeRawDurationFromSamples",function(){return u}),a.d(l,"offsetStartDTS",function(){return f}),a.d(l,"segmentValidRange",function(){return r}),a.d(l,"appendUint8Array",function(){return p});var v=a("./src/utils/typed-array.ts"),h=a("./src/loader/fragment.ts"),T=Math.pow(2,32)-1,P=[].push;function I(C){return String.fromCharCode.apply(null,C)}function A(C,g){"data"in C&&(g+=C.start,C=C.data);var m=C[g]<<8|C[g+1];return m<0?65536+m:m}function x(C,g){"data"in C&&(g+=C.start,C=C.data);var m=C[g]<<24|C[g+1]<<16|C[g+2]<<8|C[g+3];return m<0?4294967296+m:m}function _(C,g,m){"data"in C&&(g+=C.start,C=C.data),C[g]=m>>24,C[g+1]=m>>16&255,C[g+2]=m>>8&255,C[g+3]=255&m}function b(C,g){var m,k,d,w=[];if(!g.length)return w;"data"in C?(m=C.data,k=C.start,d=C.end):(k=0,d=(m=C).byteLength);for(var y=k;y<d;){var O=x(m,y),F=O>1?y+O:d;if(I(m.subarray(y+4,y+8))===g[0])if(g.length===1)w.push({data:m,start:y+8,end:F});else{var B=b({data:m,start:y+8,end:F},g.slice(1));B.length&&P.apply(w,B)}y=F}return w}function D(C){var g=b(C,["moov"])[0],m=g?g.end:null,k=b(C,["sidx"]);if(!k||!k[0])return null;var d=[],w=k[0],y=w.data[0],O=y===0?8:16,F=x(w,O);O+=4,O+=y===0?8:16,O+=2;var B=w.end+0,M=A(w,O);O+=2;for(var j=0;j<M;j++){var U=O,z=x(w,U);U+=4;var q=2147483647&z;if((2147483648&z)>>>31==1)return console.warn("SIDX has hierarchical references (not supported)"),null;var Y=x(w,U);U+=4,d.push({referenceSize:q,subsegmentDuration:Y,info:{duration:Y/F,start:B,end:B+q-1}}),B+=q,O=U+=4}return{earliestPresentationTime:0,timescale:F,version:y,referencesCount:M,references:d,moovEndOffset:m}}function L(C){for(var g=[],m=b(C,["moov","trak"]),k=0;k<m.length;k++){var d=m[k],w=b(d,["tkhd"])[0];if(w){var y=w.data[w.start],O=y===0?12:20,F=x(w,O),B=b(d,["mdia","mdhd"])[0];if(B){var M=x(B,O=(y=B.data[B.start])===0?12:20),j=b(d,["mdia","hdlr"])[0];if(j){var U=I(j.data.subarray(j.start+8,j.start+12)),z={soun:h.ElementaryStreamTypes.AUDIO,vide:h.ElementaryStreamTypes.VIDEO}[U];if(z){var q=b(d,["mdia","minf","stbl","stsd"])[0],Y=void 0;q&&(Y=I(q.data.subarray(q.start+12,q.start+16))),g[F]={timescale:M,type:z},g[z]={timescale:M,id:F,codec:Y}}}}}}return b(C,["moov","mvex","trex"]).forEach(function(W){var J=x(W,4),Z=g[J];Z&&(Z.default={duration:x(W,12),flags:x(W,20)})}),g}function S(C,g){return b(g,["moof","traf"]).reduce(function(m,k){var d=b(k,["tfdt"])[0],w=d.data[d.start],y=b(k,["tfhd"]).reduce(function(O,F){var B=x(F,4),M=C[B];if(M){var j=x(d,4);w===1&&(j*=Math.pow(2,32),j+=x(d,8));var U=j/(M.timescale||9e4);if(isFinite(U)&&(O===null||U<O))return U}return O},null);return y!==null&&isFinite(y)&&(m===null||y<m)?y:m},null)||0}function c(C,g){for(var m=0,k=0,d=0,w=b(C,["moof","traf"]),y=0;y<w.length;y++){var O=w[y],F=b(O,["tfhd"])[0],B=g[x(F,4)];if(B){var M=B.default,j=x(F,0)|(M==null?void 0:M.flags),U=M==null?void 0:M.duration;8&j&&(U=x(F,2&j?12:8));for(var z=B.timescale||9e4,q=b(O,["trun"]),Y=0;Y<q.length;Y++)m=U?U*x(q[Y],4):u(q[Y]),B.type===h.ElementaryStreamTypes.VIDEO?k+=m/z:B.type===h.ElementaryStreamTypes.AUDIO&&(d+=m/z)}}if(k===0&&d===0){var W=D(C);if(W!=null&&W.references)return W.references.reduce(function(J,Z){return J+Z.info.duration||0},0)}return k||d}function u(C){var g=x(C,0),m=8;1&g&&(m+=4),4&g&&(m+=4);for(var k=0,d=x(C,4),w=0;w<d;w++)256&g&&(k+=x(C,m),m+=4),512&g&&(m+=4),1024&g&&(m+=4),2048&g&&(m+=4);return k}function f(C,g,m){b(g,["moof","traf"]).forEach(function(k){b(k,["tfhd"]).forEach(function(d){var w=x(d,4),y=C[w];if(y){var O=y.timescale||9e4;b(k,["tfdt"]).forEach(function(F){var B=F.data[F.start],M=x(F,4);if(B===0)_(F,4,M-m*O);else{M*=Math.pow(2,32),M+=x(F,8),M-=m*O,M=Math.max(M,0);var j=Math.floor(M/(T+1)),U=Math.floor(M%(T+1));_(F,4,j),_(F,8,U)}})}})})}function r(C){var g={valid:null,remainder:null},m=b(C,["moof"]);if(!m)return g;if(m.length<2)return g.remainder=C,g;var k=m[m.length-1];return g.valid=Object(v.sliceUint8)(C,0,k.start-8),g.remainder=Object(v.sliceUint8)(C,k.start-8),g}function p(C,g){var m=new Uint8Array(C.length+g.length);return m.set(C),m.set(g,C.length),m}},"./src/utils/output-filter.ts":function(o,l,a){a.r(l),a.d(l,"default",function(){return v});var v=function(){function h(P,I){this.timelineController=void 0,this.cueRanges=[],this.trackName=void 0,this.startTime=null,this.endTime=null,this.screen=null,this.timelineController=P,this.trackName=I}var T=h.prototype;return T.dispatchCue=function(){this.startTime!==null&&(this.timelineController.addCues(this.trackName,this.startTime,this.endTime,this.screen,this.cueRanges),this.startTime=null)},T.newCue=function(P,I,A){(this.startTime===null||this.startTime>P)&&(this.startTime=P),this.endTime=I,this.screen=A,this.timelineController.createCaptionsTrack(this.trackName)},T.reset=function(){this.cueRanges=[]},h}()},"./src/utils/texttrack-utils.ts":function(o,l,a){a.r(l),a.d(l,"sendAddTrackEvent",function(){return h}),a.d(l,"addCueToTrack",function(){return T}),a.d(l,"clearCurrentCues",function(){return P}),a.d(l,"removeCuesInRange",function(){return I}),a.d(l,"getCuesInRange",function(){return A});var v=a("./src/utils/logger.ts");function h(x,_){var b;try{b=new Event("addtrack")}catch{(b=document.createEvent("Event")).initEvent("addtrack",!1,!1)}b.track=x,_.dispatchEvent(b)}function T(x,_){var b=x.mode;if(b==="disabled"&&(x.mode="hidden"),x.cues&&!x.cues.getCueById(_.id))try{if(x.addCue(_),!x.cues.getCueById(_.id))throw new Error("addCue is failed for: "+_)}catch(L){v.logger.debug("[texttrack-utils]: "+L);var D=new self.TextTrackCue(_.startTime,_.endTime,_.text);D.id=_.id,x.addCue(D)}b==="disabled"&&(x.mode=b)}function P(x){var _=x.mode;if(_==="disabled"&&(x.mode="hidden"),x.cues)for(var b=x.cues.length;b--;)x.removeCue(x.cues[b]);_==="disabled"&&(x.mode=_)}function I(x,_,b){var D=x.mode;if(D==="disabled"&&(x.mode="hidden"),x.cues&&x.cues.length>0)for(var L=A(x.cues,_,b),S=0;S<L.length;S++)x.removeCue(L[S]);D==="disabled"&&(x.mode=D)}function A(x,_,b){var D=[],L=function(f,r){if(r<f[0].startTime)return 0;var p=f.length-1;if(r>f[p].endTime)return-1;for(var C=0,g=p;C<=g;){var m=Math.floor((g+C)/2);if(r<f[m].startTime)g=m-1;else{if(!(r>f[m].startTime&&C<p))return m;C=m+1}}return f[C].startTime-r<r-f[g].startTime?C:g}(x,_);if(L>-1)for(var S=L,c=x.length;S<c;S++){var u=x[S];if(u.startTime>=_&&u.endTime<=b)D.push(u);else if(u.startTime>b)return D}return D}},"./src/utils/time-ranges.ts":function(o,l,a){a.r(l),l.default={toString:function(v){for(var h="",T=v.length,P=0;P<T;P++)h+="["+v.start(P).toFixed(3)+","+v.end(P).toFixed(3)+"]";return h}}},"./src/utils/timescale-conversion.ts":function(o,l,a){function v(I,A,x,_){x===void 0&&(x=1),_===void 0&&(_=!1);var b=I*A*x;return _?Math.round(b):b}function h(I,A,x,_){return x===void 0&&(x=1),_===void 0&&(_=!1),v(I,A,1/x,_)}function T(I,A){return A===void 0&&(A=!1),v(I,1e3,1/9e4,A)}function P(I,A){return A===void 0&&(A=1),v(I,9e4,1/A)}a.r(l),a.d(l,"toTimescaleFromBase",function(){return v}),a.d(l,"toTimescaleFromScale",function(){return h}),a.d(l,"toMsFromMpegTsClock",function(){return T}),a.d(l,"toMpegTsClockFromTimescale",function(){return P})},"./src/utils/typed-array.ts":function(o,l,a){function v(h,T,P){return Uint8Array.prototype.slice?h.slice(T,P):new Uint8Array(Array.prototype.slice.call(h,T,P))}a.r(l),a.d(l,"sliceUint8",function(){return v})},"./src/utils/vttcue.ts":function(o,l,a){a.r(l),l.default=function(){if(typeof self<"u"&&self.VTTCue)return self.VTTCue;var v=["","lr","rl"],h=["start","middle","end","left","right"];function T(x,_){if(typeof _!="string"||!Array.isArray(x))return!1;var b=_.toLowerCase();return!!~x.indexOf(b)&&b}function P(x){return T(h,x)}function I(x){for(var _=arguments.length,b=new Array(_>1?_-1:0),D=1;D<_;D++)b[D-1]=arguments[D];for(var L=1;L<arguments.length;L++){var S=arguments[L];for(var c in S)x[c]=S[c]}return x}function A(x,_,b){var D=this,L={enumerable:!0};D.hasBeenReset=!1;var S="",c=!1,u=x,f=_,r=b,p=null,C="",g=!0,m="auto",k="start",d=50,w="middle",y=50,O="middle";Object.defineProperty(D,"id",I({},L,{get:function(){return S},set:function(F){S=""+F}})),Object.defineProperty(D,"pauseOnExit",I({},L,{get:function(){return c},set:function(F){c=!!F}})),Object.defineProperty(D,"startTime",I({},L,{get:function(){return u},set:function(F){if(typeof F!="number")throw new TypeError("Start time must be set to a number.");u=F,this.hasBeenReset=!0}})),Object.defineProperty(D,"endTime",I({},L,{get:function(){return f},set:function(F){if(typeof F!="number")throw new TypeError("End time must be set to a number.");f=F,this.hasBeenReset=!0}})),Object.defineProperty(D,"text",I({},L,{get:function(){return r},set:function(F){r=""+F,this.hasBeenReset=!0}})),Object.defineProperty(D,"region",I({},L,{get:function(){return p},set:function(F){p=F,this.hasBeenReset=!0}})),Object.defineProperty(D,"vertical",I({},L,{get:function(){return C},set:function(F){var B=function(M){return T(v,M)}(F);if(B===!1)throw new SyntaxError("An invalid or illegal string was specified.");C=B,this.hasBeenReset=!0}})),Object.defineProperty(D,"snapToLines",I({},L,{get:function(){return g},set:function(F){g=!!F,this.hasBeenReset=!0}})),Object.defineProperty(D,"line",I({},L,{get:function(){return m},set:function(F){if(typeof F!="number"&&F!=="auto")throw new SyntaxError("An invalid number or illegal string was specified.");m=F,this.hasBeenReset=!0}})),Object.defineProperty(D,"lineAlign",I({},L,{get:function(){return k},set:function(F){var B=P(F);if(!B)throw new SyntaxError("An invalid or illegal string was specified.");k=B,this.hasBeenReset=!0}})),Object.defineProperty(D,"position",I({},L,{get:function(){return d},set:function(F){if(F<0||F>100)throw new Error("Position must be between 0 and 100.");d=F,this.hasBeenReset=!0}})),Object.defineProperty(D,"positionAlign",I({},L,{get:function(){return w},set:function(F){var B=P(F);if(!B)throw new SyntaxError("An invalid or illegal string was specified.");w=B,this.hasBeenReset=!0}})),Object.defineProperty(D,"size",I({},L,{get:function(){return y},set:function(F){if(F<0||F>100)throw new Error("Size must be between 0 and 100.");y=F,this.hasBeenReset=!0}})),Object.defineProperty(D,"align",I({},L,{get:function(){return O},set:function(F){var B=P(F);if(!B)throw new SyntaxError("An invalid or illegal string was specified.");O=B,this.hasBeenReset=!0}})),D.displayState=void 0}return A.prototype.getCueAsHTML=function(){return self.WebVTT.convertCueToDOMTree(self,this.text)},A}()},"./src/utils/vttparser.ts":function(o,l,a){a.r(l),a.d(l,"parseTimeStamp",function(){return T}),a.d(l,"fixLineBreaks",function(){return b}),a.d(l,"VTTParser",function(){return D});var v=a("./src/utils/vttcue.ts"),h=function(){function L(){}return L.prototype.decode=function(S,c){if(!S)return"";if(typeof S!="string")throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(S))},L}();function T(L){function S(u,f,r,p){return 3600*(0|u)+60*(0|f)+(0|r)+parseFloat(p||0)}var c=L.match(/^(?:(\d+):)?(\d{2}):(\d{2})(\.\d+)?/);return c?parseFloat(c[2])>59?S(c[2],c[3],0,c[4]):S(c[1],c[2],c[3],c[4]):null}var P=function(){function L(){this.values=Object.create(null)}var S=L.prototype;return S.set=function(c,u){this.get(c)||u===""||(this.values[c]=u)},S.get=function(c,u,f){return f?this.has(c)?this.values[c]:u[f]:this.has(c)?this.values[c]:u},S.has=function(c){return c in this.values},S.alt=function(c,u,f){for(var r=0;r<f.length;++r)if(u===f[r]){this.set(c,u);break}},S.integer=function(c,u){/^-?\d+$/.test(u)&&this.set(c,parseInt(u,10))},S.percent=function(c,u){if(/^([\d]{1,3})(\.[\d]*)?%$/.test(u)){var f=parseFloat(u);if(f>=0&&f<=100)return this.set(c,f),!0}return!1},L}();function I(L,S,c,u){var f=u?L.split(u):[L];for(var r in f)if(typeof f[r]=="string"){var p=f[r].split(c);p.length===2&&S(p[0],p[1])}}var A=new v.default(0,0,""),x=A.align==="middle"?"middle":"center";function _(L,S,c){var u=L;function f(){var p=T(L);if(p===null)throw new Error("Malformed timestamp: "+u);return L=L.replace(/^[^\sa-zA-Z-]+/,""),p}function r(){L=L.replace(/^\s+/,"")}if(r(),S.startTime=f(),r(),L.substr(0,3)!=="-->")throw new Error("Malformed time stamp (time stamps must be separated by '-->'): "+u);L=L.substr(3),r(),S.endTime=f(),r(),function(p,C){var g=new P;I(p,function(d,w){var y;switch(d){case"region":for(var O=c.length-1;O>=0;O--)if(c[O].id===w){g.set(d,c[O].region);break}break;case"vertical":g.alt(d,w,["rl","lr"]);break;case"line":y=w.split(","),g.integer(d,y[0]),g.percent(d,y[0])&&g.set("snapToLines",!1),g.alt(d,y[0],["auto"]),y.length===2&&g.alt("lineAlign",y[1],["start",x,"end"]);break;case"position":y=w.split(","),g.percent(d,y[0]),y.length===2&&g.alt("positionAlign",y[1],["start",x,"end","line-left","line-right","auto"]);break;case"size":g.percent(d,w);break;case"align":g.alt(d,w,["start",x,"end","left","right"])}},/:/,/\s/),C.region=g.get("region",null),C.vertical=g.get("vertical","");var m=g.get("line","auto");m==="auto"&&A.line===-1&&(m=-1),C.line=m,C.lineAlign=g.get("lineAlign","start"),C.snapToLines=g.get("snapToLines",!0),C.size=g.get("size",100),C.align=g.get("align",x);var k=g.get("position","auto");k==="auto"&&A.position===50&&(k=C.align==="start"||C.align==="left"?0:C.align==="end"||C.align==="right"?100:50),C.position=k}(L,S)}function b(L){return L.replace(/<br(?: \/)?>/gi,`
`)}var D=function(){function L(){this.state="INITIAL",this.buffer="",this.decoder=new h,this.regionList=[],this.cue=null,this.oncue=void 0,this.onparsingerror=void 0,this.onflush=void 0}var S=L.prototype;return S.parse=function(c){var u=this;function f(){var m=u.buffer,k=0;for(m=b(m);k<m.length&&m[k]!=="\r"&&m[k]!==`
`;)++k;var d=m.substr(0,k);return m[k]==="\r"&&++k,m[k]===`
`&&++k,u.buffer=m.substr(k),d}c&&(u.buffer+=u.decoder.decode(c,{stream:!0}));try{var r="";if(u.state==="INITIAL"){if(!/\r\n|\n/.test(u.buffer))return this;var p=(r=f()).match(/^(ï»¿)?WEBVTT([ \t].*)?$/);if(!p||!p[0])throw new Error("Malformed WebVTT signature.");u.state="HEADER"}for(var C=!1;u.buffer;){if(!/\r\n|\n/.test(u.buffer))return this;switch(C?C=!1:r=f(),u.state){case"HEADER":/:/.test(r)?I(r,function(m,k){},/:/):r||(u.state="ID");continue;case"NOTE":r||(u.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(r)){u.state="NOTE";break}if(!r)continue;if(u.cue=new v.default(0,0,""),u.state="CUE",r.indexOf("-->")===-1){u.cue.id=r;continue}case"CUE":if(!u.cue){u.state="BADCUE";continue}try{_(r,u.cue,u.regionList)}catch{u.cue=null,u.state="BADCUE";continue}u.state="CUETEXT";continue;case"CUETEXT":var g=r.indexOf("-->")!==-1;if(!r||g&&(C=!0)){u.oncue&&u.cue&&u.oncue(u.cue),u.cue=null,u.state="ID";continue}if(u.cue===null)continue;u.cue.text&&(u.cue.text+=`
`),u.cue.text+=r;continue;case"BADCUE":r||(u.state="ID")}}}catch{u.state==="CUETEXT"&&u.cue&&u.oncue&&u.oncue(u.cue),u.cue=null,u.state=u.state==="INITIAL"?"BADWEBVTT":"BADCUE"}return this},S.flush=function(){try{if((this.cue||this.state==="HEADER")&&(this.buffer+=`

`,this.parse()),this.state==="INITIAL"||this.state==="BADWEBVTT")throw new Error("Malformed WebVTT signature.")}catch(c){this.onparsingerror&&this.onparsingerror(c)}return this.onflush&&this.onflush(),this},L}()},"./src/utils/webvtt-parser.ts":function(o,l,a){a.r(l),a.d(l,"generateCueId",function(){return b}),a.d(l,"parseWebVTT",function(){return D});var v=a("./src/polyfills/number.ts"),h=a("./src/utils/vttparser.ts"),T=a("./src/demux/id3.ts"),P=a("./src/utils/timescale-conversion.ts"),I=a("./src/remux/mp4-remuxer.ts"),A=/\r\n|\n\r|\n|\r/g,x=function(L,S,c){return c===void 0&&(c=0),L.substr(c,S.length)===S},_=function(L){for(var S=5381,c=L.length;c;)S=33*S^L.charCodeAt(--c);return(S>>>0).toString()};function b(L,S,c){return _(L.toString())+_(S.toString())+_(c)}function D(L,S,c,u,f,r,p,C){var g,m=new h.VTTParser,k=Object(T.utf8ArrayToStr)(new Uint8Array(L)).trim().replace(A,`
`).split(`
`),d=[],w=Object(P.toMpegTsClockFromTimescale)(S,c),y="00:00.000",O=0,F=0,B=!0,M=!1;m.oncue=function(j){var U=u[f],z=u.ccOffset,q=(O-w)/9e4;if(U!=null&&U.new&&(F!==void 0?z=u.ccOffset=U.start:function(Z,ee,le){var ue=Z[ee],fe=Z[ue.prevCC];if(!fe||!fe.new&&ue.new)return Z.ccOffset=Z.presentationOffset=ue.start,void(ue.new=!1);for(;(ve=fe)!==null&&ve!==void 0&&ve.new;){var ve;Z.ccOffset+=ue.start-fe.start,ue.new=!1,fe=Z[(ue=fe).prevCC]}Z.presentationOffset=le}(u,f,q)),q&&(z=q-u.presentationOffset),M){var Y=j.endTime-j.startTime,W=Object(I.normalizePts)(9e4*(j.startTime+z-F),9e4*r)/9e4;j.startTime=W,j.endTime=W+Y}var J=j.text.trim();j.text=decodeURIComponent(encodeURIComponent(J)),j.id||(j.id=b(j.startTime,j.endTime,J)),j.endTime>0&&d.push(j)},m.onparsingerror=function(j){g=j},m.onflush=function(){g?C(g):p(d)},k.forEach(function(j){if(B){if(x(j,"X-TIMESTAMP-MAP=")){B=!1,M=!0,j.substr(16).split(",").forEach(function(U){x(U,"LOCAL:")?y=U.substr(6):x(U,"MPEGTS:")&&(O=parseInt(U.substr(7)))});try{F=function(U){var z=parseInt(U.substr(-3)),q=parseInt(U.substr(-6,2)),Y=parseInt(U.substr(-9,2)),W=U.length>9?parseInt(U.substr(0,U.indexOf(":"))):0;if(!(Object(v.isFiniteNumber)(z)&&Object(v.isFiniteNumber)(q)&&Object(v.isFiniteNumber)(Y)&&Object(v.isFiniteNumber)(W)))throw Error("Malformed X-TIMESTAMP-MAP: Local:"+U);return z+=1e3*q,z+=6e4*Y,z+=36e5*W}(y)/1e3}catch(U){M=!1,g=U}return}j===""&&(B=!1)}m.parse(j+`
`)}),m.flush()}},"./src/utils/xhr-loader.ts":function(o,l,a){a.r(l);var v=a("./src/utils/logger.ts"),h=a("./src/loader/load-stats.ts"),T=/^age:\s*[\d.]+\s*$/m,P=function(){function I(x){this.xhrSetup=void 0,this.requestTimeout=void 0,this.retryTimeout=void 0,this.retryDelay=void 0,this.config=null,this.callbacks=null,this.context=void 0,this.loader=null,this.stats=void 0,this.xhrSetup=x?x.xhrSetup:null,this.stats=new h.LoadStats,this.retryDelay=0}var A=I.prototype;return A.destroy=function(){this.callbacks=null,this.abortInternal(),this.loader=null,this.config=null},A.abortInternal=function(){var x=this.loader;self.clearTimeout(this.requestTimeout),self.clearTimeout(this.retryTimeout),x&&(x.onreadystatechange=null,x.onprogress=null,x.readyState!==4&&(this.stats.aborted=!0,x.abort()))},A.abort=function(){var x;this.abortInternal(),(x=this.callbacks)!==null&&x!==void 0&&x.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.loader)},A.load=function(x,_,b){if(this.stats.loading.start)throw new Error("Loader can only be used once.");this.stats.loading.start=self.performance.now(),this.context=x,this.config=_,this.callbacks=b,this.retryDelay=_.retryDelay,this.loadInternal()},A.loadInternal=function(){var x=this.config,_=this.context;if(x){var b=this.loader=new self.XMLHttpRequest,D=this.stats;D.loading.first=0,D.loaded=0;var L=this.xhrSetup;try{if(L)try{L(b,_.url)}catch{b.open("GET",_.url,!0),L(b,_.url)}b.readyState||b.open("GET",_.url,!0)}catch(S){return void this.callbacks.onError({code:b.status,text:S.message},_,b)}_.rangeEnd&&b.setRequestHeader("Range","bytes="+_.rangeStart+"-"+(_.rangeEnd-1)),b.onreadystatechange=this.readystatechange.bind(this),b.onprogress=this.loadprogress.bind(this),b.responseType=_.responseType,self.clearTimeout(this.requestTimeout),this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),x.timeout),b.send()}},A.readystatechange=function(){var x=this.context,_=this.loader,b=this.stats;if(x&&_){var D=_.readyState,L=this.config;if(!b.aborted&&D>=2)if(self.clearTimeout(this.requestTimeout),b.loading.first===0&&(b.loading.first=Math.max(self.performance.now(),b.loading.start)),D===4){_.onreadystatechange=null,_.onprogress=null;var S=_.status;if(S>=200&&S<300){var c,u;if(b.loading.end=Math.max(self.performance.now(),b.loading.first),u=x.responseType==="arraybuffer"?(c=_.response).byteLength:(c=_.responseText).length,b.loaded=b.total=u,!this.callbacks)return;var f=this.callbacks.onProgress;if(f&&f(b,x,c,_),!this.callbacks)return;var r={url:_.responseURL,data:c};this.callbacks.onSuccess(r,b,x,_)}else b.retry>=L.maxRetry||S>=400&&S<499?(v.logger.error(S+" while loading "+x.url),this.callbacks.onError({code:S,text:_.statusText},x,_)):(v.logger.warn(S+" while loading "+x.url+", retrying in "+this.retryDelay+"..."),this.abortInternal(),this.loader=null,self.clearTimeout(this.retryTimeout),this.retryTimeout=self.setTimeout(this.loadInternal.bind(this),this.retryDelay),this.retryDelay=Math.min(2*this.retryDelay,L.maxRetryDelay),b.retry++)}else self.clearTimeout(this.requestTimeout),this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),L.timeout)}},A.loadtimeout=function(){v.logger.warn("timeout while loading "+this.context.url);var x=this.callbacks;x&&(this.abortInternal(),x.onTimeout(this.stats,this.context,this.loader))},A.loadprogress=function(x){var _=this.stats;_.loaded=x.loaded,x.lengthComputable&&(_.total=x.total)},A.getCacheAge=function(){var x=null;if(this.loader&&T.test(this.loader.getAllResponseHeaders())){var _=this.loader.getResponseHeader("age");x=_?parseFloat(_):null}return x},I}();l.default=P}}).default},e.exports=i())},function(e,t,n){e.exports=!n(7)&&!n(11)(function(){return Object.defineProperty(n(37)("div"),"a",{get:function(){return 7}}).a!=7})},function(e,t,n){var i=n(18),o=n(6).document,l=i(o)&&i(o.createElement);e.exports=function(a){return l?o.createElement(a):{}}},function(e,t){var n={}.toString;e.exports=function(i){return n.call(i).slice(8,-1)}},function(e,t){e.exports=function(n){if(n==null)throw TypeError("Can't call method on  "+n);return n}},function(e,t){e.exports=function(n){if(typeof n!="function")throw TypeError(n+" is not a function!");return n}},function(e,t,n){var i=n(14),o=n(58),l=n(30),a=n(29)("IE_PROTO"),v=function(){},h=function(){var T,P=n(37)("iframe"),I=l.length;for(P.style.display="none",n(62).appendChild(P),P.src="javascript:",(T=P.contentWindow.document).open(),T.write("<script>document.F=Object<\/script>"),T.close(),h=T.F;I--;)delete h.prototype[l[I]];return h()};e.exports=Object.create||function(T,P){var I;return T!==null?(v.prototype=i(T),I=new v,v.prototype=null,I[a]=T):I=h(),P===void 0?I:o(I,P)}},function(e,t,n){var i=n(12),o=n(15),l=n(59)(!1),a=n(29)("IE_PROTO");e.exports=function(v,h){var T,P=o(v),I=0,A=[];for(T in P)T!=a&&i(P,T)&&A.push(T);for(;h.length>I;)i(P,T=h[I++])&&(~l(A,T)||A.push(T));return A}},function(e,t){var n=Math.ceil,i=Math.floor;e.exports=function(o){return isNaN(o=+o)?0:(o>0?i:n)(o)}},function(e,t,n){t.f=n(8)},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){var i=n(42),o=n(30).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(l){return i(l,o)}},function(e,t,n){var i=n(14);e.exports=function(){var o=i(this),l="";return o.global&&(l+="g"),o.ignoreCase&&(l+="i"),o.multiline&&(l+="m"),o.unicode&&(l+="u"),o.sticky&&(l+="y"),l}},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch{typeof window=="object"&&(n=window)}e.exports=n},function(e,t,n){var i=n(78);t.createRoot=i.createRoot,t.hydrateRoot=i.hydrateRoot},function(e,t,n){var i=n(51),o=n(52),l=n(27),a=n(15);e.exports=n(54)(Array,"Array",function(v,h){this._t=a(v),this._i=0,this._k=h},function(){var v=this._t,h=this._k,T=this._i++;return!v||T>=v.length?(this._t=void 0,o(1)):o(0,h=="keys"?T:h=="values"?v[T]:[T,v[T]])},"values"),l.Arguments=l.Array,i("keys"),i("values"),i("entries")},function(e,t,n){var i=n(8)("unscopables"),o=Array.prototype;o[i]==null&&n(9)(o,i,{}),e.exports=function(l){o[i][l]=!0}},function(e,t){e.exports=function(n,i){return{value:i,done:!!n}}},function(e,t,n){var i=n(38);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(o){return i(o)=="String"?o.split(""):Object(o)}},function(e,t,n){var i=n(23),o=n(28),l=n(19),a=n(9),v=n(27),h=n(57),T=n(31),P=n(63),I=n(8)("iterator"),A=!([].keys&&"next"in[].keys()),x=function(){return this};e.exports=function(_,b,D,L,S,c,u){h(D,b,L);var f,r,p,C=function(B){if(!A&&B in d)return d[B];switch(B){case"keys":case"values":return function(){return new D(this,B)}}return function(){return new D(this,B)}},g=b+" Iterator",m=S=="values",k=!1,d=_.prototype,w=d[I]||d["@@iterator"]||S&&d[S],y=w||C(S),O=S?m?C("entries"):y:void 0,F=b=="Array"&&d.entries||w;if(F&&(p=P(F.call(new _)))!==Object.prototype&&p.next&&(T(p,g,!0),i||typeof p[I]=="function"||a(p,I,x)),m&&w&&w.name!=="values"&&(k=!0,y=function(){return w.call(this)}),i&&!u||!A&&!k&&d[I]||a(d,I,y),v[b]=y,v[g]=x,S)if(f={values:m?y:C("values"),keys:c?y:C("keys"),entries:O},u)for(r in f)r in d||l(d,r,f[r]);else o(o.P+o.F*(A||k),b,f);return f}},function(e,t,n){e.exports=n(21)("native-function-to-string",Function.toString)},function(e,t,n){var i=n(40);e.exports=function(o,l,a){if(i(o),l===void 0)return o;switch(a){case 1:return function(v){return o.call(l,v)};case 2:return function(v,h){return o.call(l,v,h)};case 3:return function(v,h,T){return o.call(l,v,h,T)}}return function(){return o.apply(l,arguments)}}},function(e,t,n){var i=n(41),o=n(24),l=n(31),a={};n(9)(a,n(8)("iterator"),function(){return this}),e.exports=function(v,h,T){v.prototype=i(a,{next:o(1,T)}),l(v,h+" Iterator")}},function(e,t,n){var i=n(10),o=n(14),l=n(25);e.exports=n(7)?Object.defineProperties:function(a,v){o(a);for(var h,T=l(v),P=T.length,I=0;P>I;)i.f(a,h=T[I++],v[h]);return a}},function(e,t,n){var i=n(15),o=n(60),l=n(61);e.exports=function(a){return function(v,h,T){var P,I=i(v),A=o(I.length),x=l(T,A);if(a&&h!=h){for(;A>x;)if((P=I[x++])!=P)return!0}else for(;A>x;x++)if((a||x in I)&&I[x]===h)return a||x||0;return!a&&-1}}},function(e,t,n){var i=n(43),o=Math.min;e.exports=function(l){return l>0?o(i(l),9007199254740991):0}},function(e,t,n){var i=n(43),o=Math.max,l=Math.min;e.exports=function(a,v){return(a=i(a))<0?o(a+v,0):l(a,v)}},function(e,t,n){var i=n(6).document;e.exports=i&&i.documentElement},function(e,t,n){var i=n(12),o=n(32),l=n(29)("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(v){return v=o(v),i(v,l)?v[l]:typeof v.constructor=="function"&&v instanceof v.constructor?v.constructor.prototype:v instanceof Object?a:null}},function(e,t,n){var i=n(17)("meta"),o=n(18),l=n(12),a=n(10).f,v=0,h=Object.isExtensible||function(){return!0},T=!n(11)(function(){return h(Object.preventExtensions({}))}),P=function(A){a(A,i,{value:{i:"O"+ ++v,w:{}}})},I=e.exports={KEY:i,NEED:!1,fastKey:function(A,x){if(!o(A))return typeof A=="symbol"?A:(typeof A=="string"?"S":"P")+A;if(!l(A,i)){if(!h(A))return"F";if(!x)return"E";P(A)}return A[i].i},getWeak:function(A,x){if(!l(A,i)){if(!h(A))return!0;if(!x)return!1;P(A)}return A[i].w},onFreeze:function(A){return T&&I.NEED&&h(A)&&!l(A,i)&&P(A),A}}},function(e,t,n){var i=n(6),o=n(22),l=n(23),a=n(44),v=n(10).f;e.exports=function(h){var T=o.Symbol||(o.Symbol=l?{}:i.Symbol||{});h.charAt(0)=="_"||h in T||v(T,h,{value:a.f(h)})}},function(e,t,n){var i=n(25),o=n(45),l=n(33);e.exports=function(a){var v=i(a),h=o.f;if(h)for(var T,P=h(a),I=l.f,A=0;P.length>A;)I.call(a,T=P[A++])&&v.push(T);return v}},function(e,t,n){var i=n(38);e.exports=Array.isArray||function(o){return i(o)=="Array"}},function(e,t,n){var i=n(15),o=n(46).f,l={}.toString,a=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(v){return a&&l.call(v)=="[object Window]"?function(h){try{return o(h)}catch{return a.slice()}}(v):o(i(v))}},function(e,t,n){var i=n(33),o=n(24),l=n(15),a=n(26),v=n(12),h=n(36),T=Object.getOwnPropertyDescriptor;t.f=n(7)?T:function(P,I){if(P=l(P),I=a(I,!0),h)try{return T(P,I)}catch{}if(v(P,I))return o(!i.f.call(P,I),P[I])}},function(e,t,n){n(7)&&/./g.flags!="g"&&n(10).f(RegExp.prototype,"flags",{configurable:!0,get:n(47)})},function(e,t,n){var i=n(4),o=n(72);typeof(o=o.__esModule?o.default:o)=="string"&&(o=[[e.i,o,""]]);var l={insert:"head",singleton:!1};i(o,l),e.exports=o.locals||{}},function(e,t,n){(t=n(5)(!1)).push([e.i,"@keyframes show{0%{opacity:0}50%{opacity:.5}100%{opacity:1}}@keyframes scaleAnimate{50%{transform:scale(1.2)}100%{transform:scale(1)}}@keyframes rotateAnimate{0%{transform:rotate(270deg)}100%{transform:rotate(360deg)}}@keyframes example{from{opacity:0;transform:scale(1.5)}to{opacity:1;transform:scale(1)}}@keyframes learve{from{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(1.5)}}.JoL-progress-container{transition:all .5s;width:100%}.JoL-progress-container .progress-bg{transition:all .3s;width:100%;height:5px;background:rgba(255,255,255,.2);border-radius:2px;position:relative}.JoL-progress-container .progress-bg .progress-buffered{width:0%;height:100%;position:absolute;left:0;top:0;right:auto;bottom:auto;z-index:1;border-radius:2px;background:rgba(255,255,255,.5)}.JoL-progress-container .progress-bg .progress-played{width:0%;height:100%;position:absolute;left:0;top:0;right:auto;bottom:auto;z-index:2;border-radius:2px}.JoL-progress-container .progress-bg .progress-played .progress-scrubber{transition:all .3s;width:12px;height:12px;position:absolute;left:auto;top:-50%;right:-5px;bottom:auto;margin-top:1px;border-radius:50%}.JoL-progress-container .progress-bg .progress-seek-mask{width:100%;height:calc(100% + 6px);position:absolute;left:0;top:-3px;right:auto;bottom:auto;z-index:100}.JoL-progress-container .progress-bg .progress-seek-mask:hover{cursor:pointer}.JoL-progress-container .progress-bg .pointer{position:absolute;left:714px;top:0;right:auto;bottom:auto}.JoL-progress-container .progress-bg .pointer .top-triangle,.JoL-progress-container .progress-bg .pointer .bottom-triangle{width:0;height:0;position:absolute;border-right:4px solid transparent;border-left:4px solid transparent}.JoL-progress-container .progress-bg .pointer .top-triangle{left:-4px;top:-5px;border-bottom:4px solid transparent}.JoL-progress-container .progress-bg .pointer .bottom-triangle{left:-4px;top:3px;border-top:4px solid transparent}.JoL-progress-container .progress-bg .video-img-box{width:169px;height:96px;position:absolute;left:0;top:-105px;right:auto;bottom:auto;margin-left:calc(-169px / 2)}.JoL-progress-container .progress-bg .video-img-box .video-current-img{width:100%;height:100%}.JoL-progress-container .progress-bg .video-img-box .current-time{position:absolute;left:50%;top:auto;right:auto;bottom:0;font-size:12px;color:#fff;font-weight:normal;transform:translateX(-50%);background-color:#222;padding:1px 4px}",""]),e.exports=t},function(e,t,n){var i=n(4),o=n(74);typeof(o=o.__esModule?o.default:o)=="string"&&(o=[[e.i,o,""]]);var l={insert:"head",singleton:!1};i(o,l),e.exports=o.locals||{}},function(e,t,n){(t=n(5)(!1)).push([e.i,"@keyframes show{0%{opacity:0}50%{opacity:.5}100%{opacity:1}}@keyframes scaleAnimate{50%{transform:scale(1.2)}100%{transform:scale(1)}}@keyframes rotateAnimate{0%{transform:rotate(270deg)}100%{transform:rotate(360deg)}}.JoL-player-container .tooltip{position:relative;cursor:pointer;z-index:1}.JoL-player-container .tooltip:hover .title{transition:all .6s;opacity:1;display:block;animation:show .3s ease}.JoL-player-container .tooltip .title{display:none;opacity:0;z-index:-1;position:absolute;color:#fff;left:50%;bottom:49px;font-size:13px;background-color:rgba(0,0,0,.7);border-radius:3px;transform:translateX(-50%);line-height:20px;padding:5px 7px;white-space:nowrap}",""]),e.exports=t},function(e,t,n){var i=n(4),o=n(76);typeof(o=o.__esModule?o.default:o)=="string"&&(o=[[e.i,o,""]]);var l={insert:"head",singleton:!1};i(o,l),e.exports=o.locals||{}},function(e,t,n){(t=n(5)(!1)).push([e.i,'@keyframes show{0%{opacity:0}50%{opacity:.5}100%{opacity:1}}@keyframes scaleAnimate{50%{transform:scale(1.2)}100%{transform:scale(1)}}@keyframes rotateAnimate{0%{transform:rotate(270deg)}100%{transform:rotate(360deg)}}.JoL-player-container body{--JoL-theme: red}.JoL-player-container .container{display:flex;align-items:center;font-size:14px}.JoL-player-container .label{padding-right:20px;cursor:pointer}.JoL-player-container .switch{position:relative;width:30px;height:15px;background-color:#dadada;border-radius:30px;border:none;outline:none;-webkit-appearance:none;transition:all .2s ease;cursor:pointer}.JoL-player-container .switch::after{content:"";width:50%;height:100%;position:absolute;left:0;top:0;right:auto;bottom:auto;background-color:#fff;border-radius:50%;transition:all .2s ease}.JoL-player-container .switch:checked{background-color:var(--JoL-theme)}.JoL-player-container .switch:checked::after{left:50%}',""]),e.exports=t},function(e,t,n){(t=n(5)(!1)).push([e.i,'@keyframes show{0%{opacity:0}50%{opacity:.5}100%{opacity:1}}@keyframes scaleAnimate{50%{transform:scale(1.2)}100%{transform:scale(1)}}@keyframes rotateAnimate{0%{transform:rotate(270deg)}100%{transform:rotate(360deg)}}.clientFullScreen{width:auto !important;height:auto !important;position:fixed !important;left:0;top:0;right:0;bottom:0;z-index:100000 !important}.JoL-controls-container{padding:0 5px;box-sizing:border-box;transition:all .5s;width:100%;height:42px;color:#eee;position:relative;display:flex;align-items:center}.JoL-controls-container:hover{cursor:default}.JoL-controls-container:after{content:"";width:calc(100% + 26px);height:100%;position:absolute;left:50%;top:auto;right:auto;bottom:0;z-index:-1;transform:translateX(-50%);background:linear-gradient(to top, rgba(0, 0, 0, 0.5), transparent)}.JoL-controls-container .play-pause-timeline{display:flex;align-items:center}.JoL-controls-container .play-pause-timeline .icon{cursor:pointer}.JoL-controls-container .play-pause-timeline .time-wrap{font-size:13px;vertical-align:middle;padding:0 10px}.JoL-controls-container .JoL-multifunction{width:100%;height:100%;display:flex;flex-direction:row;flex-wrap:wrap;justify-content:flex-end;align-items:center;text-align:center;line-height:42px}.JoL-controls-container .JoL-multifunction-multiple{cursor:pointer;padding:0 10px;position:relative}.JoL-controls-container .JoL-multifunction-multiple-container{transition:all .5s;position:absolute;left:50%;top:-12px;right:auto;bottom:auto;transform:translateX(-50%);width:100%;height:70px}.JoL-controls-container .JoL-multifunction-multiple-container:hover .multifunction-multiple-layer{animation:show .3s ease}.JoL-controls-container .JoL-multifunction-multiple-layer{list-style:none;line-height:normal;position:absolute;left:50%;top:auto;right:auto;bottom:65px;transform:translateX(-50%);border-radius:3px;background-color:rgba(0,0,0,.7)}.JoL-controls-container .JoL-multifunction-multiple-layer li{padding:10px 22px;cursor:pointer;font-size:14px;white-space:nowrap;display:flex}.JoL-controls-container .JoL-multifunction-multiple-layer li p{padding:0 3px}.JoL-controls-container .JoL-multifunction-multiple-layer li:hover{background:rgba(255,255,255,.2)}.JoL-controls-container .JoL-multifunction-multiple:hover{z-index:1000000000}.JoL-controls-container .JoL-multifunction-multiple:hover-layer{z-index:1000000000}.JoL-controls-container .JoL-multifunction-volume{padding:0 10px;position:relative;cursor:pointer}.JoL-controls-container .JoL-multifunction-volume:hover{z-index:1000000000}.JoL-controls-container .JoL-multifunction-volume:hover-layer{z-index:1000000000}.JoL-controls-container .JoL-multifunction-volume-container{width:100%;height:70px;position:absolute;left:50%;top:-12px;right:auto;bottom:0;transform:translateX(-50%)}.JoL-controls-container .JoL-multifunction-volume-container:hover .volume-box{animation:show .3s ease}.JoL-controls-container .JoL-multifunction-volume .volume-box{line-height:normal;position:absolute;bottom:65px;width:40px;height:120px;padding-bottom:8px;border-radius:3px;background-color:rgba(0,0,0,.7)}.JoL-controls-container .JoL-multifunction-volume .volume-box .current-volume{width:100%;height:24px;margin:0;line-height:24px;text-align:center}.JoL-controls-container .JoL-multifunction-volume .volume-box .current-volume:hover{cursor:default}.JoL-controls-container .JoL-multifunction-volume .volume-box .current-volume .volume-value{font-size:13px;font-style:normal}.JoL-controls-container .JoL-multifunction-volume .volume-box .volume-slider{width:100%;height:96px;display:flex;flex-direction:row;flex-wrap:wrap;justify-content:center;align-items:center}.JoL-controls-container .JoL-multifunction-volume .volume-box .volume-slider .volume-slider-bg{width:2px;height:86px;border-radius:1px;background-color:#fff;position:relative}.JoL-controls-container .JoL-multifunction-volume .volume-box .volume-slider .volume-slider-bg .volume-slider-op{width:100%;height:100%;position:absolute;left:0;top:auto;right:auto;bottom:0;z-index:1;border-radius:1px}.JoL-controls-container .JoL-multifunction-volume .volume-box .volume-slider .volume-slider-bg .volume-slider-op .volume-slider-op-circle{width:10px;height:10px;position:absolute;left:50%;top:calc(-10px / 2);right:auto;bottom:auto;margin-left:calc(-10px / 2);border-radius:50%}.JoL-controls-container .JoL-multifunction-volume .volume-box .volume-slider .volume-slider-bg .volume-slider-mirror{width:32px;height:calc(100% + 5px);position:absolute;left:-15px;top:auto;right:auto;bottom:0;z-index:2}.JoL-controls-container .JoL-multifunction-set{padding:0 10px;position:relative;cursor:pointer}.JoL-controls-container .JoL-multifunction-set-container{width:100%;height:70px;position:absolute;left:50%;top:-12px;right:auto;bottom:0;transition:all .5s;transform:translateX(-50%)}.JoL-controls-container .JoL-multifunction-set:hover{z-index:1000000000}.JoL-controls-container .JoL-multifunction-set:hover .hover-icon-rotateAnimate{animation:rotateAnimate .5s ease}.JoL-controls-container .JoL-multifunction-set:hover .JoL-multifunction-set-layer{animation:show .3s ease}.JoL-controls-container .JoL-multifunction-set-layer{line-height:normal;list-style:none;position:absolute;left:50%;top:auto;right:auto;bottom:65px;transform:translateX(-50%);border-radius:3px;background-color:rgba(0,0,0,.7);padding:8px 0}.JoL-controls-container .JoL-multifunction-set-layer li{padding:7px 22px;cursor:pointer;width:100%;white-space:nowrap}.JoL-controls-container .hover-icon-animate:hover{animation:scaleAnimate .5s ease}',""]),e.exports=t},function(e,t){e.exports=ka},function(e,t,n){var i=n(4),o=n(80);typeof(o=o.__esModule?o.default:o)=="string"&&(o=[[e.i,o,""]]);var l={insert:"head",singleton:!1};i(o,l),e.exports=o.locals||{}},function(e,t,n){(t=n(5)(!1)).push([e.i,"@keyframes show{0%{opacity:0}50%{opacity:.5}100%{opacity:1}}@keyframes scaleAnimate{50%{transform:scale(1.2)}100%{transform:scale(1)}}@keyframes rotateAnimate{0%{transform:rotate(270deg)}100%{transform:rotate(360deg)}}.JoL-player-container .leftTop{position:absolute;left:15px;top:15px;right:auto;bottom:auto}.JoL-player-container .rightTop{position:absolute;left:auto;top:15px;right:15px;bottom:auto}.JoL-player-container .leftBottom{position:absolute;left:15px;top:auto;right:auto;bottom:60px}.JoL-player-container .rightBottom{position:absolute;left:auto;top:auto;right:15px;bottom:60px}.JoL-player-container .center{position:absolute;left:50%;top:50%;right:auto;bottom:auto;transform:translate(-50%, -50%)}.JoL-player-container .jolPlayerToast{background-color:rgba(0,0,0,.7);z-index:10000;font-size:13px;color:#fff;font-weight:normal;padding:8px 10px;border-radius:2px;animation:show .3s ease}",""]),e.exports=t},function(e,t,n){var i=n(28),o=n(40),l=n(32),a=n(11),v=[].sort,h=[1,2,3];i(i.P+i.F*(a(function(){h.sort(void 0)})||!a(function(){h.sort(null)})||!n(82)(v)),"Array",{sort:function(T){return T===void 0?v.call(l(this)):v.call(l(this),o(T))}})},function(e,t,n){var i=n(11);e.exports=function(o,l){return!!o&&i(function(){l?o.call(null,function(){},1):o.call(null)})}},function(e,t,n){var i=n(4),o=n(84);typeof(o=o.__esModule?o.default:o)=="string"&&(o=[[e.i,o,""]]);var l={insert:"head",singleton:!1};i(o,l),e.exports=o.locals||{}},function(e,t,n){(t=n(5)(!1)).push([e.i,"@keyframes show{0%{opacity:0}50%{opacity:.5}100%{opacity:1}}@keyframes scaleAnimate{50%{transform:scale(1.2)}100%{transform:scale(1)}}@keyframes rotateAnimate{0%{transform:rotate(270deg)}100%{transform:rotate(360deg)}}.JoL-player-container .end{position:absolute;left:0;top:0;right:0;bottom:0;z-index:1300;cursor:default;background:rgba(0,0,0,.4)}.JoL-player-container .end .replay{position:absolute;left:50%;top:50%;right:0;bottom:0;transform:translate(-50%, -50%);display:flex;flex-direction:row;flex-wrap:wrap;justify-content:center;align-items:center;color:#fff;text-align:center;height:100px}.JoL-player-container .end .replay .cicle{width:65px;height:65px;background:rgba(0,0,0,.58);border-radius:50%;cursor:pointer;display:flex;flex-direction:row;flex-wrap:wrap;justify-content:center;align-items:center}.JoL-player-container .end .replay p{width:100%}",""]),e.exports=t},function(e,t,n){var i=n(4),o=n(86);typeof(o=o.__esModule?o.default:o)=="string"&&(o=[[e.i,o,""]]);var l={insert:"head",singleton:!1};i(o,l),e.exports=o.locals||{}},function(e,t,n){(t=n(5)(!1)).push([e.i,"@keyframes show{0%{opacity:0}50%{opacity:.5}100%{opacity:1}}@keyframes scaleAnimate{50%{transform:scale(1.2)}100%{transform:scale(1)}}@keyframes rotateAnimate{0%{transform:rotate(270deg)}100%{transform:rotate(360deg)}}.JoL-player-container .screenshot{width:280px;position:absolute;left:auto;top:auto;right:0;bottom:55px;background:#fff;padding:3px;overflow:hidden}.JoL-player-container .screenshot .img{height:155px;overflow:hidden;position:relative}.JoL-player-container .screenshot .img canvas{position:absolute;left:50%;top:50%;right:auto;bottom:auto;transform:translate(-50%, -50%)}.JoL-player-container .screenshot .close{position:absolute;left:auto;top:-24px;right:-24px;bottom:auto;width:0;height:0;z-index:1;border:26px solid transparent;border-left-color:#fff;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);border-radius:100%}.JoL-player-container .screenshot .close .icon{position:absolute;left:auto;top:-8px;right:5px;bottom:auto;transform:rotate(45deg);cursor:pointer}.JoL-player-container .screenshot .save{padding:10px;text-align:center;font-size:13px}",""]),e.exports=t},function(e,t,n){var i=n(4),o=n(88);typeof(o=o.__esModule?o.default:o)=="string"&&(o=[[e.i,o,""]]);var l={insert:"head",singleton:!1};i(o,l),e.exports=o.locals||{}},function(e,t,n){(t=n(5)(!1)).push([e.i,"@keyframes show{0%{opacity:0}50%{opacity:.5}100%{opacity:1}}@keyframes scaleAnimate{50%{transform:scale(1.2)}100%{transform:scale(1)}}@keyframes rotateAnimate{0%{transform:rotate(270deg)}100%{transform:rotate(360deg)}}.JoL-player-container .tp{top:0}.JoL-player-container .bt{bottom:0}.JoL-player-container .suspendedProgressBoard{transition:all .3s;animation:show .3s ease;width:100%;height:3px;background:rgba(255,255,255,.2);border-radius:2px;position:absolute}.JoL-player-container .suspendedProgressBoard .progressPlayed{width:0%;height:100%;position:absolute;left:0;top:0;right:auto;bottom:auto;z-index:2;border-radius:2px}",""]),e.exports=t},function(e,t,n){var i=n(4),o=n(90);typeof(o=o.__esModule?o.default:o)=="string"&&(o=[[e.i,o,""]]);var l={insert:"head",singleton:!1};i(o,l),e.exports=o.locals||{}},function(e,t,n){(t=n(5)(!1)).push([e.i,"@keyframes show{0%{opacity:0}50%{opacity:.5}100%{opacity:1}}@keyframes scaleAnimate{50%{transform:scale(1.2)}100%{transform:scale(1)}}@keyframes rotateAnimate{0%{transform:rotate(270deg)}100%{transform:rotate(360deg)}}.JoL-controller-container{width:100%;height:100%;position:absolute;left:50%;top:auto;right:auto;bottom:0;transform:translateX(-50%);z-index:3;cursor:pointer}.JoL-controller-container .JoL-click-to-play-or-pause{width:100%;height:calc(100% - 47px);position:absolute;left:0;top:0;right:auto;bottom:auto;z-index:101;outline:none}.JoL-controller-container .play-icon{display:inline-block;font-size:24px;color:#fff;font-weight:normal;width:40px;height:40px;position:absolute;left:auto;top:auto;right:30px;bottom:60px;z-index:100;line-height:40px;text-align:center;border-radius:30%;opacity:.7}.JoL-controller-container .JoL-progress-and-controls-wrap{width:calc(100% - 26px);position:absolute;left:50%;top:auto;right:auto;bottom:0;z-index:102;transform:translateX(-50%)}",""]),e.exports=t},function(e,t,n){var i=n(4),o=n(92);typeof(o=o.__esModule?o.default:o)=="string"&&(o=[[e.i,o,""]]);var l={insert:"head",singleton:!1};i(o,l),e.exports=o.locals||{}},function(e,t,n){(t=n(5)(!1)).push([e.i,'.JoL-player-container html,.JoL-player-container body,.JoL-player-container div,.JoL-player-container span,.JoL-player-container object,.JoL-player-container iframe,.JoL-player-container h1,.JoL-player-container h2,.JoL-player-container h3,.JoL-player-container h4,.JoL-player-container h5,.JoL-player-container h6,.JoL-player-container p,.JoL-player-container blockquote,.JoL-player-container pre,.JoL-player-container abbr,.JoL-player-container address,.JoL-player-container cite,.JoL-player-container code,.JoL-player-container del,.JoL-player-container dfn,.JoL-player-container em,.JoL-player-container img,.JoL-player-container ins,.JoL-player-container kbd,.JoL-player-container q,.JoL-player-container samp,.JoL-player-container small,.JoL-player-container strong,.JoL-player-container sub,.JoL-player-container sup,.JoL-player-container var,.JoL-player-container b,.JoL-player-container i,.JoL-player-container dl,.JoL-player-container dt,.JoL-player-container dd,.JoL-player-container ol,.JoL-player-container ul,.JoL-player-container li,.JoL-player-container fieldset,.JoL-player-container form,.JoL-player-container label,.JoL-player-container legend,.JoL-player-container table,.JoL-player-container caption,.JoL-player-container tbody,.JoL-player-container tfoot,.JoL-player-container thead,.JoL-player-container tr,.JoL-player-container th,.JoL-player-container td,.JoL-player-container article,.JoL-player-container aside,.JoL-player-container canvas,.JoL-player-container details,.JoL-player-container figcaption,.JoL-player-container figure,.JoL-player-container footer,.JoL-player-container header,.JoL-player-container hgroup,.JoL-player-container menu,.JoL-player-container nav,.JoL-player-container section,.JoL-player-container summary,.JoL-player-container time,.JoL-player-container mark,.JoL-player-container audio,.JoL-player-container video{margin:0;padding:0;border:0;outline:0;font-size:100%;vertical-align:baseline;background:transparent}.JoL-player-container body{line-height:1}.JoL-player-container :focus{outline:1}.JoL-player-container article,.JoL-player-container aside,.JoL-player-container canvas,.JoL-player-container details,.JoL-player-container figcaption,.JoL-player-container figure,.JoL-player-container footer,.JoL-player-container header,.JoL-player-container hgroup,.JoL-player-container menu,.JoL-player-container nav,.JoL-player-container section,.JoL-player-container summary{display:block}.JoL-player-container nav ul{list-style:none}.JoL-player-container blockquote,.JoL-player-container q{quotes:none}.JoL-player-container blockquote:before,.JoL-player-container blockquote:after,.JoL-player-container q:before,.JoL-player-container q:after{content:"";content:none}.JoL-player-container a{margin:0;padding:0;border:0;font-size:100%;vertical-align:baseline;background:transparent}.JoL-player-container ins{background-color:#ff9;color:#000;text-decoration:none}.JoL-player-container mark{background-color:#ff9;color:#000;font-style:italic;font-weight:bold}.JoL-player-container del{text-decoration:line-through}.JoL-player-container abbr[title],.JoL-player-container dfn[title]{border-bottom:1px dotted #000;cursor:help}.JoL-player-container table{border-collapse:collapse;border-spacing:0}.JoL-player-container hr{display:block;height:1px;border:0;border-top:1px solid #ccc;margin:1em 0;padding:0}.JoL-player-container input,.JoL-player-container select{vertical-align:middle}',""]),e.exports=t},function(e,t,n){var i=n(4),o=n(94);typeof(o=o.__esModule?o.default:o)=="string"&&(o=[[e.i,o,""]]);var l={insert:"head",singleton:!1};i(o,l),e.exports=o.locals||{}},function(e,t,n){(t=n(5)(!1)).push([e.i,"@keyframes show{0%{opacity:0}50%{opacity:.5}100%{opacity:1}}@keyframes scaleAnimate{50%{transform:scale(1.2)}100%{transform:scale(1)}}@keyframes rotateAnimate{0%{transform:rotate(270deg)}100%{transform:rotate(360deg)}}.JoL-player-container{-moz-user-select:none;-khtml-user-select:none;-webkit-user-select:none;user-select:none;margin:0;box-sizing:border-box;position:relative;z-index:100}.JoL-player-container .JoL-player{width:100%;height:100%;background-color:#000;object-fit:cover;position:absolute;left:0;top:0;right:auto;bottom:auto;z-index:1}.JoL-player-container .JoL-light-off-mask{width:100vw;height:100vh;position:fixed;left:0;top:0;right:auto;bottom:auto;z-index:0;background-color:rgba(0,0,0,.9);display:none}.JoL-player-container .video-no-useful-tip,.JoL-player-container .buffering-animation{width:100%;height:100px;position:fixed;left:0;top:50%;right:auto;bottom:auto;font-size:16px;color:#fff;font-weight:normal;margin-top:-50px;text-align:center;line-height:100px;z-index:99}.JoL-player-container .player-loading{position:absolute;left:50%;top:50%;right:auto;bottom:auto;z-index:30;transform:translate(-50%, -50%)}",""]),e.exports=t},function(e,t,n){var i={"./close.svg":96,"./closeFullScreen.svg":97,"./closeWebFullscreen.svg":98,"./fullScreen.svg":99,"./inPicture.svg":100,"./loading.svg":101,"./mute.svg":102,"./pause.svg":103,"./player.svg":104,"./replay.svg":105,"./screenshot.svg":106,"./screenshots.svg":107,"./set.svg":108,"./volume.svg":109,"./webFullscreen.svg":110};function o(a){var v=l(a);return n(v)}function l(a){if(!n.o(i,a)){var v=new Error("Cannot find module '"+a+"'");throw v.code="MODULE_NOT_FOUND",v}return i[a]}o.keys=function(){return Object.keys(i)},o.resolve=l,e.exports=o,o.id=95},function(e,t,n){n.r(t);var i=n(1),o=n.n(i),l=n(2),a=n.n(l),v=new o.a({id:"icon-close",use:"icon-close-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="icon-close"><defs><style type="text/css"></style></defs><path d="M783.36 195.2L512 466.56 240.64 195.2a32 32 0 0 0-45.44 45.44L466.56 512l-271.36 271.36a32 32 0 0 0 45.44 45.44L512 557.44l271.36 271.36a32 32 0 0 0 45.44-45.44L557.44 512l271.36-271.36a32 32 0 0 0-45.44-45.44z" p-id="6952" /></symbol>'});a.a.add(v),t.default=v},function(e,t,n){n.r(t);var i=n(1),o=n.n(i),l=n(2),a=n.n(l),v=new o.a({id:"icon-closeFullScreen",use:"icon-closeFullScreen-usage",viewBox:"0 0 18 18",content:`<symbol viewBox="0 0 18 18" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="icon-closeFullScreen">
    <title>icon_tcqp</title>
    <g id="icon-closeFullScreen_页面-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
        <g id="icon-closeFullScreen_iPhone-8" transform="translate(-253.000000, -61.000000)">
            <g id="icon-closeFullScreen_icon_tcqp" transform="translate(253.000000, 61.000000)">
                <rect id="icon-closeFullScreen_矩形备份" x="0" y="0" width="18" height="18" />
                <g transform="translate(1.000000, 1.000000)" fill="#FFFFFF" fill-rule="nonzero" id="icon-closeFullScreen_形状">
                    <path d="M6.1481867,5.15916634 L6.13112633,0.749707211 C6.12356793,0.409921405 5.84286357,0.205952741 5.50205199,0.198358355 L5.04484113,0.198358355 C4.70507332,0.190799961 4.43523865,0.486621108 4.44274306,0.826082983 L4.461837,3.22409148 L1.43637382,0.247145989 C1.10751169,-0.0823819964 0.575364753,-0.0823819964 0.24648463,0.247145989 C-0.0813697115,0.576727963 -0.0813697115,1.10928881 0.24648463,1.43914073 L3.24419771,4.40644027 L0.946139975,4.41565431 C0.606372165,4.40707014 0.291187132,4.64251411 0.23961009,5.04370287 L0.23961009,5.4770508 C0.248194266,5.81748447 0.528934618,6.09896266 0.868702428,6.10641308 L5.25663813,6.08053458 C5.26315274,6.08116444 5.2675798,6.08361192 5.27333858,6.08361192 L5.5810732,6.09041448 C5.7509751,6.09448161 5.90320475,6.02802173 6.01159572,5.91777716 C6.12180431,5.80830642 6.16243967,5.65539291 6.15792263,5.48446522 L6.1251516,5.17604675 C6.12516959,5.17001803 6.14800674,5.1659329 6.14800674,5.15904037 L6.1481867,5.15916634 Z M12.7278767,11.5673528 L15.0228211,11.5581388 C15.3625889,11.5657151 15.6771081,11.3568875 15.729351,10.9557347 L15.729351,10.5224408 C15.7207488,10.1819172 15.4390007,9.90052895 15.1002587,9.89190878 L10.768543,9.9181472 C10.7617405,9.9181472 10.7576553,9.91542978 10.7511407,9.91542978 L10.44409,9.90787139 C10.2741881,9.90380425 10.1210586,9.97030012 10.0125416,10.0808326 C9.9017032,10.1893496 9.86207562,10.342839 9.8654589,10.5137667 L9.89930971,10.8215013 C9.89990358,10.8290597 9.87710242,10.8333967 9.87710242,10.8392455 L9.89484665,15.1807871 C9.90343083,15.5202489 10.1841892,15.7235877 10.523939,15.7310381 L10.9561532,15.731704 C11.2949672,15.7394963 11.5657556,15.4427754 11.5572794,15.1028996 L11.5381675,12.7564142 L14.5636307,15.7528135 C14.8925288,16.0823955 15.4240099,16.0823955 15.752908,15.7528135 C16.0814282,15.4233035 16.0814282,14.8906887 15.752908,14.5611427 L12.7278407,11.5671908 L12.7278767,11.5673528 Z M6.01136177,10.0809406 C5.90288082,9.97044409 5.74967937,9.90396622 5.58083925,9.90799736 L5.27303265,9.91555575 C5.26680597,9.91555575 5.26284681,9.91827318 5.25597227,9.91827318 L0.868324508,9.89203475 C0.528538702,9.90063692 0.247402435,10.1819891 0.239250167,10.5225128 L0.239250167,10.9558247 C0.290413296,11.3569955 0.605598329,11.5657511 0.944808258,11.5582287 L3.26915841,11.5657871 L0.24610671,14.559811 C-0.08203557,14.8883312 -0.08203557,15.4219358 0.24610671,15.7514818 C0.574644906,16.0810638 1.10713377,16.0810638 1.43568996,15.7514818 L4.46151307,12.7745903 L4.44209519,15.1354187 C4.4345368,15.4759423 4.70446145,15.7727173 5.04359939,15.7641691 L5.50081025,15.7641691 C5.84160384,15.7555849 6.12239818,15.5533799 6.12988459,15.2128203 L6.14764682,10.8388496 C6.14764682,10.8326229 6.12484566,10.8285738 6.12484566,10.8217712 L6.1576167,10.5139646 C6.16132391,10.3430909 6.12175032,10.1895835 6.01155973,10.0811026 L6.01136177,10.0809406 Z M10.0144672,5.918497 C10.1229842,6.02868759 10.2761496,6.09520146 10.4457456,6.09041448 L10.7527604,6.08361192 C10.7595629,6.08361192 10.763702,6.08123643 10.7705046,6.08019265 L15.1649909,6.10641308 C15.5047587,6.09860274 15.7855351,5.81707055 15.7940653,5.47665488 L15.795109,5.04334295 C15.7429561,4.64147033 15.4272852,4.40708813 15.0885791,4.41457454 L12.7567606,4.40537849 L15.752818,1.43793498 C16.082328,1.10977471 16.082328,0.577177868 15.7537898,0.24761389 C15.4248917,-0.0819140958 14.8934106,-0.0819140958 14.5645305,0.24761389 L11.5390673,3.24302346 L11.5584852,0.82656888 C11.5666554,0.487107005 11.295777,0.190314064 10.956981,0.197800474 L10.5247668,0.197800474 C10.184981,0.20638465 9.90418667,0.409669458 9.89567448,0.749149329 L9.87827218,5.15956225 C9.87827218,5.16636481 9.90078539,5.17050393 9.90078539,5.17662263 L9.8673305,5.4850411 C9.86387523,5.65598678 9.90344883,5.80881031 10.0144133,5.91835303 L10.0144672,5.918497 Z" />
                </g>
            </g>
        </g>
    </g>
</symbol>`});a.a.add(v),t.default=v},function(e,t,n){n.r(t);var i=n(1),o=n.n(i),l=n(2),a=n.n(l),v=new o.a({id:"icon-closeWebFullscreen",use:"icon-closeWebFullscreen-usage",viewBox:"0 0 18 18",content:`<symbol viewBox="0 0 18 18" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="icon-closeWebFullscreen">
    <title>icon_tcqp</title>
    <g id="icon-closeWebFullscreen_页面-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
        <g id="icon-closeWebFullscreen_iPhone-8" transform="translate(-78.000000, -21.000000)">
            <g id="icon-closeWebFullscreen_icon_tcqp" transform="translate(78.000000, 21.000000)">
                <rect id="icon-closeWebFullscreen_矩形备份-10" x="0" y="0" width="18" height="18" />
                <g id="icon-closeWebFullscreen_icon_wyqp" transform="translate(1.000000, 1.000000)" fill="#FFFFFF">
                    <path d="M0,14.3998594 L0,1.59990625 C0,0.71621875 0.71640625,0 1.60007812,0 L14.4000312,0 C15.2837187,0 15.9999375,0.71621875 15.9999375,1.59990625 L15.9999375,14.3998906 C15.9999375,15.2835781 15.2837187,16 14.4000312,16 L1.60007812,16 C0.716421875,16 0,15.2835469 0,14.3998594 Z M13.967076,1.66 L2.03308428,1.66 C1.76927393,1.66 1.66,1.76925936 1.66,2.0328949 L1.66,13.9669157 C1.66,14.2307406 1.76927393,14.34 2.03308428,14.34 L14.34,14.34 L14.34,2.0328949 C14.34,1.76924479 14.2307552,1.66 13.967076,1.66 Z" id="icon-closeWebFullscreen_形状" fill-rule="nonzero" />
                    <path d="M6.2,9 C6.28000001,9 6.44,9 6.52000001,9.08000001 C6.60000001,9.08000001 6.68000002,9.15999999 6.76000001,9.24 C6.84,9.32000001 6.92,9.39999999 6.92,9.48 C7.00000001,9.56000001 7.00000001,9.72 7.00000001,9.80000001 L7.00000001,9.80000001 L7.00000001,12.4 C7.00000001,12.88 6.68,13.2 6.2,13.2 C5.72,13.2 5.4,12.88 5.4,12.4 L5.4,12.4 L5.4,10.6 L3.60000001,10.6 C3.12000001,10.6 2.8,10.28 2.8,9.80000001 C2.8,9.32000001 3.12000001,9 3.60000001,9 L3.60000001,9 Z M12.4,9 C12.88,9 13.2,9.32000001 13.2,9.80000001 C13.2,10.28 12.88,10.6 12.4,10.6 L10.6,10.6 L10.6,12.4 C10.6,12.88 10.28,13.2 9.80000001,13.2 C9.32000001,13.2 9,12.88 9,12.4 L9,9.80000001 C9,9.72 9,9.56000001 9.08000001,9.48 C9.08000001,9.39999999 9.16000001,9.32000001 9.24,9.24 C9.31999999,9.15999999 9.39999999,9.08000001 9.48,9.08000001 C9.56000001,9 9.72,9 9.80000001,9 L12.4,9 Z M6.2,2.8 C6.68,2.8 7.00000001,3.12000001 7.00000001,3.60000001 L7.00000001,6.2 C7.00000001,6.28000001 7.00000001,6.44 6.92,6.52000001 C6.92,6.60000002 6.84,6.68 6.76000001,6.76000001 C6.68000002,6.84000001 6.60000001,6.92 6.52000001,6.92 C6.44,7.00000001 6.28000001,7.00000001 6.2,7.00000001 L3.60000001,7.00000001 C3.12000001,7.00000001 2.8,6.68 2.8,6.2 C2.8,5.72 3.12000001,5.4 3.60000001,5.4 L5.4,5.4 L5.4,3.60000001 C5.4,3.12000001 5.72,2.8 6.2,2.8 Z M9.80000001,2.8 C10.28,2.8 10.6,3.12000001 10.6,3.60000001 L10.6,3.60000001 L10.6,5.4 L12.4,5.4 C12.88,5.4 13.2,5.72 13.2,6.2 C13.2,6.68 12.88,7.00000001 12.4,7.00000001 L12.4,7.00000001 L9.80000001,7.00000001 C9.72,7.00000001 9.56000001,7.00000001 9.48,6.92 C9.39999999,6.92 9.31999999,6.84000001 9.24,6.76000001 C9.16000001,6.68 9.08000001,6.60000002 9.08000001,6.52000001 C9,6.44 9,6.28000001 9,6.2 L9,6.2 L9,3.60000001 C9,3.12000001 9.32000001,2.8 9.80000001,2.8 Z" id="icon-closeWebFullscreen_形状结合" />
                </g>
            </g>
        </g>
    </g>
</symbol>`});a.a.add(v),t.default=v},function(e,t,n){n.r(t);var i=n(1),o=n.n(i),l=n(2),a=n.n(l),v=new o.a({id:"icon-fullScreen",use:"icon-fullScreen-usage",viewBox:"0 0 18 18",content:`<symbol viewBox="0 0 18 18" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="icon-fullScreen">
    <title>icon_qp</title>
    <g id="icon-fullScreen_页面-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
        <g id="icon-fullScreen_iPhone-8" transform="translate(-218.000000, -61.000000)">
            <g id="icon-fullScreen_icon_qp" transform="translate(218.000000, 61.000000)">
                <rect id="icon-fullScreen_矩形" x="0" y="0" width="18" height="18" />
                <g transform="translate(1.000000, 1.000000)" fill="#FFFFFF" fill-rule="nonzero" id="icon-fullScreen_形状">
                    <path d="M15.2,16 L11.6,16 C11.12,16 10.8,15.68 10.8,15.2 C10.8,14.72 11.12,14.4 11.6,14.4 L13.28,14.4 L10.16,11.28 C9.83999999,10.96 9.83999999,10.48 10.16,10.16 C10.48,9.84000001 10.96,9.83999999 11.28,10.16 L14.4,13.28 L14.4,11.6 C14.4,11.12 14.72,10.8 15.2,10.8 C15.68,10.8 16,11.12 16,11.6 L16,15.2 C16,15.28 16,15.44 15.92,15.52 C15.92,15.6 15.84,15.68 15.76,15.76 C15.68,15.84 15.6,15.92 15.52,15.92 C15.44,16 15.28,16 15.2,16 Z M4.4,16 L0.800000006,16 C0.719999999,16 0.560000006,16 0.48,15.92 C0.399999993,15.92 0.320000006,15.84 0.24,15.76 C0.159999994,15.68 0.0800000062,15.6 0.0800000062,15.52 C0,15.44 0,15.28 0,15.2 L0,11.6 C0,11.12 0.320000006,10.8 0.800000006,10.8 C1.28000001,10.8 1.60000001,11.12 1.60000001,11.6 L1.60000001,13.28 L4.72000001,10.16 C5.04000001,9.83999999 5.52000001,9.83999999 5.84,10.16 C6.15999999,10.48 6.16000001,10.96 5.84,11.28 L2.72,14.4 L4.4,14.4 C4.88,14.4 5.20000001,14.72 5.20000001,15.2 C5.20000001,15.68 4.88,16 4.4,16 Z M10.72,6.08 C10.48,6.08 10.32,6 10.16,5.84 C9.83999999,5.52 9.83999999,5.04 10.16,4.72000001 L13.28,1.60000001 L11.6,1.60000001 C11.12,1.60000001 10.8,1.28000001 10.8,0.800000006 C10.8,0.320000006 11.12,-4.4408921e-16 11.6,-4.4408921e-16 L15.2,-4.4408921e-16 C15.28,-4.4408921e-16 15.44,-4.4408921e-16 15.52,0.0800000062 C15.6,0.0800000062 15.68,0.160000012 15.76,0.24 C15.84,0.319999987 15.92,0.399999993 15.92,0.48 C16,0.560000006 16,0.719999999 16,0.800000006 L16,4.4 C16,4.88 15.68,5.20000001 15.2,5.20000001 C14.72,5.20000001 14.4,4.88 14.4,4.4 L14.4,2.72 L11.28,5.84 C11.12,6 10.88,6.08 10.72,6.08 L10.72,6.08 Z M5.28,6.08 C5.04,6.08 4.88,6 4.72000001,5.84 L1.60000001,2.72 L1.60000001,4.4 C1.60000001,4.88 1.28000001,5.20000001 0.800000006,5.20000001 C0.320000006,5.20000001 0,4.88 0,4.4 L0,0.800000006 C0,0.719999999 0,0.560000006 0.0800000062,0.48 C0.0800000062,0.399999993 0.160000012,0.320000006 0.24,0.24 C0.319999987,0.159999994 0.399999993,0.0800000062 0.48,0.0800000062 C0.560000006,-4.4408921e-16 0.719999999,-4.4408921e-16 0.800000006,-4.4408921e-16 L4.4,-4.4408921e-16 C4.88,-4.4408921e-16 5.20000001,0.320000006 5.20000001,0.800000006 C5.20000001,1.28000001 4.88,1.60000001 4.4,1.60000001 L2.72,1.60000001 L5.84,4.72000001 C6.16000001,5.04000001 6.16000001,5.52000001 5.84,5.84 C5.68000001,6 5.52,6.08 5.28,6.08 L5.28,6.08 Z" />
                </g>
            </g>
        </g>
    </g>
</symbol>`});a.a.add(v),t.default=v},function(e,t,n){n.r(t);var i=n(1),o=n.n(i),l=n(2),a=n.n(l),v=new o.a({id:"icon-inPicture",use:"icon-inPicture-usage",viewBox:"0 0 18 18",content:`<symbol viewBox="0 0 18 18" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="icon-inPicture">
    <title>icon_hzh</title>
    <g id="icon-inPicture_页面-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
        <g id="icon-inPicture_iPhone-8" transform="translate(-288.000000, -61.000000)">
            <g id="icon-inPicture_icon_yhzh" transform="translate(288.000000, 61.000000)">
                <rect id="icon-inPicture_矩形备份-6" x="0" y="0" width="18" height="18" />
                <g transform="translate(0.000000, 1.500000)" fill="#FFFFFF">
                    <path d="M14,0 C15.1045695,-2.02906125e-16 16,0.8954305 16,2 L16,7.659 L14.34,7.659 L14.34,2.66 C14.34,2.14716416 13.9539598,1.72449284 13.4566211,1.66672773 L13.34,1.66 L2.66,1.66 C2.10771525,1.66 1.66,2.10771525 1.66,2.66 L1.66,2.66 L1.66,10.34 C1.66,10.8922847 2.10771525,11.34 2.66,11.34 L2.66,11.34 L7.659,11.34 L7.659,13 L2,13 C0.8954305,13 1.3527075e-16,12.1045695 0,11 L0,2 C-1.3527075e-16,0.8954305 0.8954305,2.02906125e-16 2,0 L14,0 Z" id="icon-inPicture_形状结合" />
                    <rect id="icon-inPicture_矩形" x="8.87" y="8.87" width="9.13" height="6.13" rx="1.5" />
                </g>
            </g>
        </g>
    </g>
</symbol>`});a.a.add(v),t.default=v},function(e,t,n){n.r(t);var i=n(1),o=n.n(i),l=n(2),a=n.n(l),v=new o.a({id:"icon-loading",use:"icon-loading-usage",viewBox:"0 0 100 100",content:`<symbol xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 100 100" id="icon-loading">\r
 <path d="M31.6,3.5C5.9,13.6-6.6,42.7,3.5,68.4c10.1,25.7,39.2,38.3,64.9,28.1l-3.1-7.9c-21.3,8.4-45.4-2-53.8-23.3\r
  c-8.4-21.3,2-45.4,23.3-53.8L31.6,3.5z">\r
      <animateTransform attributeName="transform" attributeType="XML" type="rotate" dur="2s" from="0 50 50" to="360 50 50" repeatCount="indefinite" />\r
  </path>\r
 <path d="M42.3,39.6c5.7-4.3,13.9-3.1,18.1,2.7c4.3,5.7,3.1,13.9-2.7,18.1l4.1,5.5c8.8-6.5,10.6-19,4.1-27.7\r
  c-6.5-8.8-19-10.6-27.7-4.1L42.3,39.6z">\r
      <animateTransform attributeName="transform" attributeType="XML" type="rotate" dur="1s" from="0 50 50" to="-360 50 50" repeatCount="indefinite" />\r
  </path>\r
 <path d="M82,35.7C74.1,18,53.4,10.1,35.7,18S10.1,46.6,18,64.3l7.6-3.4c-6-13.5,0-29.3,13.5-35.3s29.3,0,35.3,13.5\r
  L82,35.7z">\r
      <animateTransform attributeName="transform" attributeType="XML" type="rotate" dur="2s" from="0 50 50" to="360 50 50" repeatCount="indefinite" />\r
  </path>\r
</symbol>`});a.a.add(v),t.default=v},function(e,t,n){n.r(t);var i=n(1),o=n.n(i),l=n(2),a=n.n(l),v=new o.a({id:"icon-mute",use:"icon-mute-usage",viewBox:"0 0 18 18",content:`<symbol viewBox="0 0 18 18" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="icon-mute">
    <title>icon_gbyl</title>
    <g id="icon-mute_页面-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
        <g id="icon-mute_iPhone-8" transform="translate(-148.000000, -61.000000)">
            <g id="icon-mute_icon_gbyl" transform="translate(148.000000, 61.000000)">
                <rect id="icon-mute_矩形备份-4" x="0" y="0" width="18" height="18" />
                <g transform="translate(1.000000, 1.000000)" fill="#FFFFFF" fill-rule="nonzero">
                    <path d="M1.882,4.284 L3.482,5.884 L1.6001084,5.88493423 L1.6001084,10.117221 L3.99307054,10.117221 L9.07981515,14.1814963 L9.079,11.481 L10.68,13.082 L10.6807236,14.575923 C10.6807236,15.1087591 10.391104,15.5927919 9.92467239,15.8392086 C9.46072422,16.0846014 8.89795239,16.0468149 8.4709739,15.741602 L8.47017385,15.7424021 L3.43223254,11.7181294 L1.40329508,11.7181294 C0.629642666,11.7181294 0,11.0780861 0,10.2940329 L0,5.70812225 C0,4.92246902 0.629642651,4.28402578 1.40329508,4.28402576 L1.882,4.284 Z M13.6873273,3.4535695 C16.3950119,6.33895693 16.7255697,9.3563042 14.6790005,12.2744527 L13.5283797,11.1240388 C14.9637376,8.91769099 14.6278938,6.79375844 12.5208483,4.54884371 C12.3162543,4.34126159 12.2400166,4.03972533 12.321746,3.76055187 C12.4034753,3.48137841 12.630292,3.26856277 12.9141001,3.20476276 C13.1979083,3.14096275 13.4939825,3.23623264 13.6873273,3.4535695 Z M9.92467239,0.161346456 C10.391104,0.406963098 10.6807236,0.891795943 10.6807236,1.42463204 L10.68,8.277 L9.079,6.676 L9.07981515,1.82465915 L6.397,3.994 L5.258,2.855 L8.4709739,0.258953072 C8.89768882,-0.0469951052 9.46088713,-0.0848102934 9.92467239,0.161346456 Z" id="icon-mute_形状结合" />
                    <path d="M2.1728,1.0356 L14.9648,13.8276 C15.27499,14.1422606 15.2731354,14.6482675 14.9606472,14.9606458 C14.6481589,15.2730241 14.1421514,15.2747007 13.8276,14.9644 L1.0356,2.1724 C0.73932756,1.8557529 0.747545194,1.36120328 1.05417424,1.05457424 C1.36080328,0.747945194 1.8553529,0.73972756 2.172,1.036 L2.1728,1.0356 Z" id="icon-mute_路径备份" />
                </g>
            </g>
        </g>
    </g>
</symbol>`});a.a.add(v),t.default=v},function(e,t,n){n.r(t);var i=n(1),o=n.n(i),l=n(2),a=n.n(l),v=new o.a({id:"icon-pause",use:"icon-pause-usage",viewBox:"0 0 18 18",content:`<symbol viewBox="0 0 18 18" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="icon-pause">
    <title>icon_bf</title>
    <g id="icon-pause_页面-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
        <g id="icon-pause_iPhone-8" transform="translate(-113.000000, -109.000000)">
            <g id="icon-pause_icon_bf" transform="translate(113.000000, 109.000000)">
                <rect id="icon-pause_矩形备份-10" x="0" y="0" width="18" height="18" />
                <g transform="translate(3.000000, 1.000000)" fill="#FFFFFF" fill-rule="nonzero" id="icon-pause_形状">
                    <path d="M9.73026169,0 C8.81413554,0 8.01252516,0.799821069 8.01252516,1.71415791 L8.01252516,14.2858421 C8.01252516,15.2001789 8.81413554,16 9.73026169,16 C10.6463878,16 11.4479982,15.2001789 11.4479982,14.2858421 L11.4479982,1.71415791 C11.4479982,0.799821069 10.6463878,0 9.73026169,0 Z M1.71773652,0 C0.801610378,0 -6.50946778e-16,0.799821069 -6.50946778e-16,1.71415791 L-6.50946778e-16,14.2858421 C-6.50946778e-16,15.2001789 0.801610378,16 1.71773652,16 C2.63386267,16 3.43547305,15.2001789 3.43547305,14.2858421 L3.43547305,1.71415791 C3.43368374,0.799821069 2.63207336,0 1.71773652,0 Z" />
                </g>
            </g>
        </g>
    </g>
</symbol>`});a.a.add(v),t.default=v},function(e,t,n){n.r(t);var i=n(1),o=n.n(i),l=n(2),a=n.n(l),v=new o.a({id:"icon-player",use:"icon-player-usage",viewBox:"0 0 18 18",content:`<symbol viewBox="0 0 18 18" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="icon-player">
    <title>icon_zt</title>
    <g id="icon-player_页面-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
        <g id="icon-player_iPhone-8" transform="translate(-78.000000, -109.000000)">
            <g id="icon-player_icon_zt" transform="translate(78.000000, 109.000000)">
                <rect id="icon-player_矩形备份-10" x="0" y="0" width="18" height="18" />
                <g transform="translate(3.000000, 1.000000)" fill="#FFFFFF" fill-rule="nonzero" id="icon-player_路径">
                    <path d="M0.992369212,15.8990308 C0.481836467,15.7736376 0.0929717158,15.3594445 6.48386882e-16,14.8420245 L6.48386882e-16,1.15417331 C0.0879382032,0.631910584 0.478007891,0.211950496 0.992369212,0.0857604795 C1.54075549,-0.0899263394 2.14010986,0.00761010376 2.6044939,0.348110961 L11.729728,7.19203656 C12.0075567,7.3666885 12.176164,7.67183527 12.176164,8 C12.176164,8.32816473 12.0075567,8.6333115 11.729728,8.80796344 L2.6044939,15.651889 C2.14010986,15.9923899 1.54075549,16.0899263 0.992369212,15.9142395 L0.992369212,15.8990308 Z" />
                </g>
            </g>
        </g>
    </g>
</symbol>`});a.a.add(v),t.default=v},function(e,t,n){n.r(t);var i=n(1),o=n.n(i),l=n(2),a=n.n(l),v=new o.a({id:"icon-replay",use:"icon-replay-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="icon-replay"><defs><style type="text/css"></style></defs><path d="M874.144 262.56C735.232 79.104 471.264 41.6 285.76 178.912c-60.16 44.544-106.784 104.352-135.584 172.224l-21.696-73.92c-4.992-16.96-22.752-26.752-39.712-21.696C71.808 260.512 62.08 278.304 67.072 295.264l47.456 161.76C118.624 470.944 131.36 480 145.216 480c2.976 0 22.72-5.76 25.824-6.912l161.248-59.264c16.576-6.08 25.088-24.48 18.976-41.088-6.08-16.576-24.384-25.056-41.088-18.976l-107.968 39.68c23.424-64.576 65.568-121.632 121.6-163.104 157.376-116.576 381.376-84.768 499.296 70.848 56.832 75.008 80.8 167.456 67.488 260.256-13.376 93.28-62.784 175.712-139.072 232.192-157.536 116.512-381.568 84.736-499.392-70.72-10.688-14.112-30.72-16.864-44.832-6.176-14.08 10.656-16.832 30.752-6.176 44.8 82.464 108.832 208.992 166.24 337.024 166.24 87.68 0 176.032-26.912 251.456-82.72 90.144-66.72 148.512-164.224 164.352-274.528C969.792 460.704 941.44 351.328 874.144 262.56z" p-id="1472" /></symbol>'});a.a.add(v),t.default=v},function(e,t,n){n.r(t);var i=n(1),o=n.n(i),l=n(2),a=n.n(l),v=new o.a({id:"icon-screenshot",use:"icon-screenshot-usage",viewBox:"0 0 1024 1024",content:`<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="icon-screenshot"><defs><style type="text/css">@font-face { font-family: feedback-iconfont; src: url("//at.alicdn.com/t/font_1031158_1uhr8ri0pk5.eot?#iefix") format("embedded-opentype"), url("//at.alicdn.com/t/font_1031158_1uhr8ri0pk5.woff2") format("woff2"), url("//at.alicdn.com/t/font_1031158_1uhr8ri0pk5.woff") format("woff"), url("//at.alicdn.com/t/font_1031158_1uhr8ri0pk5.ttf") format("truetype"), url("//at.alicdn.com/t/font_1031158_1uhr8ri0pk5.svg#iconfont") format("svg"); }
</style></defs><path d="M512 384c55.6 0 107.8 21.6 147.1 60.9S720 536.4 720 592s-21.6 107.8-60.9 147.1S567.6 800 512 800s-107.8-21.6-147.1-60.9S304 647.6 304 592s21.6-107.8 60.9-147.1S456.4 384 512 384z m0-64c-150.2 0-272 121.8-272 272s121.8 272 272 272 272-121.8 272-272-121.8-272-272-272z" p-id="3304" /><path d="M650.9 128l4.4 23.6C666.7 212.1 719.6 256 781.1 256H896c35.3 0 64 28.7 64 64v512c0 35.3-28.7 64-64 64H128c-35.3 0-64-28.7-64-64V320c0-35.3 28.7-64 64-64h114.9c61.6 0 114.5-43.9 125.8-104.4l4.4-23.6h277.8z m39.8-64H333.3c-7.7 0-14.3 5.5-15.7 13.1l-11.8 62.7c-5.7 30.3-32.1 52.2-62.9 52.2H128C57.3 192 0 249.3 0 320v512c0 70.7 57.3 128 128 128h768c70.7 0 128-57.3 128-128V320c0-70.7-57.3-128-128-128H781.1c-30.8 0-57.2-21.9-62.9-52.2l-11.8-62.7c-1.4-7.6-8-13.1-15.7-13.1z" p-id="3305" /><path d="M224 352h-64c-17.7 0-32-14.3-32-32s14.3-32 32-32h64c17.7 0 32 14.3 32 32s-14.3 32-32 32zM512 560c17.6 0 32 14.4 32 32s-14.4 32-32 32-32-14.4-32-32 14.4-32 32-32z m0-64c-53 0-96 43-96 96s43 96 96 96 96-43 96-96-43-96-96-96z" p-id="3306" /></symbol>`});a.a.add(v),t.default=v},function(e,t,n){n.r(t);var i=n(1),o=n.n(i),l=n(2),a=n.n(l),v=new o.a({id:"icon-screenshots",use:"icon-screenshots-usage",viewBox:"0 0 18 18",content:`<symbol viewBox="0 0 18 18" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="icon-screenshots">
    <title>icon_xj</title>
    <g id="icon-screenshots_页面-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
        <g id="icon-screenshots_iPhone-8" transform="translate(-148.000000, -109.000000)">
            <g id="icon-screenshots_icon_xj" transform="translate(148.000000, 110.000000)">
                <path d="M11.0584816,0.83 C11.3102833,0.83 11.5479599,0.910563303 11.7425926,1.05084664 C11.9372253,1.19112998 12.0888143,1.39113336 12.168441,1.63001351 L12.168441,1.63001351 L12.7630014,3.41369464 L15.9529961,3.8309214 C16.2946546,3.81754316 16.6053644,3.95073452 16.8273149,4.17268507 C17.0390433,4.38441342 17.17,4.67691342 17.17,5 L17.17,5 L17.17,13 C17.17,13.3230866 17.0390433,13.6155866 16.8273149,13.8273149 C16.6155866,14.0390433 16.3230866,14.17 16,14.17 L16,14.17 L2,14.17 C1.67691342,14.17 1.38441342,14.0390433 1.17268507,13.8273149 C0.960956711,13.6155866 0.83,13.3230866 0.83,13 L0.83,13 L0.83,5 C0.83,4.67691342 0.960956711,4.38441342 1.17268507,4.17268507 C1.38441342,3.96095671 1.67691342,3.83 2,3.83 L2,3.83 L4.62862034,3.83 L5.81227593,1.69379445 C5.88490856,1.42670035 6.04569254,1.20344209 6.25740741,1.05084664 C6.45204015,0.910563303 6.68971665,0.83 6.94151844,0.83 L6.94151844,0.83 Z" id="icon-screenshots_路径-2" stroke="#FFFFFF" stroke-width="1.66" />
                <circle id="icon-screenshots_椭圆形" stroke="#FFFFFF" stroke-width="1.66" cx="9" cy="8" r="2.17" />
                <circle id="icon-screenshots_椭圆形备份" fill="#FFFFFF" cx="14" cy="6" r="1" />
            </g>
        </g>
    </g>
</symbol>`});a.a.add(v),t.default=v},function(e,t,n){n.r(t);var i=n(1),o=n.n(i),l=n(2),a=n.n(l),v=new o.a({id:"icon-set",use:"icon-set-usage",viewBox:"0 0 18 18",content:`<symbol viewBox="0 0 18 18" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="icon-set">
    <title>icon_sz</title>
    <g id="icon-set_页面-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
        <g id="icon-set_iPhone-8" transform="translate(-183.000000, -61.000000)">
            <g id="icon-set_icon_sz" transform="translate(183.000000, 61.000000)">
                <rect id="icon-set_矩形备份-3" x="0" y="0" width="18" height="18" />
                <g transform="translate(1.000000, 1.000000)" fill="#FFFFFF" fill-rule="nonzero" id="icon-set_形状">
                    <path d="M16,8.67446429 L16,7.32553571 C16,7.05316061 15.8077928,6.81863218 15.5407143,6.76517857 L13.7980357,6.41660714 C13.6014036,6.37680161 13.4398445,6.23718097 13.3719643,6.04839286 C13.3144643,5.88958333 13.25,5.73410714 13.1785714,5.58196429 C13.0929015,5.40035722 13.1083407,5.18718828 13.2192857,5.01982143 L14.2051786,3.54107143 C14.3562861,3.31441428 14.3263893,3.01260596 14.13375,2.82 L13.18,1.86625 C12.987394,1.67361075 12.6855857,1.64371394 12.4589286,1.79482143 L10.9801786,2.78071429 C10.8128117,2.8916593 10.5996428,2.90709848 10.4180357,2.82142857 C10.2660119,2.75 10.1104762,2.68559524 9.95142857,2.62821429 C9.76264046,2.56033408 9.62301981,2.39877498 9.58321429,2.20214286 L9.23464286,0.459285714 C9.18120242,0.192273064 8.94677226,0 8.67446429,0 L7.32553571,0 C7.05316061,0 6.81863218,0.192207246 6.76517857,0.459285714 L6.41660714,2.20196429 C6.37680161,2.39859641 6.23718097,2.56015551 6.04839286,2.62803571 C5.88958333,2.68553571 5.73410714,2.75 5.58196429,2.82142857 C5.40035722,2.90709848 5.18718828,2.8916593 5.01982143,2.78071429 L3.54107143,1.79482143 C3.31441428,1.64371394 3.01260596,1.67361075 2.82,1.86625 L1.86625,2.82 C1.67361075,3.01260596 1.64371394,3.31441428 1.79482143,3.54107143 L2.78071429,5.01982143 C2.8916593,5.18718828 2.90709848,5.40035722 2.82142857,5.58196429 C2.75,5.7339881 2.68559524,5.88952381 2.62821429,6.04857143 C2.56033408,6.23735954 2.39877498,6.37698019 2.20214286,6.41678571 L0.459285714,6.76535714 C0.192273064,6.81879758 0,7.05322774 0,7.32553571 L0,8.67428571 C0,8.94666082 0.192207246,9.18118924 0.459285714,9.23464286 L2.20196429,9.58321429 C2.39859641,9.62301981 2.56015551,9.76264046 2.62803571,9.95142857 C2.68553571,10.1103571 2.75,10.2658929 2.82142857,10.4180357 C2.90709848,10.5996428 2.8916593,10.8128117 2.78071429,10.9801786 L1.79482143,12.4589286 C1.64371394,12.6855857 1.67361075,12.987394 1.86625,13.18 L2.82,14.13375 C3.01260596,14.3263893 3.31441428,14.3562861 3.54107143,14.2051786 L5.01982143,13.2192857 C5.18718828,13.1083407 5.40035722,13.0929015 5.58196429,13.1785714 C5.7339881,13.25 5.88952381,13.3144048 6.04857143,13.3717857 C6.23735954,13.4396659 6.37698019,13.601225 6.41678571,13.7978571 L6.76535714,15.5405357 C6.81872326,15.8076194 7.05317271,16 7.32553571,16 L8.67428571,16 C8.94666082,16 9.18118924,15.8077928 9.23464286,15.5407143 L9.58321429,13.7980357 C9.62301981,13.6014036 9.76264046,13.4398445 9.95142857,13.3719643 C10.1103571,13.3144643 10.2658929,13.25 10.4180357,13.1785714 C10.5996428,13.0929015 10.8128117,13.1083407 10.9801786,13.2192857 L12.4589286,14.2051786 C12.6855857,14.3562861 12.987394,14.3263893 13.18,14.13375 L14.13375,13.18 C14.3263893,12.987394 14.3562861,12.6855857 14.2051786,12.4589286 L13.2192857,10.9801786 C13.1083407,10.8128117 13.0929015,10.5996428 13.1785714,10.4180357 C13.25,10.2660119 13.3144048,10.1104762 13.3717857,9.95142857 C13.4396659,9.76264046 13.601225,9.62301981 13.7978571,9.58321429 L15.5405357,9.23464286 C15.8076194,9.18127674 16,8.94682729 16,8.67446429 Z M10.4242857,10.4244643 C9.26765335,11.5810199 7.45510983,11.759488 6.09512057,10.8507258 C4.73513131,9.9419637 4.20646608,8.19907015 4.83243138,6.68791601 C5.45839669,5.17676186 7.06465532,4.31821771 8.6688959,4.63732834 C10.2731365,4.95643897 11.4285838,6.36432906 11.4285838,8 C11.4310195,8.90979114 11.0693876,9.78274895 10.4242857,10.4242857 L10.4242857,10.4244643 Z" />
                </g>
            </g>
        </g>
    </g>
</symbol>`});a.a.add(v),t.default=v},function(e,t,n){n.r(t);var i=n(1),o=n.n(i),l=n(2),a=n.n(l),v=new o.a({id:"icon-volume",use:"icon-volume-usage",viewBox:"0 0 18 18",content:`<symbol viewBox="0 0 18 18" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="icon-volume">
    <title>icon_yl</title>
    <g id="icon-volume_页面-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
        <g id="icon-volume_iPhone-8" transform="translate(-113.000000, -61.000000)">
            <g id="icon-volume_icon_yl" transform="translate(113.000000, 61.000000)">
                <rect id="icon-volume_矩形备份-5" x="0" y="0" width="18" height="18" />
                <g transform="translate(1.000000, 1.000000)" fill="#FFFFFF" fill-rule="nonzero" id="icon-volume_形状">
                    <path d="M9.07981515,1.82465915 L4.78032386,5.30169472 L4.65871562,5.38970067 L3.91466522,5.88493423 L1.6001084,5.88493423 L1.6001084,10.117221 L3.99307054,10.117221 L9.07981515,14.1814963 L9.07981515,1.82465915 Z M8.47017385,15.7424021 L3.43223254,11.7181294 L1.40329508,11.7181294 C0.629642666,11.7181294 0,11.0780861 0,10.2940329 L0,5.70812225 C0,4.92246902 0.629642651,4.28402578 1.40329508,4.28402576 L3.43223254,4.28402576 L3.77465573,4.05601031 L8.4709739,0.258953072 C8.89768882,-0.0469951052 9.46088713,-0.0848102934 9.92467239,0.161346456 C10.391104,0.406963098 10.6807236,0.891795943 10.6807236,1.42463204 L10.6807236,14.575923 C10.6807236,15.1087591 10.391104,15.5927919 9.92467239,15.8392086 C9.46072422,16.0846014 8.89795239,16.0468149 8.4709739,15.741602 L8.47017385,15.7424021 Z M12.5208483,4.54804364 C12.3162543,4.34126159 12.2400166,4.03972533 12.321746,3.76055187 C12.4034753,3.48137841 12.630292,3.26856277 12.9141001,3.20476276 C13.1979083,3.14096275 13.4939825,3.23623264 13.6873273,3.4535695 C16.7715362,6.74019217 16.7715362,10.1980264 13.6873273,13.4854492 C13.3846547,13.8075634 12.8781649,13.8233241 12.5560507,13.5206515 C12.2339364,13.217979 12.2181757,12.7114892 12.5208483,12.3893749 C15.0274181,9.71879396 15.0274181,7.21942463 12.5208483,4.54884371 L12.5208483,4.54804364 Z" />
                </g>
            </g>
        </g>
    </g>
</symbol>`});a.a.add(v),t.default=v},function(e,t,n){n.r(t);var i=n(1),o=n.n(i),l=n(2),a=n.n(l),v=new o.a({id:"icon-webFullscreen",use:"icon-webFullscreen-usage",viewBox:"0 0 18 18",content:`<symbol viewBox="0 0 18 18" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="icon-webFullscreen">
    <title>icon_wyqp</title>
    <g id="icon-webFullscreen_页面-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
        <g id="icon-webFullscreen_iPhone-8" transform="translate(-78.000000, -61.000000)">
            <g id="icon-webFullscreen_icon_wyqp" transform="translate(78.000000, 61.000000)">
                <rect id="icon-webFullscreen_矩形备份-10" x="0" y="0" width="18" height="18" />
                <g transform="translate(1.000000, 1.000000)" fill="#FFFFFF">
                    <path d="M0,14.3998594 L0,1.59990625 C0,0.71621875 0.71640625,0 1.60007812,0 L14.4000312,0 C15.2837187,0 15.9999375,0.71621875 15.9999375,1.59990625 L15.9999375,14.3998906 C15.9999375,15.2835781 15.2837187,16 14.4000312,16 L1.60007812,16 C0.716421875,16 0,15.2835469 0,14.3998594 Z M13.967076,1.66 L2.03308428,1.66 C1.76927393,1.66 1.66,1.76925936 1.66,2.0328949 L1.66,13.9669157 C1.66,14.2307406 1.76927393,14.34 2.03308428,14.34 L14.34,14.34 L14.34,2.0328949 C14.34,1.76924479 14.2307552,1.66 13.967076,1.66 Z" id="icon-webFullscreen_形状" fill-rule="nonzero" />
                    <path d="M3.60000001,9 C4.08000001,9 4.40000001,9.32000001 4.40000001,9.80000001 L4.40000001,9.80000001 L4.40000001,11.6 L6.2,11.6 C6.68,11.6 7.00000001,11.92 7.00000001,12.4 C7.00000001,12.88 6.68,13.2 6.2,13.2 L6.2,13.2 L3.60000001,13.2 C3.52,13.2 3.36000001,13.2 3.28,13.12 C3.19999999,13.12 3.11999999,13.04 3.04,12.96 C2.96000001,12.88 2.88000001,12.8 2.88000001,12.72 C2.8,12.64 2.8,12.48 2.8,12.4 L2.8,9.80000001 C2.8,9.32000001 3.12000001,9 3.60000001,9 Z M12.4,9 C12.88,9 13.2,9.32000001 13.2,9.80000001 L13.2,12.4 C13.2,12.48 13.2,12.64 13.12,12.72 C13.12,12.8 13.04,12.88 12.96,12.96 C12.88,13.04 12.8,13.12 12.72,13.12 C12.64,13.2 12.48,13.2 12.4,13.2 L9.80000001,13.2 C9.32000001,13.2 9,12.88 9,12.4 C9,11.92 9.32000001,11.6 9.80000001,11.6 L11.6,11.6 L11.6,9.80000001 C11.6,9.32000001 11.92,9 12.4,9 Z M6.2,2.8 C6.68,2.8 7.00000001,3.12000001 7.00000001,3.60000001 C7.00000001,4.08000001 6.68,4.40000001 6.2,4.40000001 L4.40000001,4.40000001 L4.40000001,6.2 C4.40000001,6.68 4.08000001,7.00000001 3.60000001,7.00000001 C3.12000001,7.00000001 2.8,6.68 2.8,6.2 L2.8,3.60000001 C2.8,3.52 2.8,3.36000001 2.88000001,3.28 C2.88000001,3.19999999 2.96000001,3.12000001 3.04,3.04 C3.11999999,2.95999999 3.19999999,2.88000001 3.28,2.88000001 C3.344,2.816 3.4592,2.8032 3.54368,2.80064 L6.2,2.8 Z M12.45632,2.80064 C12.5408,2.8032 12.656,2.816 12.72,2.88000001 C12.8,2.88000001 12.88,2.95999999 12.96,3.04 C13.04,3.12000001 13.12,3.19999999 13.12,3.28 C13.2,3.36000001 13.2,3.52 13.2,3.60000001 L13.2,3.60000001 L13.2,6.2 C13.2,6.68 12.88,7.00000001 12.4,7.00000001 C11.92,7.00000001 11.6,6.68 11.6,6.2 L11.6,6.2 L11.6,4.40000001 L9.80000001,4.40000001 C9.32000001,4.40000001 9,4.08000001 9,3.60000001 C9,3.12000001 9.32000001,2.8 9.80000001,2.8 L9.80000001,2.8 Z" id="icon-webFullscreen_形状结合" />
                </g>
            </g>
        </g>
    </g>
</symbol>`});a.a.add(v),t.default=v},function(e,t,n){n.r(t),n.d(t,"JolPlayer",function(){return jt}),n(3),n(13);var i=n(0),o=n.n(i);function l(oe,ae){var ne=Object.keys(oe);if(Object.getOwnPropertySymbols){var de=Object.getOwnPropertySymbols(oe);ae&&(de=de.filter(function(Ce){return Object.getOwnPropertyDescriptor(oe,Ce).enumerable})),ne.push.apply(ne,de)}return ne}function a(oe){for(var ae=1;ae<arguments.length;ae++){var ne=arguments[ae]!=null?arguments[ae]:{};ae%2?l(Object(ne),!0).forEach(function(de){v(oe,de,ne[de])}):Object.getOwnPropertyDescriptors?Object.defineProperties(oe,Object.getOwnPropertyDescriptors(ne)):l(Object(ne)).forEach(function(de){Object.defineProperty(oe,de,Object.getOwnPropertyDescriptor(ne,de))})}return oe}function v(oe,ae,ne){return ae in oe?Object.defineProperty(oe,ae,{value:ne,enumerable:!0,configurable:!0,writable:!0}):oe[ae]=ne,oe}const h=Object(i.memo)(function(oe){let{iconClass:ae,fill:ne,fontSize:de="18px",className:Ce,onClick:Te,style:Re}=oe;const De=Object(i.useMemo)(()=>"#icon-"+ae,[ae]);return o.a.createElement("svg",{fontSize:de,style:a(a({},T),{},{fontSize:de},Re),"aria-hidden":"true",className:Ce,onClick:Te},o.a.createElement("use",{xlinkHref:De,fill:ne}))}),T={width:"1em",height:"1em",verticalAlign:"-0.15em",overflow:"hidden",fill:"currentColor",fontSize:"1.1em"};var P=h;n(34);function I(oe,ae){var ne=Object.keys(oe);if(Object.getOwnPropertySymbols){var de=Object.getOwnPropertySymbols(oe);ae&&(de=de.filter(function(Ce){return Object.getOwnPropertyDescriptor(oe,Ce).enumerable})),ne.push.apply(ne,de)}return ne}function A(oe){for(var ae=1;ae<arguments.length;ae++){var ne=arguments[ae]!=null?arguments[ae]:{};ae%2?I(Object(ne),!0).forEach(function(de){x(oe,de,ne[de])}):Object.getOwnPropertyDescriptors?Object.defineProperties(oe,Object.getOwnPropertyDescriptors(ne)):I(Object(ne)).forEach(function(de){Object.defineProperty(oe,de,Object.getOwnPropertyDescriptor(ne,de))})}return oe}function x(oe,ae,ne){return ae in oe?Object.defineProperty(oe,ae,{value:ne,enumerable:!0,configurable:!0,writable:!0}):oe[ae]=ne,oe}const _={isControl:!1,progressSliderChangeVal:0,progressMouseUpChangeVal:0,quality:void 0},b={videoRef:null,videoContainerRef:null,lightOffMaskRef:null,videoFlow:_},D=o.a.createContext(b);var L=()=>{const[,oe]=Object(i.useReducer)(ae=>ae+1,0);return oe};const S=[{id:.5,name:"0.5x"},{id:.75,name:"0.75x"},{id:1,name:"1.0x"},{id:1.25,name:"1.25x"},{id:1.5,name:"1.5x"},{id:2,name:"2.0x"}],c=[{name:"标清",key:"360P",enName:"SD",id:1},{name:"高清",key:"540P",enName:"HD",id:2},{name:"超清",key:"720P",enName:"FHD",id:3},{name:"蓝光",key:"1080P",enName:"BD",id:4}];function u(oe,ae){var ne=Object.keys(oe);if(Object.getOwnPropertySymbols){var de=Object.getOwnPropertySymbols(oe);ae&&(de=de.filter(function(Ce){return Object.getOwnPropertyDescriptor(oe,Ce).enumerable})),ne.push.apply(ne,de)}return ne}function f(oe){for(var ae=1;ae<arguments.length;ae++){var ne=arguments[ae]!=null?arguments[ae]:{};ae%2?u(Object(ne),!0).forEach(function(de){r(oe,de,ne[de])}):Object.getOwnPropertyDescriptors?Object.defineProperties(oe,Object.getOwnPropertyDescriptors(ne)):u(Object(ne)).forEach(function(de){Object.defineProperty(oe,de,Object.getOwnPropertyDescriptor(ne,de))})}return oe}function r(oe,ae,ne){return ae in oe?Object.defineProperty(oe,ae,{value:ne,enumerable:!0,configurable:!0,writable:!0}):oe[ae]=ne,oe}const p=function(oe){let ae=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];const{videoElement:ne}=oe,de=L(),Ce=Object(i.useRef)({isPlay:!1,currentTime:0,duration:0,bufferedTime:0,isPictureinpicture:!1,volume:0,multiple:1,isEndEd:!1,error:null}),Te=Object(i.useRef)(null),Re=Object(i.useRef)(null);Te.current=ne,Object(i.useEffect)(()=>(Te.current&&(Ie(60),Te.current.addEventListener("canplay",()=>{De({duration:Te.current.duration})}),Te.current.addEventListener("progress",()=>{Te.current.buffered.length>=1&&De({bufferedTime:Te.current.buffered.end(0)})}),Te.current.addEventListener("enterpictureinpicture",()=>{De({isPictureinpicture:!0})}),Te.current.addEventListener("leavepictureinpicture",()=>{De({isPictureinpicture:!1})}),Re.current=setInterval(()=>{de(),De({currentTime:Te.current.currentTime,isPlay:!Te.current.paused,volume:Te.current.volume,multiple:Te.current.playbackRate,isEndEd:!!Te.current.ended})},1),Te.current.addEventListener("pause",tt),Te.current.addEventListener("play",Je),Te.current.addEventListener("timeupdate",Ve),Te.current.addEventListener("ended",Xe),Te.current.addEventListener("error",Me)),()=>{Re.current&&clearInterval(Re.current)}),ae);const De=st=>{Ce.current=f(f({},Ce.current),st)},tt=()=>{De({isPlay:!Te.current.paused})},Je=()=>{De({isPlay:!Te.current.paused})},Ve=()=>{De({isPlay:!Te.current.paused})},Xe=()=>{De({isEndEd:!!Te.current.ended})},Me=()=>{De({error:Date.now()})},We=()=>{Ce.current.isPlay?Te.current.pause():Te.current.play()},Ie=st=>{Te.current.volume=st<1?st:st/100},$e=Object(i.useMemo)(()=>({load:()=>Te.current.load(),play:()=>Te.current.play(),pause:()=>Te.current.pause(),setVolume:Ie,seek:st=>{Te.current.currentTime=st},setVideoSrc:st=>{Te.current.src=st}}),[ae]);return Object(i.useMemo)(()=>f(f({handleChangePlayState:We},Ce.current),{},{videoAttributes:Ce.current,videoMethod:$e}),[Ce.current])};function C(oe,ae){return oe*ae}function g(oe){const ae=Math.floor(oe/60),ne=Math.floor(oe%60);return(ae.toString().length>1?ae.toString():"0"+ae.toString())+":"+(ne.toString().length>1?ne.toString():"0"+ne.toString())}const m=oe=>oe==null||oe===!0;function k(oe,ae){var ne=Object.keys(oe);if(Object.getOwnPropertySymbols){var de=Object.getOwnPropertySymbols(oe);ae&&(de=de.filter(function(Ce){return Object.getOwnPropertyDescriptor(oe,Ce).enumerable})),ne.push.apply(ne,de)}return ne}function d(oe,ae,ne){return ae in oe?Object.defineProperty(oe,ae,{value:ne,enumerable:!0,configurable:!0,writable:!0}):oe[ae]=ne,oe}var w=()=>{const[oe,ae]=Object(i.useState)({clientX:0,clientY:0});return Object(i.useEffect)(()=>{function ne(de){ae(Ce=>({clientX:de.clientX,clientY:de.clientY}))}return window.addEventListener("mousemove",ne),()=>window.removeEventListener("mousemove",ne)},[]),function(ne){for(var de=1;de<arguments.length;de++){var Ce=arguments[de]!=null?arguments[de]:{};de%2?k(Object(Ce),!0).forEach(function(Te){d(ne,Te,Ce[Te])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ne,Object.getOwnPropertyDescriptors(Ce)):k(Object(Ce)).forEach(function(Te){Object.defineProperty(ne,Te,Object.getOwnPropertyDescriptor(Ce,Te))})}return ne}({},oe)};function y(oe,ae){var ne=Object.keys(oe);if(Object.getOwnPropertySymbols){var de=Object.getOwnPropertySymbols(oe);ae&&(de=de.filter(function(Ce){return Object.getOwnPropertyDescriptor(oe,Ce).enumerable})),ne.push.apply(ne,de)}return ne}function O(oe){for(var ae=1;ae<arguments.length;ae++){var ne=arguments[ae]!=null?arguments[ae]:{};ae%2?y(Object(ne),!0).forEach(function(de){F(oe,de,ne[de])}):Object.getOwnPropertyDescriptors?Object.defineProperties(oe,Object.getOwnPropertyDescriptors(ne)):y(Object(ne)).forEach(function(de){Object.defineProperty(oe,de,Object.getOwnPropertyDescriptor(ne,de))})}return oe}function F(oe,ae,ne){return ae in oe?Object.defineProperty(oe,ae,{value:ne,enumerable:!0,configurable:!0,writable:!0}):oe[ae]=ne,oe}n(71);var B=Object(i.memo)(function(oe){const ae=Object(i.useRef)(null),ne=Object(i.useRef)(null),de=Object(i.useRef)(null),Ce=Object(i.useRef)(null),Te=Object(i.useRef)(null),Re=Object(i.useRef)(0),De=Object(i.useContext)(D),{theme:tt}=De.propsAttributes,{currentTime:Je,duration:Ve,bufferedTime:Xe}=p({videoElement:De.videoRef},[De.videoRef]),{progressState:Me,dispatch:We}=(()=>{const[At,vt]=Object(i.useReducer)((kt,lt)=>{switch(lt.type){case"positionX":return O(O({},kt),{},{positionX:lt.data});case"isMovingProgress":return O(O({},kt),{},{isMovingProgress:lt.data});case"progressPercent":return O(O({},kt),{},{progressPercent:lt.data});case"isDrag":return O(O({},kt),{},{isDrag:lt.data});default:return kt}},{positionX:0,isMovingProgress:!1,progressPercent:0,isDrag:!1});return{progressState:At,dispatch:vt}})(),{clientX:Ie}=w();Re.current=Ie,Object(i.useEffect)(()=>{if(ne.current&&de.current){const At=ne.current,vt=de.current;Ce.current=setInterval(()=>{Me.isMovingProgress?$e({height:7,opacity:1,animationName:"example",progressBgRefEle:At,progressScrubberRefEle:vt}):$e({height:3,opacity:0,animationName:"learve",progressBgRefEle:At,progressScrubberRefEle:vt})},100)}return()=>{Ce.current&&clearInterval(Ce.current)}},[Me.isMovingProgress]),Object(i.useEffect)(()=>(window.addEventListener("mouseup",pt),()=>{window.removeEventListener("mouseup",pt)}),[Je,Ve,Me.isDrag]);const $e=At=>{const{height:vt,opacity:kt,animationName:lt,progressBgRefEle:Wt,progressScrubberRefEle:Qe}=At;Wt.style.height="".concat(vt,"px"),Qe.style.opacity="".concat(kt),Qe.style.animation="".concat(lt," 0.5s")},st=Object(i.useMemo)(()=>(Je/Ve*100).toString(),[Ve,Je]),ct=Object(i.useMemo)(()=>(Xe/Ve*100).toString(),[Xe,Ve]),pt=()=>{Te.current&&clearInterval(Te.current),Je<Ve&&Me.isDrag&&(De.videoRef.play(),We({type:"isDrag",data:!1})),We({type:"isMovingProgress",data:!1})};return o.a.createElement("div",{className:"JoL-progress-container",style:{opacity:De.videoFlow.isControl?"1":"0"}},o.a.createElement("div",{className:"progress-bg",ref:ne},o.a.createElement("div",{className:"progress-buffered",style:{width:"".concat(ct,"%")}}),o.a.createElement("div",{className:"progress-played",style:{width:"".concat(st,"%"),background:"".concat(tt||"#ffb821")}},o.a.createElement("i",{className:"progress-scrubber",style:{background:"".concat(tt||"#ffb821")},ref:de})),o.a.createElement("div",{ref:ae,className:"progress-seek-mask",onMouseDown:()=>{const At=ae.current.offsetWidth;Te.current&&clearInterval(Te.current),Te.current=setInterval(()=>{((vt,kt)=>{if(vt>=0&&vt<=kt){const lt=vt/kt;We({type:"progressPercent",data:lt}),De.videoRef.currentTime=C(lt,Ve),We({type:"positionX",data:vt}),We({type:"isMovingProgress",data:!0}),We({type:"isDrag",data:!0})}vt<0&&(De.videoRef.currentTime=0),vt>kt&&(De.videoRef.currentTime=Ve)})(Re.current-ae.current.getBoundingClientRect().left+1,At),De.dispatch({type:"progressSliderChangeVal",data:Date.now()})},1)},onMouseUp:()=>{pt(),De.dispatch({type:"progressMouseUpChangeVal",data:Date.now()})},onMouseMove:At=>{const vt=At.clientX-ae.current.getBoundingClientRect().left+1;We({type:"progressPercent",data:vt/ae.current.offsetWidth}),We({type:"isMovingProgress",data:!0}),We({type:"positionX",data:vt})},onMouseLeave:()=>{We({type:"isMovingProgress",data:!1})},onClick:()=>{De.videoRef.currentTime=C(Me.progressPercent,Ve),We({type:"isMovingProgress",data:!0})}}),Me.isMovingProgress&&o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"pointer",style:{left:"".concat(Me.positionX,"px")}},o.a.createElement("div",{className:"top-triangle",style:{borderTop:"4px solid ".concat(tt||"#ffb821")}}),o.a.createElement("div",{className:"bottom-triangle",style:{borderBottom:"4px solid ".concat(tt||"#ffb821")}})),o.a.createElement("div",{className:"video-img-box",style:{left:"".concat(Me.positionX,"px")}},o.a.createElement("span",{className:"current-time"},function(At,vt){const kt=At*vt,lt=Math.floor(kt/60),Wt=Math.floor(kt%60);return(lt.toString().length>1?lt.toString():"0"+lt.toString())+":"+(Wt.toString().length>1?Wt.toString():"0"+Wt.toString())}(Me.progressPercent,Ve))))))});n(73);var M=Object(i.memo)(function(oe){let{title:ae,icon:ne,styleCss:de}=oe;return o.a.createElement("div",{className:"tooltip",style:de},o.a.createElement(o.a.Fragment,null,ne),o.a.createElement("div",{className:"title"},ae))});function j(oe,ae){var ne=Object.keys(oe);if(Object.getOwnPropertySymbols){var de=Object.getOwnPropertySymbols(oe);ae&&(de=de.filter(function(Ce){return Object.getOwnPropertyDescriptor(oe,Ce).enumerable})),ne.push.apply(ne,de)}return ne}function U(oe){for(var ae=1;ae<arguments.length;ae++){var ne=arguments[ae]!=null?arguments[ae]:{};ae%2?j(Object(ne),!0).forEach(function(de){z(oe,de,ne[de])}):Object.getOwnPropertyDescriptors?Object.defineProperties(oe,Object.getOwnPropertyDescriptors(ne)):j(Object(ne)).forEach(function(de){Object.defineProperty(oe,de,Object.getOwnPropertyDescriptor(ne,de))})}return oe}function z(oe,ae,ne){return ae in oe?Object.defineProperty(oe,ae,{value:ne,enumerable:!0,configurable:!0,writable:!0}):oe[ae]=ne,oe}var q=n(20),Y=n.n(q);n(75);var W=function(oe){let{sole:ae,label:ne,onChange:de,theme:Ce}=oe;const[Te,Re]=Object(i.useState)("no"),De=Object(i.useRef)(null),tt=Je=>{Je.stopPropagation();const Ve=Je.target.value==="yes"?"no":"yes";Re(Ve),de&&de(Ve)};return Object(i.useEffect)(()=>{De.current.style.setProperty("--JoL-theme",Ce||"#ffb821")},[Ce]),Object(i.useMemo)(()=>o.a.createElement("div",{className:"container"},o.a.createElement("label",{htmlFor:ae,className:"label"},ne),o.a.createElement("input",{ref:De,className:"switch",type:"checkbox",id:ae,onChange:tt,value:Te})),[ae,ne,Te])};const J={multiple:"倍数",closeLights:"关灯",loop:"循环",screenshots:"截图",openPicture:"开启画中画",closePicture:"关闭画中画",Fullscreen:"网页全屏",closeFullscreen:"关闭网页全屏",fullScreen:"全屏",closefullScreen:"关闭全屏",replay:"重播",screenshotsSucessText:"鼠标右键图片另存为",screenshotsFailText:"截图加载失败，在点击下",playText:"暂停中",clarityHint:"清晰度已切换到",multipleHint:"播放倍数已切换到"},Z={multiple:"multiple",closeLights:"lights",loop:"loops",screenshots:"screenshots",openPicture:"open Picture",closePicture:"close Picture",Fullscreen:"Full screen",closeFullscreen:"close Full screen",fullScreen:"full Screen",closefullScreen:"close full Screen",replay:"Replay",screenshotsSucessText:"Right mouse button to save the picture as",screenshotsFailText:"The screenshot failed to load, click",playText:"Paused",clarityHint:"Sharpness has been switched to",multipleHint:"The playback multiple has been switched to"},ee=(oe,ae)=>oe==="zh"?J[ae]:Z[ae];n(16);var le=Object(i.memo)(function(oe){let{switchChange:ae,style:ne}=oe;const de=Object(i.useContext)(D),{theme:Ce,language:Te}=de.propsAttributes,[Re,De]=Object(i.useState)(!1);return o.a.createElement("div",{className:"JoL-multifunction-set",onMouseEnter:tt=>[De(!0),tt.stopPropagation()],onMouseLeave:tt=>[De(!1)],style:ne},o.a.createElement(P,{iconClass:"set",fill:"#fff",className:"hover-icon-rotateAnimate",fontSize:"20px"}),o.a.createElement("div",{className:"JoL-multifunction-set-container",style:{display:Re?"block":"none"}},o.a.createElement("ul",{className:"JoL-multifunction-set-layer"},o.a.createElement("li",null,o.a.createElement(W,{sole:"lights",label:ee(Te||"zh","closeLights"),onChange:tt=>ae(tt,"lights"),theme:Ce})),o.a.createElement("li",null,o.a.createElement(W,{sole:"loop",label:ee(Te||"zh","loop"),theme:Ce,onChange:tt=>ae(tt,"loop")})))))}),ue=n(49);n(79);const fe=function(oe){let{message:ae,duration:ne,position:de}=oe;const Ce=()=>{document.querySelector("#jolPlayerToast")&&document.querySelector("#JoL-player-container").removeChild(document.querySelector("#jolPlayerToast"))};return Object(i.useEffect)(()=>{let Te=null;return Te&&clearTimeout(Te),Te=setTimeout(()=>{Ce()},ne||2e3),()=>{Te&&clearTimeout(Te)}},[]),o.a.createElement("div",{className:"jolPlayerToast ".concat(de||"leftTop")},ae)};var ve=oe=>{if(!document.querySelector("#jolPlayerToast")){const ae=document.createElement("div");ae.id="jolPlayerToast",document.querySelector("#JoL-player-container").appendChild(ae),Object(ue.createRoot)(ae).render(o.a.createElement(fe,oe))}},be=Object(i.memo)(function(oe){let{multipleText:ae,selectPlayRate:ne,multiple:de,style:Ce}=oe;const Te=Object(i.useContext)(D),{theme:Re,language:De,isToast:tt,toastPosition:Je}=Te.propsAttributes,[Ve,Xe]=Object(i.useState)(!1);return o.a.createElement("div",{className:"JoL-multifunction-multiple",onClick:Me=>Xe(We=>!We),onMouseLeave:Me=>[Xe(!1)],style:Ce},o.a.createElement("p",null,ae),o.a.createElement("div",{className:"JoL-multifunction-multiple-container",style:{display:Ve?"block":"none"}},o.a.createElement("ul",{className:"JoL-multifunction-multiple-layer"},S.map((Me,We)=>o.a.createElement("li",{onClick:Ie=>[ne(Me.id),Xe(!1),Ie.stopPropagation(),tt&&ve({message:o.a.createElement("div",null,"".concat(ee(De||"zh","multipleHint")," ："),o.a.createElement("strong",{style:{color:"#FF455B"}},Me.name)),position:Je})],key:We,style:{color:de===Me.id?Re||"#ffb821":"#fff"}},Me.name)))))});const we=function(oe,ae){let{volume:ne,changeCurrentVolume:de,slideCurrentVolume:Ce,clearVolumeInterval:Te,isMuted:Re,toggleVolume:De,style:tt}=oe;const Je=Object(i.useRef)(null),Ve=Object(i.useContext)(D),{theme:Xe}=Ve.propsAttributes,[Me,We]=Object(i.useState)(!1);return Object(i.useImperativeHandle)(ae,()=>({element:Je.current})),o.a.createElement("div",{className:"JoL-multifunction-volume",onMouseEnter:Ie=>[We(!0)],onMouseLeave:Ie=>[We(!1)],onClick:Ie=>{Ie.stopPropagation(),De()},style:tt},o.a.createElement(P,{iconClass:Re?"mute":"volume",fill:"#fff",fontSize:"20px"}),o.a.createElement("div",{className:"JoL-multifunction-volume-container",style:{display:Me?"block":"none"}},o.a.createElement("div",{className:"volume-box"},o.a.createElement("p",{className:"current-volume"},o.a.createElement("span",{className:"volume-value"},Math.floor(ne))),o.a.createElement("div",{className:"volume-slider"},o.a.createElement("div",{className:"volume-slider-bg"},o.a.createElement("div",{ref:Je,className:"volume-slider-mirror",onClick:de,onMouseDown:Ce,onMouseUp:Te}),o.a.createElement("div",{className:"volume-slider-op",style:{height:"".concat(ne,"%"),backgroundColor:"".concat(Xe||"#ffb821")}},o.a.createElement("div",{className:"volume-slider-op-circle",style:{backgroundColor:"".concat(Xe||"#ffb821")}})))))))};var _e=Object(i.forwardRef)(we),Pe=Object(i.memo)(function(oe){let{isPlay:ae,handleChangePlayState:ne,currentTime:de,totalTime:Ce}=oe;return o.a.createElement("div",{className:"play-pause-timeline"},o.a.createElement(P,{iconClass:ae?"pause":"player",fill:"#fff",fontSize:"20px",onClick:ne,className:"icon"}),o.a.createElement("span",{className:"time-wrap"},o.a.createElement("span",{className:"current-time"},de),o.a.createElement("span",{className:"time-divider"}," / "),o.a.createElement("span",{className:"total-time"},Ce)))});n(81);var Le=Object(i.memo)(function(oe){let{style:ae,videoSrc:ne,qualityToggle:de}=oe;const Ce=Object(i.useContext)(D),{theme:Te,quality:Re,language:De,isToast:tt,toastPosition:Je}=Ce.propsAttributes,[Ve,Xe]=Object(i.useState)(!1),Me=Object(i.useMemo)(()=>Re?Re.map(Ie=>c.map($e=>Ie.name===$e.enName&&Object.assign({},$e,{url:Ie.url})).filter($e=>$e)[0]).sort((Ie,$e)=>($e&&$e.id?$e.id:1)-(Ie&&Ie.id?Ie.id:1)):[],[Re]),We=Object(i.useMemo)(()=>{let Ie=[];return ne&&Me&&(Ie=Me.filter($e=>$e.url===ne)),Ie.length?Ie[0]:{key:"360P",enName:"SD",name:"标清",id:1}},[ne,Me]);return o.a.createElement("div",{className:"JoL-multifunction-multiple",onClick:Ie=>Xe($e=>!$e),onMouseLeave:Ie=>[Xe(!1)],style:ae},o.a.createElement("p",null,We?De&&De==="en"?We.enName:We.name:null),o.a.createElement("div",{className:"JoL-multifunction-multiple-container",style:{display:Ve?"block":"none"}},Me&&Me.length?o.a.createElement("ul",{className:"JoL-multifunction-multiple-layer"},Me.map((Ie,$e)=>o.a.createElement("li",{key:$e,onClick:()=>{return st=Ie&&Ie.url?Ie.url:"",ct=Ie&&Ie.key?Ie.key:"360P",de(st,ct),void(tt&&ve({message:o.a.createElement("div",null,"".concat(ee(De||"zh","clarityHint")," ："),o.a.createElement("strong",{style:{color:"#FF455B"}},ct)),position:Je}));var st,ct},style:{color:We.key===(Ie&&Ie.key?Ie.key:null)?Te||"#ffb821":"#fff"}},o.a.createElement("p",null,Ie&&Ie.name?De&&De==="en"?Ie.enName:Ie.name:null),o.a.createElement("p",null,Ie&&Ie.key?Ie.key:null)))):null))}),Be=Object(i.memo)(function(oe){let{setIsscreenshot:ae,setScreenshotLoading:ne}=oe;const de=Object(i.useRef)(null),Ce=Object(i.useRef)(0),Te=Object(i.useRef)(null),Re=Object(i.useContext)(D),{propsAttributes:De,dispatch:tt}=Re,Je=Object(i.useRef)(null),{isPlay:Ve,handleChangePlayState:Xe,currentTime:Me,duration:We,isPictureinpicture:Ie,volume:$e,videoMethod:st}=p({videoElement:Re.videoRef},[Re.videoRef]),{controlsState:ct,dispatch:pt}=(()=>{const Qe={volume:60,isMuted:!1,isSlideVolume:!1,isScreentFull:!1,multiple:1,isWebPageFullScreen:!1,isMute:!1},[Ze,Lt]=Object(i.useReducer)((Et,Gt)=>{switch(Gt.type){case"volume":return U(U({},Et),{},{volume:Gt.data});case"isMuted":return U(U({},Et),{},{isMuted:Gt.data});case"isSlideVolume":return U(U({},Et),{},{isSlideVolume:Gt.data});case"isScreentFull":return U(U({},Et),{},{isScreentFull:Gt.data});case"multiple":return U(U({},Et),{},{multiple:Gt.data});case"isWebPageFullScreen":return U(U({},Et),{},{isWebPageFullScreen:Gt.data});case"isMute":return U(U({},Et),{},{isMute:Gt.data});default:return Et}},Qe);return{controlsState:Ze,dispatch:Lt}})(),{clientY:At}=w();Ce.current=At,Je.current=Re,Object(i.useEffect)(()=>{pt({type:"volume",data:Math.floor(100*$e)}),pt({type:"isMuted",data:$e===0})},[$e]),Object(i.useEffect)(()=>(window.addEventListener("mouseup",kt),()=>{window.removeEventListener("mouseup",kt)}),[]),Object(i.useEffect)(()=>{Je.current&&Je.current.videoRef&&(Je.current.videoRef.muted=!!ct.isMuted,pt({type:"volume",data:ct.isMuted?0:Math.floor(100*$e)}))},[ct.isMuted]);const vt=Qe=>{const Ze=Re.videoRef;Qe>=0&&Qe<=1&&(Ze.volume=Qe,Ze.muted=!1,pt({type:"volume",data:100*Qe}),pt({type:"isMuted",data:Math.floor(100*Qe)===0})),Qe<0&&(Ze.volume=0,Ze.muted=!0,pt({type:"volume",data:0}),pt({type:"isMuted",data:!0})),Qe>1&&(Ze.volume=1,pt({type:"volume",data:100}))},kt=()=>{Te.current&&clearInterval(Te.current),pt({type:"isSlideVolume",data:!1})},lt=Object(i.useMemo)(()=>ct.multiple===1?ee(De.language||"zh","multiple"):S.filter(Qe=>Qe.id===ct.multiple)[0].name,[ct.multiple]),Wt=Object(i.useMemo)(()=>ct.isScreentFull||ct.isWebPageFullScreen?"13px":"8px",[ct.isWebPageFullScreen,ct.isScreentFull]);return o.a.createElement("div",{className:"JoL-controls-container",style:{opacity:Re.videoFlow.isControl?"1":"0"}},o.a.createElement(Pe,{isPlay:Ve,handleChangePlayState:Xe,currentTime:g(Me),totalTime:g(We)}),o.a.createElement("div",{className:"JoL-multifunction"},De.quality&&De.quality.length?o.a.createElement(Le,{videoSrc:Je.current&&Je.current.videoRef?Je.current.videoRef.src:void 0,qualityToggle:(Qe,Ze)=>{tt({type:"quality",data:Ze}),st.setVideoSrc(Qe),st.seek(Me),st.play()}}):null,m(De.isShowMultiple)&&o.a.createElement(be,{multipleText:lt,multiple:ct.multiple,selectPlayRate:Qe=>{Re.videoRef.playbackRate=Qe,pt({type:"multiple",data:Qe})}}),o.a.createElement(_e,{style:{padding:"0 ".concat(Wt)},ref:de,volume:ct.volume,changeCurrentVolume:Qe=>{Qe.stopPropagation();const Ze=de.current.element,Lt=Ze.offsetHeight,Et=1-(Qe.clientY-Ze.getBoundingClientRect().top)/Lt;vt(Et)},slideCurrentVolume:Qe=>{Qe.stopPropagation();const Ze=de.current.element,Lt=Ze.offsetHeight;Te.current&&clearInterval(Te.current),Te.current=setInterval(()=>{const Et=1-(Ce.current-Ze.getBoundingClientRect().top)/Lt;vt(Et),pt({type:"isSlideVolume",data:!0})},1)},clearVolumeInterval:Qe=>{Qe.stopPropagation(),kt()},isMuted:ct.isMuted,toggleVolume:()=>pt({type:"isMuted",data:!ct.isMuted})}),m(De.isShowSet)&&o.a.createElement(le,{switchChange:(Qe,Ze)=>{const{videoRef:Lt,lightOffMaskRef:Et}=Je.current;if(Ze==="lights")Et&&(Et.style.display=Qe==="yes"?"block":"none");else{const Gt=Lt.loop;Lt.loop=!Gt}},style:{padding:"0 ".concat(Wt)}}),m(De.isShowScreenshot)&&o.a.createElement(M,{styleCss:{padding:"0 ".concat(Wt)},title:ee(De.language||"zh","screenshots"),icon:o.a.createElement(P,{fontSize:"20px",iconClass:"screenshots",className:"hover-icon-animate",fill:"#fff",onClick:async()=>{const Qe=document.querySelector("#JoL-screenshotCanvas"),Ze=function(Lt){let Et=arguments.length>1&&arguments[1]!==void 0?arguments[1]:.25;var Gt=Lt.videoWidth*Et,Jn=Lt.videoHeight*Et,yn=document.createElement("canvas");yn.width=Gt,yn.height=Jn;var Mr=yn.getContext("2d");return Mr.drawImage(Lt,0,0,Gt,Jn),yn}(Re.videoRef,.45);ae(!0),Qe?(ne(!1),Qe.innerHTML="",Qe.appendChild(Ze)):ne(!0)}})}),m(De.isShowPicture)&&o.a.createElement(M,{styleCss:{padding:"0 ".concat(Wt)},title:ee(De.language||"zh",Ie?"closePicture":"openPicture"),icon:o.a.createElement(P,{iconClass:"inPicture",fill:"#fff",className:"hover-icon-animate",fontSize:"20px",onClick:()=>{Ie?document.exitPictureInPicture():Re.videoRef.requestPictureInPicture()}})}),m(De.isShowWebFullScreen)&&o.a.createElement(M,{styleCss:{padding:"0 ".concat(Wt)},title:ee(De.language||"zh",ct.isWebPageFullScreen?"closeFullscreen":"Fullscreen"),icon:o.a.createElement(P,{iconClass:ct.isWebPageFullScreen?"closeWebFullscreen":"webFullscreen",fill:"#fff",className:"hover-icon-animate",fontSize:"20px",onClick:()=>{const Qe=Re.videoContainerRef;Qe.classList.contains("clientFullScreen")?(Qe.classList.remove("clientFullScreen"),pt({type:"isWebPageFullScreen",data:!1})):(Qe.classList.add("clientFullScreen"),pt({type:"isWebPageFullScreen",data:!0}))}})}),o.a.createElement(M,{styleCss:{padding:"0 ".concat(Wt)},title:ee(De.language||"zh",ct.isScreentFull?"closefullScreen":"fullScreen"),icon:o.a.createElement(P,{iconClass:ct.isScreentFull?"closeFullScreen":"fullScreen",fill:"#fff",fontSize:"19px",onClick:()=>{Y.a.isEnabled&&(Y.a.toggle(Re.videoContainerRef),Y.a.on("change",()=>pt({type:"isScreentFull",data:Y.a.isFullscreen})))},className:"hover-icon-animate"})})))});n(83);var ut=Object(i.memo)(function(oe){let{handle:ae,language:ne}=oe;return o.a.createElement("div",{className:"end"},o.a.createElement("div",{className:"replay"},o.a.createElement("div",{className:"cicle",onClick:()=>{ae()}},o.a.createElement(P,{iconClass:"replay",fill:"#fff",fontSize:"37px"})),o.a.createElement("p",null,ee(ne||"zh","replay"))))});n(85);var Ue=Object(i.memo)(function(oe){let{setIsscreenshot:ae,screenshotLoading:ne,theme:de,language:Ce}=oe;return o.a.createElement("div",{className:"screenshot"},o.a.createElement("div",{className:"close",onClick:()=>ae(!1)},o.a.createElement(P,{iconClass:"close",fill:de||"#ffb821",className:"icon"})),o.a.createElement("div",{className:"img",id:"JoL-screenshotCanvas"},o.a.createElement(P,{iconClass:"loading",fill:de||"#ffb821",className:"player-loading",fontSize:"55px"})),o.a.createElement("p",{className:"save"},ee(Ce||"zh",ne?"screenshotsFailText":"screenshotsSucessText")))});n(87);var et=Object(i.memo)(function(oe){let{duration:ae,currentTime:ne}=oe;const de=Object(i.useContext)(D),{theme:Ce,progressFloatPosition:Te}=de.propsAttributes,Re=Object(i.useMemo)(()=>(ne/ae*100).toString(),[ae,ne]);return o.a.createElement("div",{className:"suspendedProgressBoard ".concat(Te||"bt")},o.a.createElement("div",{className:"progressPlayed ",style:{width:"".concat(Re,"%"),background:"".concat(Ce||"#ffb821")}}))});n(89);var ot=Object(i.memo)(function(){const oe=Object(i.useContext)(D),{dispatch:ae,propsAttributes:ne,videoFlow:de}=oe,{isPlay:Ce,handleChangePlayState:Te,isEndEd:Re,duration:De,currentTime:tt}=p({videoElement:oe.videoRef},[oe.videoRef]),Je=Object(i.useRef)(null),Ve=Object(i.useRef)(null),Xe=Object(i.useRef)(!1),Me=Object(i.useRef)(null),We=Object(i.useRef)(!1),[Ie,$e]=Object(i.useState)(!1),[st,ct]=Object(i.useState)(!1);Object(i.useEffect)(()=>{ne.isToast&&!Ce&&ve({message:ee(ne.language||"zh","playText"),position:ne.toastPosition})},[Ce]),Object(i.useEffect)(()=>(Je.current=setInterval(()=>{Xe.current&&(Xe.current=!1,ae({type:"isControl",data:!0}),Ve.current.style.cursor="pointer",Me.current&&clearTimeout(Me.current),Me.current=setTimeout(()=>{Xe.current||We.current||(ae({type:"isControl",data:!1}),Ve.current.style.cursor="none")},ne.hideMouseTime?ne.hideMouseTime:2e3))},200),()=>{Je.current&&clearInterval(Je.current)}),[]);const pt=lt=>{ae({type:"isControl",data:lt==="enter"&&!Re})},At=Object(i.useMemo)(()=>ne.pausePlacement==="center"?{left:"50%",top:"50%",transform:"translate(-50%, -50%)"}:{right:"30px",bottom:"60px"},[ne.pausePlacement]),vt=Object(i.useMemo)(()=>ne.setPauseButtonContent?ne.setPauseButtonContent:o.a.createElement(P,{iconClass:"player",fill:"#fff",fontSize:"55px",className:"play-icon",style:At}),[At,ne.setPauseButtonContent]),kt=lt=>{We.current=lt==="move"};return o.a.createElement("div",{className:"JoL-controller-container",onMouseEnter:lt=>[pt("enter")],onMouseLeave:lt=>[pt("leave")],ref:Ve},o.a.createElement("div",{id:"play-or-pause-mask",className:"JoL-click-to-play-or-pause",onMouseLeave:lt=>{Xe.current=!1,Ve.current.style.cursor="pointer"},onMouseMove:lt=>{Xe.current=!0,We.current=!1},onClick:()=>{Te&&Te()}}),m(ne.isShowPauseButton)?!Ce&&!Re&&o.a.createElement(o.a.Fragment,null,vt):null,o.a.createElement("div",{className:"JoL-progress-and-controls-wrap",onMouseMove:lt=>[kt("move")],onMouseLeave:lt=>[kt("leave")]},Ie?o.a.createElement(Ue,{setIsscreenshot:$e,screenshotLoading:st,theme:ne.theme,language:ne.language}):null,o.a.createElement(B,null),o.a.createElement(Be,{setIsscreenshot:$e,setScreenshotLoading:ct})),Re?ne.setEndPlayContent?ne.setEndPlayContent:o.a.createElement(ut,{handle:()=>[Te(),pt("enter")],language:ne.language}):null,!de.isControl&&ne.isProgressFloat?o.a.createElement(et,{duration:De,currentTime:tt}):null)}),ht=(oe,ae,ne)=>{const{isPlay:de,currentTime:Ce,isEndEd:Te,error:Re,volume:De}=oe,{progressSliderChangeVal:tt,progressMouseUpChangeVal:Je,quality:Ve}=ae,{onProgressMouseDown:Xe,onPlay:Me,onPause:We,onTimeChange:Ie,onEndEd:$e,onProgressMouseUp:st,onError:ct,onvolumechange:pt,onQualityChange:At}=ne;Object(i.useEffect)(()=>{ae.progressSliderChangeVal&&Xe&&Xe(oe)},[tt]),Object(i.useEffect)(()=>{ae.progressMouseUpChangeVal&&st&&st(oe)},[Je]),Object(i.useEffect)(()=>{de?Me&&Me(oe):We&&We(oe)},[de]),Object(i.useEffect)(()=>{Ce&&Ie&&Ie(oe)},[Ce]),Object(i.useEffect)(()=>{Te&&$e&&$e(oe)},[Te]),Object(i.useEffect)(()=>{Re&&ct&&ct()},[Re]),Object(i.useEffect)(()=>{De&&pt&&pt(oe)},[De]),Object(i.useEffect)(()=>{Ve&&At&&At(Ve)},[Ve])},bt=n(35),Ee=n.n(bt);n(91),n(93);function xe(oe,ae){var ne=Object.keys(oe);if(Object.getOwnPropertySymbols){var de=Object.getOwnPropertySymbols(oe);ae&&(de=de.filter(function(Ce){return Object.getOwnPropertyDescriptor(oe,Ce).enumerable})),ne.push.apply(ne,de)}return ne}function ze(oe){for(var ae=1;ae<arguments.length;ae++){var ne=arguments[ae]!=null?arguments[ae]:{};ae%2?xe(Object(ne),!0).forEach(function(de){rt(oe,de,ne[de])}):Object.getOwnPropertyDescriptors?Object.defineProperties(oe,Object.getOwnPropertyDescriptors(ne)):xe(Object(ne)).forEach(function(de){Object.defineProperty(oe,de,Object.getOwnPropertyDescriptor(ne,de))})}return oe}function rt(oe,ae,ne){return ae in oe?Object.defineProperty(oe,ae,{value:ne,enumerable:!0,configurable:!0,writable:!0}):oe[ae]=ne,oe}const at=function(oe,ae){const{option:ne,className:de,style:Ce,onProgressMouseDown:Te,onPlay:Re,onPause:De,onTimeChange:tt,onEndEd:Je,onProgressMouseUp:Ve,onError:Xe,onvolumechange:Me,onQualityChange:We}=oe,{videoSrc:Ie,width:$e,height:st,theme:ct,poster:pt,setBufferContent:At,videoType:vt,toastPosition:kt,autoPlay:lt,mode:Wt}=ne,Qe=Object(i.useRef)(null),Ze=Object(i.useRef)(null),Lt=Object(i.useRef)(null),Et=Object(i.useRef)(null),[Gt,Jn]=Object(i.useState)(!1),yn=Object(i.useRef)(!1),{videoFlow:Mr,dispatch:Fo}=(()=>{const[Qt,Dn]=Object(i.useReducer)((Zt,En)=>{switch(En.type){case"isControl":return A(A({},Zt),{},{isControl:En.data});case"progressSliderChangeVal":return A(A({},Zt),{},{progressSliderChangeVal:En.data});case"progressMouseUpChangeVal":return A(A({},Zt),{},{progressMouseUpChangeVal:En.data});case"quality":return A(A({},Zt),{},{quality:En.data});default:return Zt}},_);return{videoFlow:Qt,dispatch:Dn}})(),ds=L(),hr=()=>{Jn(!0)},Fi=()=>{Jn(!1)},Mo=Qt=>{const Dn=Qt.target,Zt=Dn.videoWidth,En=Dn.videoHeight;if($e&&st)Lt.current.style.width="".concat($e,"px"),Lt.current.style.height="".concat(st,"px");else if(Wt==="widthFix"&&$e){const ii=$e*En/Zt;Lt.current.style.height="".concat(ii,"px"),Lt.current.style.width="".concat($e,"px")}else if(Wt==="heightFix"&&st){const ii=Zt*st/En;Lt.current.style.width="".concat(ii,"px"),Lt.current.style.height="".concat(st,"px")}else Lt.current.style.width="".concat($e||Zt,"px"),Lt.current.style.height="".concat(st||En,"px")},{videoAttributes:Mi,videoMethod:No}=p({videoElement:Ze.current},[Ze.current]);ht(Mi,Mr,{onProgressMouseDown:Te,onProgressMouseUp:Ve,onPlay:Re,onPause:De,onTimeChange:tt,onEndEd:Je,onError:Xe,onvolumechange:Me,onQualityChange:We}),Object(i.useEffect)(()=>{ds();const Qt=Ze.current;return(Dn=>{if(vt&&vt==="hls"&&Ee.a.isSupported()){var Zt=new Ee.a;Zt.loadSource(Ie),Zt.attachMedia(Dn)}})(Qt),ne.autoPlay&&(yn.current=!0,Ze.current.volume=0),Et.current=setTimeout(()=>{Qt.networkState===0||Qt.networkState===3?ve({message:"Error：Video source not found",duration:4e3,position:kt}):clearTimeout(Et.current)},3e3),Qt.addEventListener("canplay",Mo),Qt.addEventListener("waiting",hr),Qt.addEventListener("playing",Fi),()=>{Et.current&&clearTimeout(Et.current),Qt.removeEventListener("waiting",hr),Qt.removeEventListener("playing",Fi)}},[ne]),Object(i.useEffect)(()=>(lt&&document.addEventListener("mousemove",()=>Bo(lt)),()=>{lt&&document.removeEventListener("mousemove",()=>Bo)}),[lt]);const Bo=Object(i.useCallback)(Qt=>{if(Qt){if(!yn.current||!Ze.current)return null;var Dn=Ze.current.play();Dn!==void 0&&Dn.catch(Zt=>{Ze.current.volume=.6,yn.current=!1}).then(()=>{Ze.current.play(),Ze.current.volume=.6,yn.current=!1})}},[]);Object(i.useImperativeHandle)(ae,()=>ze(ze({video:Ze.current},No),Mi));const Ni=Object(i.useMemo)(()=>o.a.createElement(o.a.Fragment,null,o.a.createElement("source",{src:Ie,type:"video/mp4"}),o.a.createElement("source",{src:Ie,type:"video/ogg"}),o.a.createElement("source",{src:Ie,type:"video/webm"})),[Ie]),hs=Object(i.useMemo)(()=>Object.assign({},{videoRef:Ze.current,videoContainerRef:Lt.current,lightOffMaskRef:Qe.current,dispatch:Fo,videoFlow:Mr,propsAttributes:ne}),[Ze.current,Mr,ne]);return o.a.createElement("div",{className:"JoL-player-container ".concat(de),ref:Lt,style:Ce,id:"JoL-player-container"},o.a.createElement("div",{className:"JoL-light-off-mask",ref:Qe}),o.a.createElement("video",{autoPlay:lt,muted:yn.current,className:"JoL-player",ref:Ze,src:Ie,poster:pt||void 0,id:"JoL-player"},Ni),Gt&&(At||o.a.createElement(P,{iconClass:"loading",fill:ct||"#ffb821",className:"player-loading",fontSize:"55px"})),o.a.createElement(D.Provider,{value:hs},o.a.createElement(ot,null)))};var jt=Object(i.forwardRef)(at);(oe=>oe.keys().map(oe))(n(95)),t.default=jt}]),$l={},Vg={get exports(){return $l},set exports(e){$l=e}};/*!
 * jQuery JavaScript Library v3.6.3
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2022-12-20T21:28Z
 */(function(e){(function(t,n){e.exports=t.document?n(t,!0):function(i){if(!i.document)throw new Error("jQuery requires a window with a document");return n(i)}})(typeof window<"u"?window:hp,function(t,n){var i=[],o=Object.getPrototypeOf,l=i.slice,a=i.flat?function(s){return i.flat.call(s)}:function(s){return i.concat.apply([],s)},v=i.push,h=i.indexOf,T={},P=T.toString,I=T.hasOwnProperty,A=I.toString,x=A.call(Object),_={},b=function(E){return typeof E=="function"&&typeof E.nodeType!="number"&&typeof E.item!="function"},D=function(E){return E!=null&&E===E.window},L=t.document,S={type:!0,src:!0,nonce:!0,noModule:!0};function c(s,E,R){R=R||L;var N,G,H=R.createElement("script");if(H.text=s,E)for(N in S)G=E[N]||E.getAttribute&&E.getAttribute(N),G&&H.setAttribute(N,G);R.head.appendChild(H).parentNode.removeChild(H)}function u(s){return s==null?s+"":typeof s=="object"||typeof s=="function"?T[P.call(s)]||"object":typeof s}var f="3.6.3",r=function(s,E){return new r.fn.init(s,E)};r.fn=r.prototype={jquery:f,constructor:r,length:0,toArray:function(){return l.call(this)},get:function(s){return s==null?l.call(this):s<0?this[s+this.length]:this[s]},pushStack:function(s){var E=r.merge(this.constructor(),s);return E.prevObject=this,E},each:function(s){return r.each(this,s)},map:function(s){return this.pushStack(r.map(this,function(E,R){return s.call(E,R,E)}))},slice:function(){return this.pushStack(l.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(r.grep(this,function(s,E){return(E+1)%2}))},odd:function(){return this.pushStack(r.grep(this,function(s,E){return E%2}))},eq:function(s){var E=this.length,R=+s+(s<0?E:0);return this.pushStack(R>=0&&R<E?[this[R]]:[])},end:function(){return this.prevObject||this.constructor()},push:v,sort:i.sort,splice:i.splice},r.extend=r.fn.extend=function(){var s,E,R,N,G,H,K=arguments[0]||{},Q=1,$=arguments.length,ie=!1;for(typeof K=="boolean"&&(ie=K,K=arguments[Q]||{},Q++),typeof K!="object"&&!b(K)&&(K={}),Q===$&&(K=this,Q--);Q<$;Q++)if((s=arguments[Q])!=null)for(E in s)N=s[E],!(E==="__proto__"||K===N)&&(ie&&N&&(r.isPlainObject(N)||(G=Array.isArray(N)))?(R=K[E],G&&!Array.isArray(R)?H=[]:!G&&!r.isPlainObject(R)?H={}:H=R,G=!1,K[E]=r.extend(ie,H,N)):N!==void 0&&(K[E]=N));return K},r.extend({expando:"jQuery"+(f+Math.random()).replace(/\D/g,""),isReady:!0,error:function(s){throw new Error(s)},noop:function(){},isPlainObject:function(s){var E,R;return!s||P.call(s)!=="[object Object]"?!1:(E=o(s),E?(R=I.call(E,"constructor")&&E.constructor,typeof R=="function"&&A.call(R)===x):!0)},isEmptyObject:function(s){var E;for(E in s)return!1;return!0},globalEval:function(s,E,R){c(s,{nonce:E&&E.nonce},R)},each:function(s,E){var R,N=0;if(p(s))for(R=s.length;N<R&&E.call(s[N],N,s[N])!==!1;N++);else for(N in s)if(E.call(s[N],N,s[N])===!1)break;return s},makeArray:function(s,E){var R=E||[];return s!=null&&(p(Object(s))?r.merge(R,typeof s=="string"?[s]:s):v.call(R,s)),R},inArray:function(s,E,R){return E==null?-1:h.call(E,s,R)},merge:function(s,E){for(var R=+E.length,N=0,G=s.length;N<R;N++)s[G++]=E[N];return s.length=G,s},grep:function(s,E,R){for(var N,G=[],H=0,K=s.length,Q=!R;H<K;H++)N=!E(s[H],H),N!==Q&&G.push(s[H]);return G},map:function(s,E,R){var N,G,H=0,K=[];if(p(s))for(N=s.length;H<N;H++)G=E(s[H],H,R),G!=null&&K.push(G);else for(H in s)G=E(s[H],H,R),G!=null&&K.push(G);return a(K)},guid:1,support:_}),typeof Symbol=="function"&&(r.fn[Symbol.iterator]=i[Symbol.iterator]),r.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(s,E){T["[object "+E+"]"]=E.toLowerCase()});function p(s){var E=!!s&&"length"in s&&s.length,R=u(s);return b(s)||D(s)?!1:R==="array"||E===0||typeof E=="number"&&E>0&&E-1 in s}var C=function(s){var E,R,N,G,H,K,Q,$,ie,ce,me,se,he,Ne,Ye,Fe,Ht,Nt,Tn,yt="sizzle"+1*new Date,qe=s.document,fn=0,ft=0,Rt=Ko(),Gi=Ko(),Go=Ko(),Sn=Ko(),jr=function(V,X){return V===X&&(me=!0),0},Ur={}.hasOwnProperty,dn=[],pr=dn.pop,Rn=dn.push,gr=dn.push,rc=dn.slice,Gr=function(V,X){for(var te=0,pe=V.length;te<pe;te++)if(V[te]===X)return te;return-1},Ls="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",gt="[\\x20\\t\\r\\n\\f]",Hr="(?:\\\\[\\da-fA-F]{1,6}"+gt+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",ic="\\["+gt+"*("+Hr+")(?:"+gt+"*([*^$|!~]?=)"+gt+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+Hr+"))|)"+gt+"*\\]",ws=":("+Hr+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+ic+")*)|.*)\\)|)",Zh=new RegExp(gt+"+","g"),Ho=new RegExp("^"+gt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+gt+"+$","g"),ep=new RegExp("^"+gt+"*,"+gt+"*"),oc=new RegExp("^"+gt+"*([>+~]|"+gt+")"+gt+"*"),tp=new RegExp(gt+"|>"),np=new RegExp(ws),rp=new RegExp("^"+Hr+"$"),zo={ID:new RegExp("^#("+Hr+")"),CLASS:new RegExp("^\\.("+Hr+")"),TAG:new RegExp("^("+Hr+"|[*])"),ATTR:new RegExp("^"+ic),PSEUDO:new RegExp("^"+ws),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+gt+"*(even|odd|(([+-]|)(\\d*)n|)"+gt+"*(?:([+-]|)"+gt+"*(\\d+)|))"+gt+"*\\)|)","i"),bool:new RegExp("^(?:"+Ls+")$","i"),needsContext:new RegExp("^"+gt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+gt+"*((?:-\\d)?\\d*)"+gt+"*\\)|)(?=[^-]|$)","i")},ip=/HTML$/i,op=/^(?:input|select|textarea|button)$/i,ap=/^h\d$/i,Hi=/^[^{]+\{\s*\[native \w/,sp=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,bs=/[+~]/,er=new RegExp("\\\\[\\da-fA-F]{1,6}"+gt+"?|\\\\([^\\r\\n\\f])","g"),tr=function(V,X){var te="0x"+V.slice(1)-65536;return X||(te<0?String.fromCharCode(te+65536):String.fromCharCode(te>>10|55296,te&1023|56320))},ac=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,sc=function(V,X){return X?V==="\0"?"�":V.slice(0,-1)+"\\"+V.charCodeAt(V.length-1).toString(16)+" ":"\\"+V},lc=function(){se()},lp=Wo(function(V){return V.disabled===!0&&V.nodeName.toLowerCase()==="fieldset"},{dir:"parentNode",next:"legend"});try{gr.apply(dn=rc.call(qe.childNodes),qe.childNodes),dn[qe.childNodes.length].nodeType}catch{gr={apply:dn.length?function(X,te){Rn.apply(X,rc.call(te))}:function(X,te){for(var pe=X.length,re=0;X[pe++]=te[re++];);X.length=pe-1}}}function Tt(V,X,te,pe){var re,ge,ye,ke,Ae,Ge,je,Ke=X&&X.ownerDocument,nt=X?X.nodeType:9;if(te=te||[],typeof V!="string"||!V||nt!==1&&nt!==9&&nt!==11)return te;if(!pe&&(se(X),X=X||he,Ye)){if(nt!==11&&(Ae=sp.exec(V)))if(re=Ae[1]){if(nt===9)if(ye=X.getElementById(re)){if(ye.id===re)return te.push(ye),te}else return te;else if(Ke&&(ye=Ke.getElementById(re))&&Tn(X,ye)&&ye.id===re)return te.push(ye),te}else{if(Ae[2])return gr.apply(te,X.getElementsByTagName(V)),te;if((re=Ae[3])&&R.getElementsByClassName&&X.getElementsByClassName)return gr.apply(te,X.getElementsByClassName(re)),te}if(R.qsa&&!Sn[V+" "]&&(!Fe||!Fe.test(V))&&(nt!==1||X.nodeName.toLowerCase()!=="object")){if(je=V,Ke=X,nt===1&&(tp.test(V)||oc.test(V))){for(Ke=bs.test(V)&&xs(X.parentNode)||X,(Ke!==X||!R.scope)&&((ke=X.getAttribute("id"))?ke=ke.replace(ac,sc):X.setAttribute("id",ke=yt)),Ge=K(V),ge=Ge.length;ge--;)Ge[ge]=(ke?"#"+ke:":scope")+" "+Vo(Ge[ge]);je=Ge.join(",")}try{if(R.cssSupportsSelector&&!CSS.supports("selector(:is("+je+"))"))throw new Error;return gr.apply(te,Ke.querySelectorAll(je)),te}catch{Sn(V,!0)}finally{ke===yt&&X.removeAttribute("id")}}}return $(V.replace(Ho,"$1"),X,te,pe)}function Ko(){var V=[];function X(te,pe){return V.push(te+" ")>N.cacheLength&&delete X[V.shift()],X[te+" "]=pe}return X}function Un(V){return V[yt]=!0,V}function On(V){var X=he.createElement("fieldset");try{return!!V(X)}catch{return!1}finally{X.parentNode&&X.parentNode.removeChild(X),X=null}}function ks(V,X){for(var te=V.split("|"),pe=te.length;pe--;)N.attrHandle[te[pe]]=X}function uc(V,X){var te=X&&V,pe=te&&V.nodeType===1&&X.nodeType===1&&V.sourceIndex-X.sourceIndex;if(pe)return pe;if(te){for(;te=te.nextSibling;)if(te===X)return-1}return V?1:-1}function up(V){return function(X){var te=X.nodeName.toLowerCase();return te==="input"&&X.type===V}}function cp(V){return function(X){var te=X.nodeName.toLowerCase();return(te==="input"||te==="button")&&X.type===V}}function cc(V){return function(X){return"form"in X?X.parentNode&&X.disabled===!1?"label"in X?"label"in X.parentNode?X.parentNode.disabled===V:X.disabled===V:X.isDisabled===V||X.isDisabled!==!V&&lp(X)===V:X.disabled===V:"label"in X?X.disabled===V:!1}}function zr(V){return Un(function(X){return X=+X,Un(function(te,pe){for(var re,ge=V([],te.length,X),ye=ge.length;ye--;)te[re=ge[ye]]&&(te[re]=!(pe[re]=te[re]))})})}function xs(V){return V&&typeof V.getElementsByTagName<"u"&&V}R=Tt.support={},H=Tt.isXML=function(V){var X=V&&V.namespaceURI,te=V&&(V.ownerDocument||V).documentElement;return!ip.test(X||te&&te.nodeName||"HTML")},se=Tt.setDocument=function(V){var X,te,pe=V?V.ownerDocument||V:qe;return pe==he||pe.nodeType!==9||!pe.documentElement||(he=pe,Ne=he.documentElement,Ye=!H(he),qe!=he&&(te=he.defaultView)&&te.top!==te&&(te.addEventListener?te.addEventListener("unload",lc,!1):te.attachEvent&&te.attachEvent("onunload",lc)),R.scope=On(function(re){return Ne.appendChild(re).appendChild(he.createElement("div")),typeof re.querySelectorAll<"u"&&!re.querySelectorAll(":scope fieldset div").length}),R.cssSupportsSelector=On(function(){return CSS.supports("selector(*)")&&he.querySelectorAll(":is(:jqfake)")&&!CSS.supports("selector(:is(*,:jqfake))")}),R.attributes=On(function(re){return re.className="i",!re.getAttribute("className")}),R.getElementsByTagName=On(function(re){return re.appendChild(he.createComment("")),!re.getElementsByTagName("*").length}),R.getElementsByClassName=Hi.test(he.getElementsByClassName),R.getById=On(function(re){return Ne.appendChild(re).id=yt,!he.getElementsByName||!he.getElementsByName(yt).length}),R.getById?(N.filter.ID=function(re){var ge=re.replace(er,tr);return function(ye){return ye.getAttribute("id")===ge}},N.find.ID=function(re,ge){if(typeof ge.getElementById<"u"&&Ye){var ye=ge.getElementById(re);return ye?[ye]:[]}}):(N.filter.ID=function(re){var ge=re.replace(er,tr);return function(ye){var ke=typeof ye.getAttributeNode<"u"&&ye.getAttributeNode("id");return ke&&ke.value===ge}},N.find.ID=function(re,ge){if(typeof ge.getElementById<"u"&&Ye){var ye,ke,Ae,Ge=ge.getElementById(re);if(Ge){if(ye=Ge.getAttributeNode("id"),ye&&ye.value===re)return[Ge];for(Ae=ge.getElementsByName(re),ke=0;Ge=Ae[ke++];)if(ye=Ge.getAttributeNode("id"),ye&&ye.value===re)return[Ge]}return[]}}),N.find.TAG=R.getElementsByTagName?function(re,ge){if(typeof ge.getElementsByTagName<"u")return ge.getElementsByTagName(re);if(R.qsa)return ge.querySelectorAll(re)}:function(re,ge){var ye,ke=[],Ae=0,Ge=ge.getElementsByTagName(re);if(re==="*"){for(;ye=Ge[Ae++];)ye.nodeType===1&&ke.push(ye);return ke}return Ge},N.find.CLASS=R.getElementsByClassName&&function(re,ge){if(typeof ge.getElementsByClassName<"u"&&Ye)return ge.getElementsByClassName(re)},Ht=[],Fe=[],(R.qsa=Hi.test(he.querySelectorAll))&&(On(function(re){var ge;Ne.appendChild(re).innerHTML="<a id='"+yt+"'></a><select id='"+yt+"-\r\\' msallowcapture=''><option selected=''></option></select>",re.querySelectorAll("[msallowcapture^='']").length&&Fe.push("[*^$]="+gt+`*(?:''|"")`),re.querySelectorAll("[selected]").length||Fe.push("\\["+gt+"*(?:value|"+Ls+")"),re.querySelectorAll("[id~="+yt+"-]").length||Fe.push("~="),ge=he.createElement("input"),ge.setAttribute("name",""),re.appendChild(ge),re.querySelectorAll("[name='']").length||Fe.push("\\["+gt+"*name"+gt+"*="+gt+`*(?:''|"")`),re.querySelectorAll(":checked").length||Fe.push(":checked"),re.querySelectorAll("a#"+yt+"+*").length||Fe.push(".#.+[+~]"),re.querySelectorAll("\\\f"),Fe.push("[\\r\\n\\f]")}),On(function(re){re.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var ge=he.createElement("input");ge.setAttribute("type","hidden"),re.appendChild(ge).setAttribute("name","D"),re.querySelectorAll("[name=d]").length&&Fe.push("name"+gt+"*[*^$|!~]?="),re.querySelectorAll(":enabled").length!==2&&Fe.push(":enabled",":disabled"),Ne.appendChild(re).disabled=!0,re.querySelectorAll(":disabled").length!==2&&Fe.push(":enabled",":disabled"),re.querySelectorAll("*,:x"),Fe.push(",.*:")})),(R.matchesSelector=Hi.test(Nt=Ne.matches||Ne.webkitMatchesSelector||Ne.mozMatchesSelector||Ne.oMatchesSelector||Ne.msMatchesSelector))&&On(function(re){R.disconnectedMatch=Nt.call(re,"*"),Nt.call(re,"[s!='']:x"),Ht.push("!=",ws)}),R.cssSupportsSelector||Fe.push(":has"),Fe=Fe.length&&new RegExp(Fe.join("|")),Ht=Ht.length&&new RegExp(Ht.join("|")),X=Hi.test(Ne.compareDocumentPosition),Tn=X||Hi.test(Ne.contains)?function(re,ge){var ye=re.nodeType===9&&re.documentElement||re,ke=ge&&ge.parentNode;return re===ke||!!(ke&&ke.nodeType===1&&(ye.contains?ye.contains(ke):re.compareDocumentPosition&&re.compareDocumentPosition(ke)&16))}:function(re,ge){if(ge){for(;ge=ge.parentNode;)if(ge===re)return!0}return!1},jr=X?function(re,ge){if(re===ge)return me=!0,0;var ye=!re.compareDocumentPosition-!ge.compareDocumentPosition;return ye||(ye=(re.ownerDocument||re)==(ge.ownerDocument||ge)?re.compareDocumentPosition(ge):1,ye&1||!R.sortDetached&&ge.compareDocumentPosition(re)===ye?re==he||re.ownerDocument==qe&&Tn(qe,re)?-1:ge==he||ge.ownerDocument==qe&&Tn(qe,ge)?1:ce?Gr(ce,re)-Gr(ce,ge):0:ye&4?-1:1)}:function(re,ge){if(re===ge)return me=!0,0;var ye,ke=0,Ae=re.parentNode,Ge=ge.parentNode,je=[re],Ke=[ge];if(!Ae||!Ge)return re==he?-1:ge==he?1:Ae?-1:Ge?1:ce?Gr(ce,re)-Gr(ce,ge):0;if(Ae===Ge)return uc(re,ge);for(ye=re;ye=ye.parentNode;)je.unshift(ye);for(ye=ge;ye=ye.parentNode;)Ke.unshift(ye);for(;je[ke]===Ke[ke];)ke++;return ke?uc(je[ke],Ke[ke]):je[ke]==qe?-1:Ke[ke]==qe?1:0}),he},Tt.matches=function(V,X){return Tt(V,null,null,X)},Tt.matchesSelector=function(V,X){if(se(V),R.matchesSelector&&Ye&&!Sn[X+" "]&&(!Ht||!Ht.test(X))&&(!Fe||!Fe.test(X)))try{var te=Nt.call(V,X);if(te||R.disconnectedMatch||V.document&&V.document.nodeType!==11)return te}catch{Sn(X,!0)}return Tt(X,he,null,[V]).length>0},Tt.contains=function(V,X){return(V.ownerDocument||V)!=he&&se(V),Tn(V,X)},Tt.attr=function(V,X){(V.ownerDocument||V)!=he&&se(V);var te=N.attrHandle[X.toLowerCase()],pe=te&&Ur.call(N.attrHandle,X.toLowerCase())?te(V,X,!Ye):void 0;return pe!==void 0?pe:R.attributes||!Ye?V.getAttribute(X):(pe=V.getAttributeNode(X))&&pe.specified?pe.value:null},Tt.escape=function(V){return(V+"").replace(ac,sc)},Tt.error=function(V){throw new Error("Syntax error, unrecognized expression: "+V)},Tt.uniqueSort=function(V){var X,te=[],pe=0,re=0;if(me=!R.detectDuplicates,ce=!R.sortStable&&V.slice(0),V.sort(jr),me){for(;X=V[re++];)X===V[re]&&(pe=te.push(re));for(;pe--;)V.splice(te[pe],1)}return ce=null,V},G=Tt.getText=function(V){var X,te="",pe=0,re=V.nodeType;if(re){if(re===1||re===9||re===11){if(typeof V.textContent=="string")return V.textContent;for(V=V.firstChild;V;V=V.nextSibling)te+=G(V)}else if(re===3||re===4)return V.nodeValue}else for(;X=V[pe++];)te+=G(X);return te},N=Tt.selectors={cacheLength:50,createPseudo:Un,match:zo,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(V){return V[1]=V[1].replace(er,tr),V[3]=(V[3]||V[4]||V[5]||"").replace(er,tr),V[2]==="~="&&(V[3]=" "+V[3]+" "),V.slice(0,4)},CHILD:function(V){return V[1]=V[1].toLowerCase(),V[1].slice(0,3)==="nth"?(V[3]||Tt.error(V[0]),V[4]=+(V[4]?V[5]+(V[6]||1):2*(V[3]==="even"||V[3]==="odd")),V[5]=+(V[7]+V[8]||V[3]==="odd")):V[3]&&Tt.error(V[0]),V},PSEUDO:function(V){var X,te=!V[6]&&V[2];return zo.CHILD.test(V[0])?null:(V[3]?V[2]=V[4]||V[5]||"":te&&np.test(te)&&(X=K(te,!0))&&(X=te.indexOf(")",te.length-X)-te.length)&&(V[0]=V[0].slice(0,X),V[2]=te.slice(0,X)),V.slice(0,3))}},filter:{TAG:function(V){var X=V.replace(er,tr).toLowerCase();return V==="*"?function(){return!0}:function(te){return te.nodeName&&te.nodeName.toLowerCase()===X}},CLASS:function(V){var X=Rt[V+" "];return X||(X=new RegExp("(^|"+gt+")"+V+"("+gt+"|$)"))&&Rt(V,function(te){return X.test(typeof te.className=="string"&&te.className||typeof te.getAttribute<"u"&&te.getAttribute("class")||"")})},ATTR:function(V,X,te){return function(pe){var re=Tt.attr(pe,V);return re==null?X==="!=":X?(re+="",X==="="?re===te:X==="!="?re!==te:X==="^="?te&&re.indexOf(te)===0:X==="*="?te&&re.indexOf(te)>-1:X==="$="?te&&re.slice(-te.length)===te:X==="~="?(" "+re.replace(Zh," ")+" ").indexOf(te)>-1:X==="|="?re===te||re.slice(0,te.length+1)===te+"-":!1):!0}},CHILD:function(V,X,te,pe,re){var ge=V.slice(0,3)!=="nth",ye=V.slice(-4)!=="last",ke=X==="of-type";return pe===1&&re===0?function(Ae){return!!Ae.parentNode}:function(Ae,Ge,je){var Ke,nt,St,He,zt,en,Ln=ge!==ye?"nextSibling":"previousSibling",_t=Ae.parentNode,zi=ke&&Ae.nodeName.toLowerCase(),Ki=!je&&!ke,wn=!1;if(_t){if(ge){for(;Ln;){for(He=Ae;He=He[Ln];)if(ke?He.nodeName.toLowerCase()===zi:He.nodeType===1)return!1;en=Ln=V==="only"&&!en&&"nextSibling"}return!0}if(en=[ye?_t.firstChild:_t.lastChild],ye&&Ki){for(He=_t,St=He[yt]||(He[yt]={}),nt=St[He.uniqueID]||(St[He.uniqueID]={}),Ke=nt[V]||[],zt=Ke[0]===fn&&Ke[1],wn=zt&&Ke[2],He=zt&&_t.childNodes[zt];He=++zt&&He&&He[Ln]||(wn=zt=0)||en.pop();)if(He.nodeType===1&&++wn&&He===Ae){nt[V]=[fn,zt,wn];break}}else if(Ki&&(He=Ae,St=He[yt]||(He[yt]={}),nt=St[He.uniqueID]||(St[He.uniqueID]={}),Ke=nt[V]||[],zt=Ke[0]===fn&&Ke[1],wn=zt),wn===!1)for(;(He=++zt&&He&&He[Ln]||(wn=zt=0)||en.pop())&&!((ke?He.nodeName.toLowerCase()===zi:He.nodeType===1)&&++wn&&(Ki&&(St=He[yt]||(He[yt]={}),nt=St[He.uniqueID]||(St[He.uniqueID]={}),nt[V]=[fn,wn]),He===Ae)););return wn-=re,wn===pe||wn%pe===0&&wn/pe>=0}}},PSEUDO:function(V,X){var te,pe=N.pseudos[V]||N.setFilters[V.toLowerCase()]||Tt.error("unsupported pseudo: "+V);return pe[yt]?pe(X):pe.length>1?(te=[V,V,"",X],N.setFilters.hasOwnProperty(V.toLowerCase())?Un(function(re,ge){for(var ye,ke=pe(re,X),Ae=ke.length;Ae--;)ye=Gr(re,ke[Ae]),re[ye]=!(ge[ye]=ke[Ae])}):function(re){return pe(re,0,te)}):pe}},pseudos:{not:Un(function(V){var X=[],te=[],pe=Q(V.replace(Ho,"$1"));return pe[yt]?Un(function(re,ge,ye,ke){for(var Ae,Ge=pe(re,null,ke,[]),je=re.length;je--;)(Ae=Ge[je])&&(re[je]=!(ge[je]=Ae))}):function(re,ge,ye){return X[0]=re,pe(X,null,ye,te),X[0]=null,!te.pop()}}),has:Un(function(V){return function(X){return Tt(V,X).length>0}}),contains:Un(function(V){return V=V.replace(er,tr),function(X){return(X.textContent||G(X)).indexOf(V)>-1}}),lang:Un(function(V){return rp.test(V||"")||Tt.error("unsupported lang: "+V),V=V.replace(er,tr).toLowerCase(),function(X){var te;do if(te=Ye?X.lang:X.getAttribute("xml:lang")||X.getAttribute("lang"))return te=te.toLowerCase(),te===V||te.indexOf(V+"-")===0;while((X=X.parentNode)&&X.nodeType===1);return!1}}),target:function(V){var X=s.location&&s.location.hash;return X&&X.slice(1)===V.id},root:function(V){return V===Ne},focus:function(V){return V===he.activeElement&&(!he.hasFocus||he.hasFocus())&&!!(V.type||V.href||~V.tabIndex)},enabled:cc(!1),disabled:cc(!0),checked:function(V){var X=V.nodeName.toLowerCase();return X==="input"&&!!V.checked||X==="option"&&!!V.selected},selected:function(V){return V.parentNode&&V.parentNode.selectedIndex,V.selected===!0},empty:function(V){for(V=V.firstChild;V;V=V.nextSibling)if(V.nodeType<6)return!1;return!0},parent:function(V){return!N.pseudos.empty(V)},header:function(V){return ap.test(V.nodeName)},input:function(V){return op.test(V.nodeName)},button:function(V){var X=V.nodeName.toLowerCase();return X==="input"&&V.type==="button"||X==="button"},text:function(V){var X;return V.nodeName.toLowerCase()==="input"&&V.type==="text"&&((X=V.getAttribute("type"))==null||X.toLowerCase()==="text")},first:zr(function(){return[0]}),last:zr(function(V,X){return[X-1]}),eq:zr(function(V,X,te){return[te<0?te+X:te]}),even:zr(function(V,X){for(var te=0;te<X;te+=2)V.push(te);return V}),odd:zr(function(V,X){for(var te=1;te<X;te+=2)V.push(te);return V}),lt:zr(function(V,X,te){for(var pe=te<0?te+X:te>X?X:te;--pe>=0;)V.push(pe);return V}),gt:zr(function(V,X,te){for(var pe=te<0?te+X:te;++pe<X;)V.push(pe);return V})}},N.pseudos.nth=N.pseudos.eq;for(E in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})N.pseudos[E]=up(E);for(E in{submit:!0,reset:!0})N.pseudos[E]=cp(E);function fc(){}fc.prototype=N.filters=N.pseudos,N.setFilters=new fc,K=Tt.tokenize=function(V,X){var te,pe,re,ge,ye,ke,Ae,Ge=Gi[V+" "];if(Ge)return X?0:Ge.slice(0);for(ye=V,ke=[],Ae=N.preFilter;ye;){(!te||(pe=ep.exec(ye)))&&(pe&&(ye=ye.slice(pe[0].length)||ye),ke.push(re=[])),te=!1,(pe=oc.exec(ye))&&(te=pe.shift(),re.push({value:te,type:pe[0].replace(Ho," ")}),ye=ye.slice(te.length));for(ge in N.filter)(pe=zo[ge].exec(ye))&&(!Ae[ge]||(pe=Ae[ge](pe)))&&(te=pe.shift(),re.push({value:te,type:ge,matches:pe}),ye=ye.slice(te.length));if(!te)break}return X?ye.length:ye?Tt.error(V):Gi(V,ke).slice(0)};function Vo(V){for(var X=0,te=V.length,pe="";X<te;X++)pe+=V[X].value;return pe}function Wo(V,X,te){var pe=X.dir,re=X.next,ge=re||pe,ye=te&&ge==="parentNode",ke=ft++;return X.first?function(Ae,Ge,je){for(;Ae=Ae[pe];)if(Ae.nodeType===1||ye)return V(Ae,Ge,je);return!1}:function(Ae,Ge,je){var Ke,nt,St,He=[fn,ke];if(je){for(;Ae=Ae[pe];)if((Ae.nodeType===1||ye)&&V(Ae,Ge,je))return!0}else for(;Ae=Ae[pe];)if(Ae.nodeType===1||ye)if(St=Ae[yt]||(Ae[yt]={}),nt=St[Ae.uniqueID]||(St[Ae.uniqueID]={}),re&&re===Ae.nodeName.toLowerCase())Ae=Ae[pe]||Ae;else{if((Ke=nt[ge])&&Ke[0]===fn&&Ke[1]===ke)return He[2]=Ke[2];if(nt[ge]=He,He[2]=V(Ae,Ge,je))return!0}return!1}}function Cs(V){return V.length>1?function(X,te,pe){for(var re=V.length;re--;)if(!V[re](X,te,pe))return!1;return!0}:V[0]}function fp(V,X,te){for(var pe=0,re=X.length;pe<re;pe++)Tt(V,X[pe],te);return te}function qo(V,X,te,pe,re){for(var ge,ye=[],ke=0,Ae=V.length,Ge=X!=null;ke<Ae;ke++)(ge=V[ke])&&(!te||te(ge,pe,re))&&(ye.push(ge),Ge&&X.push(ke));return ye}function As(V,X,te,pe,re,ge){return pe&&!pe[yt]&&(pe=As(pe)),re&&!re[yt]&&(re=As(re,ge)),Un(function(ye,ke,Ae,Ge){var je,Ke,nt,St=[],He=[],zt=ke.length,en=ye||fp(X||"*",Ae.nodeType?[Ae]:Ae,[]),Ln=V&&(ye||!X)?qo(en,St,V,Ae,Ge):en,_t=te?re||(ye?V:zt||pe)?[]:ke:Ln;if(te&&te(Ln,_t,Ae,Ge),pe)for(je=qo(_t,He),pe(je,[],Ae,Ge),Ke=je.length;Ke--;)(nt=je[Ke])&&(_t[He[Ke]]=!(Ln[He[Ke]]=nt));if(ye){if(re||V){if(re){for(je=[],Ke=_t.length;Ke--;)(nt=_t[Ke])&&je.push(Ln[Ke]=nt);re(null,_t=[],je,Ge)}for(Ke=_t.length;Ke--;)(nt=_t[Ke])&&(je=re?Gr(ye,nt):St[Ke])>-1&&(ye[je]=!(ke[je]=nt))}}else _t=qo(_t===ke?_t.splice(zt,_t.length):_t),re?re(null,ke,_t,Ge):gr.apply(ke,_t)})}function _s(V){for(var X,te,pe,re=V.length,ge=N.relative[V[0].type],ye=ge||N.relative[" "],ke=ge?1:0,Ae=Wo(function(Ke){return Ke===X},ye,!0),Ge=Wo(function(Ke){return Gr(X,Ke)>-1},ye,!0),je=[function(Ke,nt,St){var He=!ge&&(St||nt!==ie)||((X=nt).nodeType?Ae(Ke,nt,St):Ge(Ke,nt,St));return X=null,He}];ke<re;ke++)if(te=N.relative[V[ke].type])je=[Wo(Cs(je),te)];else{if(te=N.filter[V[ke].type].apply(null,V[ke].matches),te[yt]){for(pe=++ke;pe<re&&!N.relative[V[pe].type];pe++);return As(ke>1&&Cs(je),ke>1&&Vo(V.slice(0,ke-1).concat({value:V[ke-2].type===" "?"*":""})).replace(Ho,"$1"),te,ke<pe&&_s(V.slice(ke,pe)),pe<re&&_s(V=V.slice(pe)),pe<re&&Vo(V))}je.push(te)}return Cs(je)}function dp(V,X){var te=X.length>0,pe=V.length>0,re=function(ge,ye,ke,Ae,Ge){var je,Ke,nt,St=0,He="0",zt=ge&&[],en=[],Ln=ie,_t=ge||pe&&N.find.TAG("*",Ge),zi=fn+=Ln==null?1:Math.random()||.1,Ki=_t.length;for(Ge&&(ie=ye==he||ye||Ge);He!==Ki&&(je=_t[He])!=null;He++){if(pe&&je){for(Ke=0,!ye&&je.ownerDocument!=he&&(se(je),ke=!Ye);nt=V[Ke++];)if(nt(je,ye||he,ke)){Ae.push(je);break}Ge&&(fn=zi)}te&&((je=!nt&&je)&&St--,ge&&zt.push(je))}if(St+=He,te&&He!==St){for(Ke=0;nt=X[Ke++];)nt(zt,en,ye,ke);if(ge){if(St>0)for(;He--;)zt[He]||en[He]||(en[He]=pr.call(Ae));en=qo(en)}gr.apply(Ae,en),Ge&&!ge&&en.length>0&&St+X.length>1&&Tt.uniqueSort(Ae)}return Ge&&(fn=zi,ie=Ln),zt};return te?Un(re):re}return Q=Tt.compile=function(V,X){var te,pe=[],re=[],ge=Go[V+" "];if(!ge){for(X||(X=K(V)),te=X.length;te--;)ge=_s(X[te]),ge[yt]?pe.push(ge):re.push(ge);ge=Go(V,dp(re,pe)),ge.selector=V}return ge},$=Tt.select=function(V,X,te,pe){var re,ge,ye,ke,Ae,Ge=typeof V=="function"&&V,je=!pe&&K(V=Ge.selector||V);if(te=te||[],je.length===1){if(ge=je[0]=je[0].slice(0),ge.length>2&&(ye=ge[0]).type==="ID"&&X.nodeType===9&&Ye&&N.relative[ge[1].type]){if(X=(N.find.ID(ye.matches[0].replace(er,tr),X)||[])[0],X)Ge&&(X=X.parentNode);else return te;V=V.slice(ge.shift().value.length)}for(re=zo.needsContext.test(V)?0:ge.length;re--&&(ye=ge[re],!N.relative[ke=ye.type]);)if((Ae=N.find[ke])&&(pe=Ae(ye.matches[0].replace(er,tr),bs.test(ge[0].type)&&xs(X.parentNode)||X))){if(ge.splice(re,1),V=pe.length&&Vo(ge),!V)return gr.apply(te,pe),te;break}}return(Ge||Q(V,je))(pe,X,!Ye,te,!X||bs.test(V)&&xs(X.parentNode)||X),te},R.sortStable=yt.split("").sort(jr).join("")===yt,R.detectDuplicates=!!me,se(),R.sortDetached=On(function(V){return V.compareDocumentPosition(he.createElement("fieldset"))&1}),On(function(V){return V.innerHTML="<a href='#'></a>",V.firstChild.getAttribute("href")==="#"})||ks("type|href|height|width",function(V,X,te){if(!te)return V.getAttribute(X,X.toLowerCase()==="type"?1:2)}),(!R.attributes||!On(function(V){return V.innerHTML="<input/>",V.firstChild.setAttribute("value",""),V.firstChild.getAttribute("value")===""}))&&ks("value",function(V,X,te){if(!te&&V.nodeName.toLowerCase()==="input")return V.defaultValue}),On(function(V){return V.getAttribute("disabled")==null})||ks(Ls,function(V,X,te){var pe;if(!te)return V[X]===!0?X.toLowerCase():(pe=V.getAttributeNode(X))&&pe.specified?pe.value:null}),Tt}(t);r.find=C,r.expr=C.selectors,r.expr[":"]=r.expr.pseudos,r.uniqueSort=r.unique=C.uniqueSort,r.text=C.getText,r.isXMLDoc=C.isXML,r.contains=C.contains,r.escapeSelector=C.escape;var g=function(s,E,R){for(var N=[],G=R!==void 0;(s=s[E])&&s.nodeType!==9;)if(s.nodeType===1){if(G&&r(s).is(R))break;N.push(s)}return N},m=function(s,E){for(var R=[];s;s=s.nextSibling)s.nodeType===1&&s!==E&&R.push(s);return R},k=r.expr.match.needsContext;function d(s,E){return s.nodeName&&s.nodeName.toLowerCase()===E.toLowerCase()}var w=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function y(s,E,R){return b(E)?r.grep(s,function(N,G){return!!E.call(N,G,N)!==R}):E.nodeType?r.grep(s,function(N){return N===E!==R}):typeof E!="string"?r.grep(s,function(N){return h.call(E,N)>-1!==R}):r.filter(E,s,R)}r.filter=function(s,E,R){var N=E[0];return R&&(s=":not("+s+")"),E.length===1&&N.nodeType===1?r.find.matchesSelector(N,s)?[N]:[]:r.find.matches(s,r.grep(E,function(G){return G.nodeType===1}))},r.fn.extend({find:function(s){var E,R,N=this.length,G=this;if(typeof s!="string")return this.pushStack(r(s).filter(function(){for(E=0;E<N;E++)if(r.contains(G[E],this))return!0}));for(R=this.pushStack([]),E=0;E<N;E++)r.find(s,G[E],R);return N>1?r.uniqueSort(R):R},filter:function(s){return this.pushStack(y(this,s||[],!1))},not:function(s){return this.pushStack(y(this,s||[],!0))},is:function(s){return!!y(this,typeof s=="string"&&k.test(s)?r(s):s||[],!1).length}});var O,F=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,B=r.fn.init=function(s,E,R){var N,G;if(!s)return this;if(R=R||O,typeof s=="string")if(s[0]==="<"&&s[s.length-1]===">"&&s.length>=3?N=[null,s,null]:N=F.exec(s),N&&(N[1]||!E))if(N[1]){if(E=E instanceof r?E[0]:E,r.merge(this,r.parseHTML(N[1],E&&E.nodeType?E.ownerDocument||E:L,!0)),w.test(N[1])&&r.isPlainObject(E))for(N in E)b(this[N])?this[N](E[N]):this.attr(N,E[N]);return this}else return G=L.getElementById(N[2]),G&&(this[0]=G,this.length=1),this;else return!E||E.jquery?(E||R).find(s):this.constructor(E).find(s);else{if(s.nodeType)return this[0]=s,this.length=1,this;if(b(s))return R.ready!==void 0?R.ready(s):s(r)}return r.makeArray(s,this)};B.prototype=r.fn,O=r(L);var M=/^(?:parents|prev(?:Until|All))/,j={children:!0,contents:!0,next:!0,prev:!0};r.fn.extend({has:function(s){var E=r(s,this),R=E.length;return this.filter(function(){for(var N=0;N<R;N++)if(r.contains(this,E[N]))return!0})},closest:function(s,E){var R,N=0,G=this.length,H=[],K=typeof s!="string"&&r(s);if(!k.test(s)){for(;N<G;N++)for(R=this[N];R&&R!==E;R=R.parentNode)if(R.nodeType<11&&(K?K.index(R)>-1:R.nodeType===1&&r.find.matchesSelector(R,s))){H.push(R);break}}return this.pushStack(H.length>1?r.uniqueSort(H):H)},index:function(s){return s?typeof s=="string"?h.call(r(s),this[0]):h.call(this,s.jquery?s[0]:s):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(s,E){return this.pushStack(r.uniqueSort(r.merge(this.get(),r(s,E))))},addBack:function(s){return this.add(s==null?this.prevObject:this.prevObject.filter(s))}});function U(s,E){for(;(s=s[E])&&s.nodeType!==1;);return s}r.each({parent:function(s){var E=s.parentNode;return E&&E.nodeType!==11?E:null},parents:function(s){return g(s,"parentNode")},parentsUntil:function(s,E,R){return g(s,"parentNode",R)},next:function(s){return U(s,"nextSibling")},prev:function(s){return U(s,"previousSibling")},nextAll:function(s){return g(s,"nextSibling")},prevAll:function(s){return g(s,"previousSibling")},nextUntil:function(s,E,R){return g(s,"nextSibling",R)},prevUntil:function(s,E,R){return g(s,"previousSibling",R)},siblings:function(s){return m((s.parentNode||{}).firstChild,s)},children:function(s){return m(s.firstChild)},contents:function(s){return s.contentDocument!=null&&o(s.contentDocument)?s.contentDocument:(d(s,"template")&&(s=s.content||s),r.merge([],s.childNodes))}},function(s,E){r.fn[s]=function(R,N){var G=r.map(this,E,R);return s.slice(-5)!=="Until"&&(N=R),N&&typeof N=="string"&&(G=r.filter(N,G)),this.length>1&&(j[s]||r.uniqueSort(G),M.test(s)&&G.reverse()),this.pushStack(G)}});var z=/[^\x20\t\r\n\f]+/g;function q(s){var E={};return r.each(s.match(z)||[],function(R,N){E[N]=!0}),E}r.Callbacks=function(s){s=typeof s=="string"?q(s):r.extend({},s);var E,R,N,G,H=[],K=[],Q=-1,$=function(){for(G=G||s.once,N=E=!0;K.length;Q=-1)for(R=K.shift();++Q<H.length;)H[Q].apply(R[0],R[1])===!1&&s.stopOnFalse&&(Q=H.length,R=!1);s.memory||(R=!1),E=!1,G&&(R?H=[]:H="")},ie={add:function(){return H&&(R&&!E&&(Q=H.length-1,K.push(R)),function ce(me){r.each(me,function(se,he){b(he)?(!s.unique||!ie.has(he))&&H.push(he):he&&he.length&&u(he)!=="string"&&ce(he)})}(arguments),R&&!E&&$()),this},remove:function(){return r.each(arguments,function(ce,me){for(var se;(se=r.inArray(me,H,se))>-1;)H.splice(se,1),se<=Q&&Q--}),this},has:function(ce){return ce?r.inArray(ce,H)>-1:H.length>0},empty:function(){return H&&(H=[]),this},disable:function(){return G=K=[],H=R="",this},disabled:function(){return!H},lock:function(){return G=K=[],!R&&!E&&(H=R=""),this},locked:function(){return!!G},fireWith:function(ce,me){return G||(me=me||[],me=[ce,me.slice?me.slice():me],K.push(me),E||$()),this},fire:function(){return ie.fireWith(this,arguments),this},fired:function(){return!!N}};return ie};function Y(s){return s}function W(s){throw s}function J(s,E,R,N){var G;try{s&&b(G=s.promise)?G.call(s).done(E).fail(R):s&&b(G=s.then)?G.call(s,E,R):E.apply(void 0,[s].slice(N))}catch(H){R.apply(void 0,[H])}}r.extend({Deferred:function(s){var E=[["notify","progress",r.Callbacks("memory"),r.Callbacks("memory"),2],["resolve","done",r.Callbacks("once memory"),r.Callbacks("once memory"),0,"resolved"],["reject","fail",r.Callbacks("once memory"),r.Callbacks("once memory"),1,"rejected"]],R="pending",N={state:function(){return R},always:function(){return G.done(arguments).fail(arguments),this},catch:function(H){return N.then(null,H)},pipe:function(){var H=arguments;return r.Deferred(function(K){r.each(E,function(Q,$){var ie=b(H[$[4]])&&H[$[4]];G[$[1]](function(){var ce=ie&&ie.apply(this,arguments);ce&&b(ce.promise)?ce.promise().progress(K.notify).done(K.resolve).fail(K.reject):K[$[0]+"With"](this,ie?[ce]:arguments)})}),H=null}).promise()},then:function(H,K,Q){var $=0;function ie(ce,me,se,he){return function(){var Ne=this,Ye=arguments,Fe=function(){var Nt,Tn;if(!(ce<$)){if(Nt=se.apply(Ne,Ye),Nt===me.promise())throw new TypeError("Thenable self-resolution");Tn=Nt&&(typeof Nt=="object"||typeof Nt=="function")&&Nt.then,b(Tn)?he?Tn.call(Nt,ie($,me,Y,he),ie($,me,W,he)):($++,Tn.call(Nt,ie($,me,Y,he),ie($,me,W,he),ie($,me,Y,me.notifyWith))):(se!==Y&&(Ne=void 0,Ye=[Nt]),(he||me.resolveWith)(Ne,Ye))}},Ht=he?Fe:function(){try{Fe()}catch(Nt){r.Deferred.exceptionHook&&r.Deferred.exceptionHook(Nt,Ht.stackTrace),ce+1>=$&&(se!==W&&(Ne=void 0,Ye=[Nt]),me.rejectWith(Ne,Ye))}};ce?Ht():(r.Deferred.getStackHook&&(Ht.stackTrace=r.Deferred.getStackHook()),t.setTimeout(Ht))}}return r.Deferred(function(ce){E[0][3].add(ie(0,ce,b(Q)?Q:Y,ce.notifyWith)),E[1][3].add(ie(0,ce,b(H)?H:Y)),E[2][3].add(ie(0,ce,b(K)?K:W))}).promise()},promise:function(H){return H!=null?r.extend(H,N):N}},G={};return r.each(E,function(H,K){var Q=K[2],$=K[5];N[K[1]]=Q.add,$&&Q.add(function(){R=$},E[3-H][2].disable,E[3-H][3].disable,E[0][2].lock,E[0][3].lock),Q.add(K[3].fire),G[K[0]]=function(){return G[K[0]+"With"](this===G?void 0:this,arguments),this},G[K[0]+"With"]=Q.fireWith}),N.promise(G),s&&s.call(G,G),G},when:function(s){var E=arguments.length,R=E,N=Array(R),G=l.call(arguments),H=r.Deferred(),K=function(Q){return function($){N[Q]=this,G[Q]=arguments.length>1?l.call(arguments):$,--E||H.resolveWith(N,G)}};if(E<=1&&(J(s,H.done(K(R)).resolve,H.reject,!E),H.state()==="pending"||b(G[R]&&G[R].then)))return H.then();for(;R--;)J(G[R],K(R),H.reject);return H.promise()}});var Z=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;r.Deferred.exceptionHook=function(s,E){t.console&&t.console.warn&&s&&Z.test(s.name)&&t.console.warn("jQuery.Deferred exception: "+s.message,s.stack,E)},r.readyException=function(s){t.setTimeout(function(){throw s})};var ee=r.Deferred();r.fn.ready=function(s){return ee.then(s).catch(function(E){r.readyException(E)}),this},r.extend({isReady:!1,readyWait:1,ready:function(s){(s===!0?--r.readyWait:r.isReady)||(r.isReady=!0,!(s!==!0&&--r.readyWait>0)&&ee.resolveWith(L,[r]))}}),r.ready.then=ee.then;function le(){L.removeEventListener("DOMContentLoaded",le),t.removeEventListener("load",le),r.ready()}L.readyState==="complete"||L.readyState!=="loading"&&!L.documentElement.doScroll?t.setTimeout(r.ready):(L.addEventListener("DOMContentLoaded",le),t.addEventListener("load",le));var ue=function(s,E,R,N,G,H,K){var Q=0,$=s.length,ie=R==null;if(u(R)==="object"){G=!0;for(Q in R)ue(s,E,Q,R[Q],!0,H,K)}else if(N!==void 0&&(G=!0,b(N)||(K=!0),ie&&(K?(E.call(s,N),E=null):(ie=E,E=function(ce,me,se){return ie.call(r(ce),se)})),E))for(;Q<$;Q++)E(s[Q],R,K?N:N.call(s[Q],Q,E(s[Q],R)));return G?s:ie?E.call(s):$?E(s[0],R):H},fe=/^-ms-/,ve=/-([a-z])/g;function be(s,E){return E.toUpperCase()}function we(s){return s.replace(fe,"ms-").replace(ve,be)}var _e=function(s){return s.nodeType===1||s.nodeType===9||!+s.nodeType};function Pe(){this.expando=r.expando+Pe.uid++}Pe.uid=1,Pe.prototype={cache:function(s){var E=s[this.expando];return E||(E={},_e(s)&&(s.nodeType?s[this.expando]=E:Object.defineProperty(s,this.expando,{value:E,configurable:!0}))),E},set:function(s,E,R){var N,G=this.cache(s);if(typeof E=="string")G[we(E)]=R;else for(N in E)G[we(N)]=E[N];return G},get:function(s,E){return E===void 0?this.cache(s):s[this.expando]&&s[this.expando][we(E)]},access:function(s,E,R){return E===void 0||E&&typeof E=="string"&&R===void 0?this.get(s,E):(this.set(s,E,R),R!==void 0?R:E)},remove:function(s,E){var R,N=s[this.expando];if(N!==void 0){if(E!==void 0)for(Array.isArray(E)?E=E.map(we):(E=we(E),E=E in N?[E]:E.match(z)||[]),R=E.length;R--;)delete N[E[R]];(E===void 0||r.isEmptyObject(N))&&(s.nodeType?s[this.expando]=void 0:delete s[this.expando])}},hasData:function(s){var E=s[this.expando];return E!==void 0&&!r.isEmptyObject(E)}};var Le=new Pe,Be=new Pe,ut=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Ue=/[A-Z]/g;function et(s){return s==="true"?!0:s==="false"?!1:s==="null"?null:s===+s+""?+s:ut.test(s)?JSON.parse(s):s}function ot(s,E,R){var N;if(R===void 0&&s.nodeType===1)if(N="data-"+E.replace(Ue,"-$&").toLowerCase(),R=s.getAttribute(N),typeof R=="string"){try{R=et(R)}catch{}Be.set(s,E,R)}else R=void 0;return R}r.extend({hasData:function(s){return Be.hasData(s)||Le.hasData(s)},data:function(s,E,R){return Be.access(s,E,R)},removeData:function(s,E){Be.remove(s,E)},_data:function(s,E,R){return Le.access(s,E,R)},_removeData:function(s,E){Le.remove(s,E)}}),r.fn.extend({data:function(s,E){var R,N,G,H=this[0],K=H&&H.attributes;if(s===void 0){if(this.length&&(G=Be.get(H),H.nodeType===1&&!Le.get(H,"hasDataAttrs"))){for(R=K.length;R--;)K[R]&&(N=K[R].name,N.indexOf("data-")===0&&(N=we(N.slice(5)),ot(H,N,G[N])));Le.set(H,"hasDataAttrs",!0)}return G}return typeof s=="object"?this.each(function(){Be.set(this,s)}):ue(this,function(Q){var $;if(H&&Q===void 0)return $=Be.get(H,s),$!==void 0||($=ot(H,s),$!==void 0)?$:void 0;this.each(function(){Be.set(this,s,Q)})},null,E,arguments.length>1,null,!0)},removeData:function(s){return this.each(function(){Be.remove(this,s)})}}),r.extend({queue:function(s,E,R){var N;if(s)return E=(E||"fx")+"queue",N=Le.get(s,E),R&&(!N||Array.isArray(R)?N=Le.access(s,E,r.makeArray(R)):N.push(R)),N||[]},dequeue:function(s,E){E=E||"fx";var R=r.queue(s,E),N=R.length,G=R.shift(),H=r._queueHooks(s,E),K=function(){r.dequeue(s,E)};G==="inprogress"&&(G=R.shift(),N--),G&&(E==="fx"&&R.unshift("inprogress"),delete H.stop,G.call(s,K,H)),!N&&H&&H.empty.fire()},_queueHooks:function(s,E){var R=E+"queueHooks";return Le.get(s,R)||Le.access(s,R,{empty:r.Callbacks("once memory").add(function(){Le.remove(s,[E+"queue",R])})})}}),r.fn.extend({queue:function(s,E){var R=2;return typeof s!="string"&&(E=s,s="fx",R--),arguments.length<R?r.queue(this[0],s):E===void 0?this:this.each(function(){var N=r.queue(this,s,E);r._queueHooks(this,s),s==="fx"&&N[0]!=="inprogress"&&r.dequeue(this,s)})},dequeue:function(s){return this.each(function(){r.dequeue(this,s)})},clearQueue:function(s){return this.queue(s||"fx",[])},promise:function(s,E){var R,N=1,G=r.Deferred(),H=this,K=this.length,Q=function(){--N||G.resolveWith(H,[H])};for(typeof s!="string"&&(E=s,s=void 0),s=s||"fx";K--;)R=Le.get(H[K],s+"queueHooks"),R&&R.empty&&(N++,R.empty.add(Q));return Q(),G.promise(E)}});var ht=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,bt=new RegExp("^(?:([+-])=|)("+ht+")([a-z%]*)$","i"),Ee=["Top","Right","Bottom","Left"],xe=L.documentElement,ze=function(s){return r.contains(s.ownerDocument,s)},rt={composed:!0};xe.getRootNode&&(ze=function(s){return r.contains(s.ownerDocument,s)||s.getRootNode(rt)===s.ownerDocument});var at=function(s,E){return s=E||s,s.style.display==="none"||s.style.display===""&&ze(s)&&r.css(s,"display")==="none"};function jt(s,E,R,N){var G,H,K=20,Q=N?function(){return N.cur()}:function(){return r.css(s,E,"")},$=Q(),ie=R&&R[3]||(r.cssNumber[E]?"":"px"),ce=s.nodeType&&(r.cssNumber[E]||ie!=="px"&&+$)&&bt.exec(r.css(s,E));if(ce&&ce[3]!==ie){for($=$/2,ie=ie||ce[3],ce=+$||1;K--;)r.style(s,E,ce+ie),(1-H)*(1-(H=Q()/$||.5))<=0&&(K=0),ce=ce/H;ce=ce*2,r.style(s,E,ce+ie),R=R||[]}return R&&(ce=+ce||+$||0,G=R[1]?ce+(R[1]+1)*R[2]:+R[2],N&&(N.unit=ie,N.start=ce,N.end=G)),G}var Ut={};function oe(s){var E,R=s.ownerDocument,N=s.nodeName,G=Ut[N];return G||(E=R.body.appendChild(R.createElement(N)),G=r.css(E,"display"),E.parentNode.removeChild(E),G==="none"&&(G="block"),Ut[N]=G,G)}function ae(s,E){for(var R,N,G=[],H=0,K=s.length;H<K;H++)N=s[H],N.style&&(R=N.style.display,E?(R==="none"&&(G[H]=Le.get(N,"display")||null,G[H]||(N.style.display="")),N.style.display===""&&at(N)&&(G[H]=oe(N))):R!=="none"&&(G[H]="none",Le.set(N,"display",R)));for(H=0;H<K;H++)G[H]!=null&&(s[H].style.display=G[H]);return s}r.fn.extend({show:function(){return ae(this,!0)},hide:function(){return ae(this)},toggle:function(s){return typeof s=="boolean"?s?this.show():this.hide():this.each(function(){at(this)?r(this).show():r(this).hide()})}});var ne=/^(?:checkbox|radio)$/i,de=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,Ce=/^$|^module$|\/(?:java|ecma)script/i;(function(){var s=L.createDocumentFragment(),E=s.appendChild(L.createElement("div")),R=L.createElement("input");R.setAttribute("type","radio"),R.setAttribute("checked","checked"),R.setAttribute("name","t"),E.appendChild(R),_.checkClone=E.cloneNode(!0).cloneNode(!0).lastChild.checked,E.innerHTML="<textarea>x</textarea>",_.noCloneChecked=!!E.cloneNode(!0).lastChild.defaultValue,E.innerHTML="<option></option>",_.option=!!E.lastChild})();var Te={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Te.tbody=Te.tfoot=Te.colgroup=Te.caption=Te.thead,Te.th=Te.td,_.option||(Te.optgroup=Te.option=[1,"<select multiple='multiple'>","</select>"]);function Re(s,E){var R;return typeof s.getElementsByTagName<"u"?R=s.getElementsByTagName(E||"*"):typeof s.querySelectorAll<"u"?R=s.querySelectorAll(E||"*"):R=[],E===void 0||E&&d(s,E)?r.merge([s],R):R}function De(s,E){for(var R=0,N=s.length;R<N;R++)Le.set(s[R],"globalEval",!E||Le.get(E[R],"globalEval"))}var tt=/<|&#?\w+;/;function Je(s,E,R,N,G){for(var H,K,Q,$,ie,ce,me=E.createDocumentFragment(),se=[],he=0,Ne=s.length;he<Ne;he++)if(H=s[he],H||H===0)if(u(H)==="object")r.merge(se,H.nodeType?[H]:H);else if(!tt.test(H))se.push(E.createTextNode(H));else{for(K=K||me.appendChild(E.createElement("div")),Q=(de.exec(H)||["",""])[1].toLowerCase(),$=Te[Q]||Te._default,K.innerHTML=$[1]+r.htmlPrefilter(H)+$[2],ce=$[0];ce--;)K=K.lastChild;r.merge(se,K.childNodes),K=me.firstChild,K.textContent=""}for(me.textContent="",he=0;H=se[he++];){if(N&&r.inArray(H,N)>-1){G&&G.push(H);continue}if(ie=ze(H),K=Re(me.appendChild(H),"script"),ie&&De(K),R)for(ce=0;H=K[ce++];)Ce.test(H.type||"")&&R.push(H)}return me}var Ve=/^([^.]*)(?:\.(.+)|)/;function Xe(){return!0}function Me(){return!1}function We(s,E){return s===Ie()==(E==="focus")}function Ie(){try{return L.activeElement}catch{}}function $e(s,E,R,N,G,H){var K,Q;if(typeof E=="object"){typeof R!="string"&&(N=N||R,R=void 0);for(Q in E)$e(s,Q,R,N,E[Q],H);return s}if(N==null&&G==null?(G=R,N=R=void 0):G==null&&(typeof R=="string"?(G=N,N=void 0):(G=N,N=R,R=void 0)),G===!1)G=Me;else if(!G)return s;return H===1&&(K=G,G=function($){return r().off($),K.apply(this,arguments)},G.guid=K.guid||(K.guid=r.guid++)),s.each(function(){r.event.add(this,E,G,N,R)})}r.event={global:{},add:function(s,E,R,N,G){var H,K,Q,$,ie,ce,me,se,he,Ne,Ye,Fe=Le.get(s);if(_e(s))for(R.handler&&(H=R,R=H.handler,G=H.selector),G&&r.find.matchesSelector(xe,G),R.guid||(R.guid=r.guid++),($=Fe.events)||($=Fe.events=Object.create(null)),(K=Fe.handle)||(K=Fe.handle=function(Ht){return typeof r<"u"&&r.event.triggered!==Ht.type?r.event.dispatch.apply(s,arguments):void 0}),E=(E||"").match(z)||[""],ie=E.length;ie--;)Q=Ve.exec(E[ie])||[],he=Ye=Q[1],Ne=(Q[2]||"").split(".").sort(),he&&(me=r.event.special[he]||{},he=(G?me.delegateType:me.bindType)||he,me=r.event.special[he]||{},ce=r.extend({type:he,origType:Ye,data:N,handler:R,guid:R.guid,selector:G,needsContext:G&&r.expr.match.needsContext.test(G),namespace:Ne.join(".")},H),(se=$[he])||(se=$[he]=[],se.delegateCount=0,(!me.setup||me.setup.call(s,N,Ne,K)===!1)&&s.addEventListener&&s.addEventListener(he,K)),me.add&&(me.add.call(s,ce),ce.handler.guid||(ce.handler.guid=R.guid)),G?se.splice(se.delegateCount++,0,ce):se.push(ce),r.event.global[he]=!0)},remove:function(s,E,R,N,G){var H,K,Q,$,ie,ce,me,se,he,Ne,Ye,Fe=Le.hasData(s)&&Le.get(s);if(!(!Fe||!($=Fe.events))){for(E=(E||"").match(z)||[""],ie=E.length;ie--;){if(Q=Ve.exec(E[ie])||[],he=Ye=Q[1],Ne=(Q[2]||"").split(".").sort(),!he){for(he in $)r.event.remove(s,he+E[ie],R,N,!0);continue}for(me=r.event.special[he]||{},he=(N?me.delegateType:me.bindType)||he,se=$[he]||[],Q=Q[2]&&new RegExp("(^|\\.)"+Ne.join("\\.(?:.*\\.|)")+"(\\.|$)"),K=H=se.length;H--;)ce=se[H],(G||Ye===ce.origType)&&(!R||R.guid===ce.guid)&&(!Q||Q.test(ce.namespace))&&(!N||N===ce.selector||N==="**"&&ce.selector)&&(se.splice(H,1),ce.selector&&se.delegateCount--,me.remove&&me.remove.call(s,ce));K&&!se.length&&((!me.teardown||me.teardown.call(s,Ne,Fe.handle)===!1)&&r.removeEvent(s,he,Fe.handle),delete $[he])}r.isEmptyObject($)&&Le.remove(s,"handle events")}},dispatch:function(s){var E,R,N,G,H,K,Q=new Array(arguments.length),$=r.event.fix(s),ie=(Le.get(this,"events")||Object.create(null))[$.type]||[],ce=r.event.special[$.type]||{};for(Q[0]=$,E=1;E<arguments.length;E++)Q[E]=arguments[E];if($.delegateTarget=this,!(ce.preDispatch&&ce.preDispatch.call(this,$)===!1)){for(K=r.event.handlers.call(this,$,ie),E=0;(G=K[E++])&&!$.isPropagationStopped();)for($.currentTarget=G.elem,R=0;(H=G.handlers[R++])&&!$.isImmediatePropagationStopped();)(!$.rnamespace||H.namespace===!1||$.rnamespace.test(H.namespace))&&($.handleObj=H,$.data=H.data,N=((r.event.special[H.origType]||{}).handle||H.handler).apply(G.elem,Q),N!==void 0&&($.result=N)===!1&&($.preventDefault(),$.stopPropagation()));return ce.postDispatch&&ce.postDispatch.call(this,$),$.result}},handlers:function(s,E){var R,N,G,H,K,Q=[],$=E.delegateCount,ie=s.target;if($&&ie.nodeType&&!(s.type==="click"&&s.button>=1)){for(;ie!==this;ie=ie.parentNode||this)if(ie.nodeType===1&&!(s.type==="click"&&ie.disabled===!0)){for(H=[],K={},R=0;R<$;R++)N=E[R],G=N.selector+" ",K[G]===void 0&&(K[G]=N.needsContext?r(G,this).index(ie)>-1:r.find(G,this,null,[ie]).length),K[G]&&H.push(N);H.length&&Q.push({elem:ie,handlers:H})}}return ie=this,$<E.length&&Q.push({elem:ie,handlers:E.slice($)}),Q},addProp:function(s,E){Object.defineProperty(r.Event.prototype,s,{enumerable:!0,configurable:!0,get:b(E)?function(){if(this.originalEvent)return E(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[s]},set:function(R){Object.defineProperty(this,s,{enumerable:!0,configurable:!0,writable:!0,value:R})}})},fix:function(s){return s[r.expando]?s:new r.Event(s)},special:{load:{noBubble:!0},click:{setup:function(s){var E=this||s;return ne.test(E.type)&&E.click&&d(E,"input")&&st(E,"click",Xe),!1},trigger:function(s){var E=this||s;return ne.test(E.type)&&E.click&&d(E,"input")&&st(E,"click"),!0},_default:function(s){var E=s.target;return ne.test(E.type)&&E.click&&d(E,"input")&&Le.get(E,"click")||d(E,"a")}},beforeunload:{postDispatch:function(s){s.result!==void 0&&s.originalEvent&&(s.originalEvent.returnValue=s.result)}}}};function st(s,E,R){if(!R){Le.get(s,E)===void 0&&r.event.add(s,E,Xe);return}Le.set(s,E,!1),r.event.add(s,E,{namespace:!1,handler:function(N){var G,H,K=Le.get(this,E);if(N.isTrigger&1&&this[E]){if(K.length)(r.event.special[E]||{}).delegateType&&N.stopPropagation();else if(K=l.call(arguments),Le.set(this,E,K),G=R(this,E),this[E](),H=Le.get(this,E),K!==H||G?Le.set(this,E,!1):H={},K!==H)return N.stopImmediatePropagation(),N.preventDefault(),H&&H.value}else K.length&&(Le.set(this,E,{value:r.event.trigger(r.extend(K[0],r.Event.prototype),K.slice(1),this)}),N.stopImmediatePropagation())}})}r.removeEvent=function(s,E,R){s.removeEventListener&&s.removeEventListener(E,R)},r.Event=function(s,E){if(!(this instanceof r.Event))return new r.Event(s,E);s&&s.type?(this.originalEvent=s,this.type=s.type,this.isDefaultPrevented=s.defaultPrevented||s.defaultPrevented===void 0&&s.returnValue===!1?Xe:Me,this.target=s.target&&s.target.nodeType===3?s.target.parentNode:s.target,this.currentTarget=s.currentTarget,this.relatedTarget=s.relatedTarget):this.type=s,E&&r.extend(this,E),this.timeStamp=s&&s.timeStamp||Date.now(),this[r.expando]=!0},r.Event.prototype={constructor:r.Event,isDefaultPrevented:Me,isPropagationStopped:Me,isImmediatePropagationStopped:Me,isSimulated:!1,preventDefault:function(){var s=this.originalEvent;this.isDefaultPrevented=Xe,s&&!this.isSimulated&&s.preventDefault()},stopPropagation:function(){var s=this.originalEvent;this.isPropagationStopped=Xe,s&&!this.isSimulated&&s.stopPropagation()},stopImmediatePropagation:function(){var s=this.originalEvent;this.isImmediatePropagationStopped=Xe,s&&!this.isSimulated&&s.stopImmediatePropagation(),this.stopPropagation()}},r.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},r.event.addProp),r.each({focus:"focusin",blur:"focusout"},function(s,E){r.event.special[s]={setup:function(){return st(this,s,We),!1},trigger:function(){return st(this,s),!0},_default:function(R){return Le.get(R.target,s)},delegateType:E}}),r.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(s,E){r.event.special[s]={delegateType:E,bindType:E,handle:function(R){var N,G=this,H=R.relatedTarget,K=R.handleObj;return(!H||H!==G&&!r.contains(G,H))&&(R.type=K.origType,N=K.handler.apply(this,arguments),R.type=E),N}}}),r.fn.extend({on:function(s,E,R,N){return $e(this,s,E,R,N)},one:function(s,E,R,N){return $e(this,s,E,R,N,1)},off:function(s,E,R){var N,G;if(s&&s.preventDefault&&s.handleObj)return N=s.handleObj,r(s.delegateTarget).off(N.namespace?N.origType+"."+N.namespace:N.origType,N.selector,N.handler),this;if(typeof s=="object"){for(G in s)this.off(G,E,s[G]);return this}return(E===!1||typeof E=="function")&&(R=E,E=void 0),R===!1&&(R=Me),this.each(function(){r.event.remove(this,s,R,E)})}});var ct=/<script|<style|<link/i,pt=/checked\s*(?:[^=]|=\s*.checked.)/i,At=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function vt(s,E){return d(s,"table")&&d(E.nodeType!==11?E:E.firstChild,"tr")&&r(s).children("tbody")[0]||s}function kt(s){return s.type=(s.getAttribute("type")!==null)+"/"+s.type,s}function lt(s){return(s.type||"").slice(0,5)==="true/"?s.type=s.type.slice(5):s.removeAttribute("type"),s}function Wt(s,E){var R,N,G,H,K,Q,$;if(E.nodeType===1){if(Le.hasData(s)&&(H=Le.get(s),$=H.events,$)){Le.remove(E,"handle events");for(G in $)for(R=0,N=$[G].length;R<N;R++)r.event.add(E,G,$[G][R])}Be.hasData(s)&&(K=Be.access(s),Q=r.extend({},K),Be.set(E,Q))}}function Qe(s,E){var R=E.nodeName.toLowerCase();R==="input"&&ne.test(s.type)?E.checked=s.checked:(R==="input"||R==="textarea")&&(E.defaultValue=s.defaultValue)}function Ze(s,E,R,N){E=a(E);var G,H,K,Q,$,ie,ce=0,me=s.length,se=me-1,he=E[0],Ne=b(he);if(Ne||me>1&&typeof he=="string"&&!_.checkClone&&pt.test(he))return s.each(function(Ye){var Fe=s.eq(Ye);Ne&&(E[0]=he.call(this,Ye,Fe.html())),Ze(Fe,E,R,N)});if(me&&(G=Je(E,s[0].ownerDocument,!1,s,N),H=G.firstChild,G.childNodes.length===1&&(G=H),H||N)){for(K=r.map(Re(G,"script"),kt),Q=K.length;ce<me;ce++)$=G,ce!==se&&($=r.clone($,!0,!0),Q&&r.merge(K,Re($,"script"))),R.call(s[ce],$,ce);if(Q)for(ie=K[K.length-1].ownerDocument,r.map(K,lt),ce=0;ce<Q;ce++)$=K[ce],Ce.test($.type||"")&&!Le.access($,"globalEval")&&r.contains(ie,$)&&($.src&&($.type||"").toLowerCase()!=="module"?r._evalUrl&&!$.noModule&&r._evalUrl($.src,{nonce:$.nonce||$.getAttribute("nonce")},ie):c($.textContent.replace(At,""),$,ie))}return s}function Lt(s,E,R){for(var N,G=E?r.filter(E,s):s,H=0;(N=G[H])!=null;H++)!R&&N.nodeType===1&&r.cleanData(Re(N)),N.parentNode&&(R&&ze(N)&&De(Re(N,"script")),N.parentNode.removeChild(N));return s}r.extend({htmlPrefilter:function(s){return s},clone:function(s,E,R){var N,G,H,K,Q=s.cloneNode(!0),$=ze(s);if(!_.noCloneChecked&&(s.nodeType===1||s.nodeType===11)&&!r.isXMLDoc(s))for(K=Re(Q),H=Re(s),N=0,G=H.length;N<G;N++)Qe(H[N],K[N]);if(E)if(R)for(H=H||Re(s),K=K||Re(Q),N=0,G=H.length;N<G;N++)Wt(H[N],K[N]);else Wt(s,Q);return K=Re(Q,"script"),K.length>0&&De(K,!$&&Re(s,"script")),Q},cleanData:function(s){for(var E,R,N,G=r.event.special,H=0;(R=s[H])!==void 0;H++)if(_e(R)){if(E=R[Le.expando]){if(E.events)for(N in E.events)G[N]?r.event.remove(R,N):r.removeEvent(R,N,E.handle);R[Le.expando]=void 0}R[Be.expando]&&(R[Be.expando]=void 0)}}}),r.fn.extend({detach:function(s){return Lt(this,s,!0)},remove:function(s){return Lt(this,s)},text:function(s){return ue(this,function(E){return E===void 0?r.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=E)})},null,s,arguments.length)},append:function(){return Ze(this,arguments,function(s){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var E=vt(this,s);E.appendChild(s)}})},prepend:function(){return Ze(this,arguments,function(s){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var E=vt(this,s);E.insertBefore(s,E.firstChild)}})},before:function(){return Ze(this,arguments,function(s){this.parentNode&&this.parentNode.insertBefore(s,this)})},after:function(){return Ze(this,arguments,function(s){this.parentNode&&this.parentNode.insertBefore(s,this.nextSibling)})},empty:function(){for(var s,E=0;(s=this[E])!=null;E++)s.nodeType===1&&(r.cleanData(Re(s,!1)),s.textContent="");return this},clone:function(s,E){return s=s??!1,E=E??s,this.map(function(){return r.clone(this,s,E)})},html:function(s){return ue(this,function(E){var R=this[0]||{},N=0,G=this.length;if(E===void 0&&R.nodeType===1)return R.innerHTML;if(typeof E=="string"&&!ct.test(E)&&!Te[(de.exec(E)||["",""])[1].toLowerCase()]){E=r.htmlPrefilter(E);try{for(;N<G;N++)R=this[N]||{},R.nodeType===1&&(r.cleanData(Re(R,!1)),R.innerHTML=E);R=0}catch{}}R&&this.empty().append(E)},null,s,arguments.length)},replaceWith:function(){var s=[];return Ze(this,arguments,function(E){var R=this.parentNode;r.inArray(this,s)<0&&(r.cleanData(Re(this)),R&&R.replaceChild(E,this))},s)}}),r.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(s,E){r.fn[s]=function(R){for(var N,G=[],H=r(R),K=H.length-1,Q=0;Q<=K;Q++)N=Q===K?this:this.clone(!0),r(H[Q])[E](N),v.apply(G,N.get());return this.pushStack(G)}});var Et=new RegExp("^("+ht+")(?!px)[a-z%]+$","i"),Gt=/^--/,Jn=function(s){var E=s.ownerDocument.defaultView;return(!E||!E.opener)&&(E=t),E.getComputedStyle(s)},yn=function(s,E,R){var N,G,H={};for(G in E)H[G]=s.style[G],s.style[G]=E[G];N=R.call(s);for(G in E)s.style[G]=H[G];return N},Mr=new RegExp(Ee.join("|"),"i"),Fo="[\\x20\\t\\r\\n\\f]",ds=new RegExp("^"+Fo+"+|((?:^|[^\\\\])(?:\\\\.)*)"+Fo+"+$","g");(function(){function s(){if(ie){$.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",ie.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",xe.appendChild($).appendChild(ie);var ce=t.getComputedStyle(ie);R=ce.top!=="1%",Q=E(ce.marginLeft)===12,ie.style.right="60%",H=E(ce.right)===36,N=E(ce.width)===36,ie.style.position="absolute",G=E(ie.offsetWidth/3)===12,xe.removeChild($),ie=null}}function E(ce){return Math.round(parseFloat(ce))}var R,N,G,H,K,Q,$=L.createElement("div"),ie=L.createElement("div");ie.style&&(ie.style.backgroundClip="content-box",ie.cloneNode(!0).style.backgroundClip="",_.clearCloneStyle=ie.style.backgroundClip==="content-box",r.extend(_,{boxSizingReliable:function(){return s(),N},pixelBoxStyles:function(){return s(),H},pixelPosition:function(){return s(),R},reliableMarginLeft:function(){return s(),Q},scrollboxSize:function(){return s(),G},reliableTrDimensions:function(){var ce,me,se,he;return K==null&&(ce=L.createElement("table"),me=L.createElement("tr"),se=L.createElement("div"),ce.style.cssText="position:absolute;left:-11111px;border-collapse:separate",me.style.cssText="border:1px solid",me.style.height="1px",se.style.height="9px",se.style.display="block",xe.appendChild(ce).appendChild(me).appendChild(se),he=t.getComputedStyle(me),K=parseInt(he.height,10)+parseInt(he.borderTopWidth,10)+parseInt(he.borderBottomWidth,10)===me.offsetHeight,xe.removeChild(ce)),K}}))})();function hr(s,E,R){var N,G,H,K,Q=Gt.test(E),$=s.style;return R=R||Jn(s),R&&(K=R.getPropertyValue(E)||R[E],Q&&K&&(K=K.replace(ds,"$1")||void 0),K===""&&!ze(s)&&(K=r.style(s,E)),!_.pixelBoxStyles()&&Et.test(K)&&Mr.test(E)&&(N=$.width,G=$.minWidth,H=$.maxWidth,$.minWidth=$.maxWidth=$.width=K,K=R.width,$.width=N,$.minWidth=G,$.maxWidth=H)),K!==void 0?K+"":K}function Fi(s,E){return{get:function(){if(s()){delete this.get;return}return(this.get=E).apply(this,arguments)}}}var Mo=["Webkit","Moz","ms"],Mi=L.createElement("div").style,No={};function Bo(s){for(var E=s[0].toUpperCase()+s.slice(1),R=Mo.length;R--;)if(s=Mo[R]+E,s in Mi)return s}function Ni(s){var E=r.cssProps[s]||No[s];return E||(s in Mi?s:No[s]=Bo(s)||s)}var hs=/^(none|table(?!-c[ea]).+)/,Qt={position:"absolute",visibility:"hidden",display:"block"},Dn={letterSpacing:"0",fontWeight:"400"};function Zt(s,E,R){var N=bt.exec(E);return N?Math.max(0,N[2]-(R||0))+(N[3]||"px"):E}function En(s,E,R,N,G,H){var K=E==="width"?1:0,Q=0,$=0;if(R===(N?"border":"content"))return 0;for(;K<4;K+=2)R==="margin"&&($+=r.css(s,R+Ee[K],!0,G)),N?(R==="content"&&($-=r.css(s,"padding"+Ee[K],!0,G)),R!=="margin"&&($-=r.css(s,"border"+Ee[K]+"Width",!0,G))):($+=r.css(s,"padding"+Ee[K],!0,G),R!=="padding"?$+=r.css(s,"border"+Ee[K]+"Width",!0,G):Q+=r.css(s,"border"+Ee[K]+"Width",!0,G));return!N&&H>=0&&($+=Math.max(0,Math.ceil(s["offset"+E[0].toUpperCase()+E.slice(1)]-H-$-Q-.5))||0),$}function ii(s,E,R){var N=Jn(s),G=!_.boxSizingReliable()||R,H=G&&r.css(s,"boxSizing",!1,N)==="border-box",K=H,Q=hr(s,E,N),$="offset"+E[0].toUpperCase()+E.slice(1);if(Et.test(Q)){if(!R)return Q;Q="auto"}return(!_.boxSizingReliable()&&H||!_.reliableTrDimensions()&&d(s,"tr")||Q==="auto"||!parseFloat(Q)&&r.css(s,"display",!1,N)==="inline")&&s.getClientRects().length&&(H=r.css(s,"boxSizing",!1,N)==="border-box",K=$ in s,K&&(Q=s[$])),Q=parseFloat(Q)||0,Q+En(s,E,R||(H?"border":"content"),K,N,Q)+"px"}r.extend({cssHooks:{opacity:{get:function(s,E){if(E){var R=hr(s,"opacity");return R===""?"1":R}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(s,E,R,N){if(!(!s||s.nodeType===3||s.nodeType===8||!s.style)){var G,H,K,Q=we(E),$=Gt.test(E),ie=s.style;if($||(E=Ni(Q)),K=r.cssHooks[E]||r.cssHooks[Q],R!==void 0){if(H=typeof R,H==="string"&&(G=bt.exec(R))&&G[1]&&(R=jt(s,E,G),H="number"),R==null||R!==R)return;H==="number"&&!$&&(R+=G&&G[3]||(r.cssNumber[Q]?"":"px")),!_.clearCloneStyle&&R===""&&E.indexOf("background")===0&&(ie[E]="inherit"),(!K||!("set"in K)||(R=K.set(s,R,N))!==void 0)&&($?ie.setProperty(E,R):ie[E]=R)}else return K&&"get"in K&&(G=K.get(s,!1,N))!==void 0?G:ie[E]}},css:function(s,E,R,N){var G,H,K,Q=we(E),$=Gt.test(E);return $||(E=Ni(Q)),K=r.cssHooks[E]||r.cssHooks[Q],K&&"get"in K&&(G=K.get(s,!0,R)),G===void 0&&(G=hr(s,E,N)),G==="normal"&&E in Dn&&(G=Dn[E]),R===""||R?(H=parseFloat(G),R===!0||isFinite(H)?H||0:G):G}}),r.each(["height","width"],function(s,E){r.cssHooks[E]={get:function(R,N,G){if(N)return hs.test(r.css(R,"display"))&&(!R.getClientRects().length||!R.getBoundingClientRect().width)?yn(R,Qt,function(){return ii(R,E,G)}):ii(R,E,G)},set:function(R,N,G){var H,K=Jn(R),Q=!_.scrollboxSize()&&K.position==="absolute",$=Q||G,ie=$&&r.css(R,"boxSizing",!1,K)==="border-box",ce=G?En(R,E,G,ie,K):0;return ie&&Q&&(ce-=Math.ceil(R["offset"+E[0].toUpperCase()+E.slice(1)]-parseFloat(K[E])-En(R,E,"border",!1,K)-.5)),ce&&(H=bt.exec(N))&&(H[3]||"px")!=="px"&&(R.style[E]=N,N=r.css(R,E)),Zt(R,N,ce)}}}),r.cssHooks.marginLeft=Fi(_.reliableMarginLeft,function(s,E){if(E)return(parseFloat(hr(s,"marginLeft"))||s.getBoundingClientRect().left-yn(s,{marginLeft:0},function(){return s.getBoundingClientRect().left}))+"px"}),r.each({margin:"",padding:"",border:"Width"},function(s,E){r.cssHooks[s+E]={expand:function(R){for(var N=0,G={},H=typeof R=="string"?R.split(" "):[R];N<4;N++)G[s+Ee[N]+E]=H[N]||H[N-2]||H[0];return G}},s!=="margin"&&(r.cssHooks[s+E].set=Zt)}),r.fn.extend({css:function(s,E){return ue(this,function(R,N,G){var H,K,Q={},$=0;if(Array.isArray(N)){for(H=Jn(R),K=N.length;$<K;$++)Q[N[$]]=r.css(R,N[$],!1,H);return Q}return G!==void 0?r.style(R,N,G):r.css(R,N)},s,E,arguments.length>1)}});function cn(s,E,R,N,G){return new cn.prototype.init(s,E,R,N,G)}r.Tween=cn,cn.prototype={constructor:cn,init:function(s,E,R,N,G,H){this.elem=s,this.prop=R,this.easing=G||r.easing._default,this.options=E,this.start=this.now=this.cur(),this.end=N,this.unit=H||(r.cssNumber[R]?"":"px")},cur:function(){var s=cn.propHooks[this.prop];return s&&s.get?s.get(this):cn.propHooks._default.get(this)},run:function(s){var E,R=cn.propHooks[this.prop];return this.options.duration?this.pos=E=r.easing[this.easing](s,this.options.duration*s,0,1,this.options.duration):this.pos=E=s,this.now=(this.end-this.start)*E+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),R&&R.set?R.set(this):cn.propHooks._default.set(this),this}},cn.prototype.init.prototype=cn.prototype,cn.propHooks={_default:{get:function(s){var E;return s.elem.nodeType!==1||s.elem[s.prop]!=null&&s.elem.style[s.prop]==null?s.elem[s.prop]:(E=r.css(s.elem,s.prop,""),!E||E==="auto"?0:E)},set:function(s){r.fx.step[s.prop]?r.fx.step[s.prop](s):s.elem.nodeType===1&&(r.cssHooks[s.prop]||s.elem.style[Ni(s.prop)]!=null)?r.style(s.elem,s.prop,s.now+s.unit):s.elem[s.prop]=s.now}}},cn.propHooks.scrollTop=cn.propHooks.scrollLeft={set:function(s){s.elem.nodeType&&s.elem.parentNode&&(s.elem[s.prop]=s.now)}},r.easing={linear:function(s){return s},swing:function(s){return .5-Math.cos(s*Math.PI)/2},_default:"swing"},r.fx=cn.prototype.init,r.fx.step={};var oi,jo,Dh=/^(?:toggle|show|hide)$/,Rh=/queueHooks$/;function ps(){jo&&(L.hidden===!1&&t.requestAnimationFrame?t.requestAnimationFrame(ps):t.setTimeout(ps,r.fx.interval),r.fx.tick())}function Vu(){return t.setTimeout(function(){oi=void 0}),oi=Date.now()}function Uo(s,E){var R,N=0,G={height:s};for(E=E?1:0;N<4;N+=2-E)R=Ee[N],G["margin"+R]=G["padding"+R]=s;return E&&(G.opacity=G.width=s),G}function Wu(s,E,R){for(var N,G=(jn.tweeners[E]||[]).concat(jn.tweeners["*"]),H=0,K=G.length;H<K;H++)if(N=G[H].call(R,E,s))return N}function Oh(s,E,R){var N,G,H,K,Q,$,ie,ce,me="width"in E||"height"in E,se=this,he={},Ne=s.style,Ye=s.nodeType&&at(s),Fe=Le.get(s,"fxshow");R.queue||(K=r._queueHooks(s,"fx"),K.unqueued==null&&(K.unqueued=0,Q=K.empty.fire,K.empty.fire=function(){K.unqueued||Q()}),K.unqueued++,se.always(function(){se.always(function(){K.unqueued--,r.queue(s,"fx").length||K.empty.fire()})}));for(N in E)if(G=E[N],Dh.test(G)){if(delete E[N],H=H||G==="toggle",G===(Ye?"hide":"show"))if(G==="show"&&Fe&&Fe[N]!==void 0)Ye=!0;else continue;he[N]=Fe&&Fe[N]||r.style(s,N)}if($=!r.isEmptyObject(E),!(!$&&r.isEmptyObject(he))){me&&s.nodeType===1&&(R.overflow=[Ne.overflow,Ne.overflowX,Ne.overflowY],ie=Fe&&Fe.display,ie==null&&(ie=Le.get(s,"display")),ce=r.css(s,"display"),ce==="none"&&(ie?ce=ie:(ae([s],!0),ie=s.style.display||ie,ce=r.css(s,"display"),ae([s]))),(ce==="inline"||ce==="inline-block"&&ie!=null)&&r.css(s,"float")==="none"&&($||(se.done(function(){Ne.display=ie}),ie==null&&(ce=Ne.display,ie=ce==="none"?"":ce)),Ne.display="inline-block")),R.overflow&&(Ne.overflow="hidden",se.always(function(){Ne.overflow=R.overflow[0],Ne.overflowX=R.overflow[1],Ne.overflowY=R.overflow[2]})),$=!1;for(N in he)$||(Fe?"hidden"in Fe&&(Ye=Fe.hidden):Fe=Le.access(s,"fxshow",{display:ie}),H&&(Fe.hidden=!Ye),Ye&&ae([s],!0),se.done(function(){Ye||ae([s]),Le.remove(s,"fxshow");for(N in he)r.style(s,N,he[N])})),$=Wu(Ye?Fe[N]:0,N,se),N in Fe||(Fe[N]=$.start,Ye&&($.end=$.start,$.start=0))}}function Ph(s,E){var R,N,G,H,K;for(R in s)if(N=we(R),G=E[N],H=s[R],Array.isArray(H)&&(G=H[1],H=s[R]=H[0]),R!==N&&(s[N]=H,delete s[R]),K=r.cssHooks[N],K&&"expand"in K){H=K.expand(H),delete s[N];for(R in H)R in s||(s[R]=H[R],E[R]=G)}else E[N]=G}function jn(s,E,R){var N,G,H=0,K=jn.prefilters.length,Q=r.Deferred().always(function(){delete $.elem}),$=function(){if(G)return!1;for(var me=oi||Vu(),se=Math.max(0,ie.startTime+ie.duration-me),he=se/ie.duration||0,Ne=1-he,Ye=0,Fe=ie.tweens.length;Ye<Fe;Ye++)ie.tweens[Ye].run(Ne);return Q.notifyWith(s,[ie,Ne,se]),Ne<1&&Fe?se:(Fe||Q.notifyWith(s,[ie,1,0]),Q.resolveWith(s,[ie]),!1)},ie=Q.promise({elem:s,props:r.extend({},E),opts:r.extend(!0,{specialEasing:{},easing:r.easing._default},R),originalProperties:E,originalOptions:R,startTime:oi||Vu(),duration:R.duration,tweens:[],createTween:function(me,se){var he=r.Tween(s,ie.opts,me,se,ie.opts.specialEasing[me]||ie.opts.easing);return ie.tweens.push(he),he},stop:function(me){var se=0,he=me?ie.tweens.length:0;if(G)return this;for(G=!0;se<he;se++)ie.tweens[se].run(1);return me?(Q.notifyWith(s,[ie,1,0]),Q.resolveWith(s,[ie,me])):Q.rejectWith(s,[ie,me]),this}}),ce=ie.props;for(Ph(ce,ie.opts.specialEasing);H<K;H++)if(N=jn.prefilters[H].call(ie,s,ce,ie.opts),N)return b(N.stop)&&(r._queueHooks(ie.elem,ie.opts.queue).stop=N.stop.bind(N)),N;return r.map(ce,Wu,ie),b(ie.opts.start)&&ie.opts.start.call(s,ie),ie.progress(ie.opts.progress).done(ie.opts.done,ie.opts.complete).fail(ie.opts.fail).always(ie.opts.always),r.fx.timer(r.extend($,{elem:s,anim:ie,queue:ie.opts.queue})),ie}r.Animation=r.extend(jn,{tweeners:{"*":[function(s,E){var R=this.createTween(s,E);return jt(R.elem,s,bt.exec(E),R),R}]},tweener:function(s,E){b(s)?(E=s,s=["*"]):s=s.match(z);for(var R,N=0,G=s.length;N<G;N++)R=s[N],jn.tweeners[R]=jn.tweeners[R]||[],jn.tweeners[R].unshift(E)},prefilters:[Oh],prefilter:function(s,E){E?jn.prefilters.unshift(s):jn.prefilters.push(s)}}),r.speed=function(s,E,R){var N=s&&typeof s=="object"?r.extend({},s):{complete:R||!R&&E||b(s)&&s,duration:s,easing:R&&E||E&&!b(E)&&E};return r.fx.off?N.duration=0:typeof N.duration!="number"&&(N.duration in r.fx.speeds?N.duration=r.fx.speeds[N.duration]:N.duration=r.fx.speeds._default),(N.queue==null||N.queue===!0)&&(N.queue="fx"),N.old=N.complete,N.complete=function(){b(N.old)&&N.old.call(this),N.queue&&r.dequeue(this,N.queue)},N},r.fn.extend({fadeTo:function(s,E,R,N){return this.filter(at).css("opacity",0).show().end().animate({opacity:E},s,R,N)},animate:function(s,E,R,N){var G=r.isEmptyObject(s),H=r.speed(E,R,N),K=function(){var Q=jn(this,r.extend({},s),H);(G||Le.get(this,"finish"))&&Q.stop(!0)};return K.finish=K,G||H.queue===!1?this.each(K):this.queue(H.queue,K)},stop:function(s,E,R){var N=function(G){var H=G.stop;delete G.stop,H(R)};return typeof s!="string"&&(R=E,E=s,s=void 0),E&&this.queue(s||"fx",[]),this.each(function(){var G=!0,H=s!=null&&s+"queueHooks",K=r.timers,Q=Le.get(this);if(H)Q[H]&&Q[H].stop&&N(Q[H]);else for(H in Q)Q[H]&&Q[H].stop&&Rh.test(H)&&N(Q[H]);for(H=K.length;H--;)K[H].elem===this&&(s==null||K[H].queue===s)&&(K[H].anim.stop(R),G=!1,K.splice(H,1));(G||!R)&&r.dequeue(this,s)})},finish:function(s){return s!==!1&&(s=s||"fx"),this.each(function(){var E,R=Le.get(this),N=R[s+"queue"],G=R[s+"queueHooks"],H=r.timers,K=N?N.length:0;for(R.finish=!0,r.queue(this,s,[]),G&&G.stop&&G.stop.call(this,!0),E=H.length;E--;)H[E].elem===this&&H[E].queue===s&&(H[E].anim.stop(!0),H.splice(E,1));for(E=0;E<K;E++)N[E]&&N[E].finish&&N[E].finish.call(this);delete R.finish})}}),r.each(["toggle","show","hide"],function(s,E){var R=r.fn[E];r.fn[E]=function(N,G,H){return N==null||typeof N=="boolean"?R.apply(this,arguments):this.animate(Uo(E,!0),N,G,H)}}),r.each({slideDown:Uo("show"),slideUp:Uo("hide"),slideToggle:Uo("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(s,E){r.fn[s]=function(R,N,G){return this.animate(E,R,N,G)}}),r.timers=[],r.fx.tick=function(){var s,E=0,R=r.timers;for(oi=Date.now();E<R.length;E++)s=R[E],!s()&&R[E]===s&&R.splice(E--,1);R.length||r.fx.stop(),oi=void 0},r.fx.timer=function(s){r.timers.push(s),r.fx.start()},r.fx.interval=13,r.fx.start=function(){jo||(jo=!0,ps())},r.fx.stop=function(){jo=null},r.fx.speeds={slow:600,fast:200,_default:400},r.fn.delay=function(s,E){return s=r.fx&&r.fx.speeds[s]||s,E=E||"fx",this.queue(E,function(R,N){var G=t.setTimeout(R,s);N.stop=function(){t.clearTimeout(G)}})},function(){var s=L.createElement("input"),E=L.createElement("select"),R=E.appendChild(L.createElement("option"));s.type="checkbox",_.checkOn=s.value!=="",_.optSelected=R.selected,s=L.createElement("input"),s.value="t",s.type="radio",_.radioValue=s.value==="t"}();var qu,Bi=r.expr.attrHandle;r.fn.extend({attr:function(s,E){return ue(this,r.attr,s,E,arguments.length>1)},removeAttr:function(s){return this.each(function(){r.removeAttr(this,s)})}}),r.extend({attr:function(s,E,R){var N,G,H=s.nodeType;if(!(H===3||H===8||H===2)){if(typeof s.getAttribute>"u")return r.prop(s,E,R);if((H!==1||!r.isXMLDoc(s))&&(G=r.attrHooks[E.toLowerCase()]||(r.expr.match.bool.test(E)?qu:void 0)),R!==void 0){if(R===null){r.removeAttr(s,E);return}return G&&"set"in G&&(N=G.set(s,R,E))!==void 0?N:(s.setAttribute(E,R+""),R)}return G&&"get"in G&&(N=G.get(s,E))!==null?N:(N=r.find.attr(s,E),N??void 0)}},attrHooks:{type:{set:function(s,E){if(!_.radioValue&&E==="radio"&&d(s,"input")){var R=s.value;return s.setAttribute("type",E),R&&(s.value=R),E}}}},removeAttr:function(s,E){var R,N=0,G=E&&E.match(z);if(G&&s.nodeType===1)for(;R=G[N++];)s.removeAttribute(R)}}),qu={set:function(s,E,R){return E===!1?r.removeAttr(s,R):s.setAttribute(R,R),R}},r.each(r.expr.match.bool.source.match(/\w+/g),function(s,E){var R=Bi[E]||r.find.attr;Bi[E]=function(N,G,H){var K,Q,$=G.toLowerCase();return H||(Q=Bi[$],Bi[$]=K,K=R(N,G,H)!=null?$:null,Bi[$]=Q),K}});var Ih=/^(?:input|select|textarea|button)$/i,Fh=/^(?:a|area)$/i;r.fn.extend({prop:function(s,E){return ue(this,r.prop,s,E,arguments.length>1)},removeProp:function(s){return this.each(function(){delete this[r.propFix[s]||s]})}}),r.extend({prop:function(s,E,R){var N,G,H=s.nodeType;if(!(H===3||H===8||H===2))return(H!==1||!r.isXMLDoc(s))&&(E=r.propFix[E]||E,G=r.propHooks[E]),R!==void 0?G&&"set"in G&&(N=G.set(s,R,E))!==void 0?N:s[E]=R:G&&"get"in G&&(N=G.get(s,E))!==null?N:s[E]},propHooks:{tabIndex:{get:function(s){var E=r.find.attr(s,"tabindex");return E?parseInt(E,10):Ih.test(s.nodeName)||Fh.test(s.nodeName)&&s.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),_.optSelected||(r.propHooks.selected={get:function(s){var E=s.parentNode;return E&&E.parentNode&&E.parentNode.selectedIndex,null},set:function(s){var E=s.parentNode;E&&(E.selectedIndex,E.parentNode&&E.parentNode.selectedIndex)}}),r.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){r.propFix[this.toLowerCase()]=this});function Nr(s){var E=s.match(z)||[];return E.join(" ")}function Br(s){return s.getAttribute&&s.getAttribute("class")||""}function gs(s){return Array.isArray(s)?s:typeof s=="string"?s.match(z)||[]:[]}r.fn.extend({addClass:function(s){var E,R,N,G,H,K;return b(s)?this.each(function(Q){r(this).addClass(s.call(this,Q,Br(this)))}):(E=gs(s),E.length?this.each(function(){if(N=Br(this),R=this.nodeType===1&&" "+Nr(N)+" ",R){for(H=0;H<E.length;H++)G=E[H],R.indexOf(" "+G+" ")<0&&(R+=G+" ");K=Nr(R),N!==K&&this.setAttribute("class",K)}}):this)},removeClass:function(s){var E,R,N,G,H,K;return b(s)?this.each(function(Q){r(this).removeClass(s.call(this,Q,Br(this)))}):arguments.length?(E=gs(s),E.length?this.each(function(){if(N=Br(this),R=this.nodeType===1&&" "+Nr(N)+" ",R){for(H=0;H<E.length;H++)for(G=E[H];R.indexOf(" "+G+" ")>-1;)R=R.replace(" "+G+" "," ");K=Nr(R),N!==K&&this.setAttribute("class",K)}}):this):this.attr("class","")},toggleClass:function(s,E){var R,N,G,H,K=typeof s,Q=K==="string"||Array.isArray(s);return b(s)?this.each(function($){r(this).toggleClass(s.call(this,$,Br(this),E),E)}):typeof E=="boolean"&&Q?E?this.addClass(s):this.removeClass(s):(R=gs(s),this.each(function(){if(Q)for(H=r(this),G=0;G<R.length;G++)N=R[G],H.hasClass(N)?H.removeClass(N):H.addClass(N);else(s===void 0||K==="boolean")&&(N=Br(this),N&&Le.set(this,"__className__",N),this.setAttribute&&this.setAttribute("class",N||s===!1?"":Le.get(this,"__className__")||""))}))},hasClass:function(s){var E,R,N=0;for(E=" "+s+" ";R=this[N++];)if(R.nodeType===1&&(" "+Nr(Br(R))+" ").indexOf(E)>-1)return!0;return!1}});var Mh=/\r/g;r.fn.extend({val:function(s){var E,R,N,G=this[0];return arguments.length?(N=b(s),this.each(function(H){var K;this.nodeType===1&&(N?K=s.call(this,H,r(this).val()):K=s,K==null?K="":typeof K=="number"?K+="":Array.isArray(K)&&(K=r.map(K,function(Q){return Q==null?"":Q+""})),E=r.valHooks[this.type]||r.valHooks[this.nodeName.toLowerCase()],(!E||!("set"in E)||E.set(this,K,"value")===void 0)&&(this.value=K))})):G?(E=r.valHooks[G.type]||r.valHooks[G.nodeName.toLowerCase()],E&&"get"in E&&(R=E.get(G,"value"))!==void 0?R:(R=G.value,typeof R=="string"?R.replace(Mh,""):R??"")):void 0}}),r.extend({valHooks:{option:{get:function(s){var E=r.find.attr(s,"value");return E??Nr(r.text(s))}},select:{get:function(s){var E,R,N,G=s.options,H=s.selectedIndex,K=s.type==="select-one",Q=K?null:[],$=K?H+1:G.length;for(H<0?N=$:N=K?H:0;N<$;N++)if(R=G[N],(R.selected||N===H)&&!R.disabled&&(!R.parentNode.disabled||!d(R.parentNode,"optgroup"))){if(E=r(R).val(),K)return E;Q.push(E)}return Q},set:function(s,E){for(var R,N,G=s.options,H=r.makeArray(E),K=G.length;K--;)N=G[K],(N.selected=r.inArray(r.valHooks.option.get(N),H)>-1)&&(R=!0);return R||(s.selectedIndex=-1),H}}}}),r.each(["radio","checkbox"],function(){r.valHooks[this]={set:function(s,E){if(Array.isArray(E))return s.checked=r.inArray(r(s).val(),E)>-1}},_.checkOn||(r.valHooks[this].get=function(s){return s.getAttribute("value")===null?"on":s.value})}),_.focusin="onfocusin"in t;var Ju=/^(?:focusinfocus|focusoutblur)$/,Yu=function(s){s.stopPropagation()};r.extend(r.event,{trigger:function(s,E,R,N){var G,H,K,Q,$,ie,ce,me,se=[R||L],he=I.call(s,"type")?s.type:s,Ne=I.call(s,"namespace")?s.namespace.split("."):[];if(H=me=K=R=R||L,!(R.nodeType===3||R.nodeType===8)&&!Ju.test(he+r.event.triggered)&&(he.indexOf(".")>-1&&(Ne=he.split("."),he=Ne.shift(),Ne.sort()),$=he.indexOf(":")<0&&"on"+he,s=s[r.expando]?s:new r.Event(he,typeof s=="object"&&s),s.isTrigger=N?2:3,s.namespace=Ne.join("."),s.rnamespace=s.namespace?new RegExp("(^|\\.)"+Ne.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,s.result=void 0,s.target||(s.target=R),E=E==null?[s]:r.makeArray(E,[s]),ce=r.event.special[he]||{},!(!N&&ce.trigger&&ce.trigger.apply(R,E)===!1))){if(!N&&!ce.noBubble&&!D(R)){for(Q=ce.delegateType||he,Ju.test(Q+he)||(H=H.parentNode);H;H=H.parentNode)se.push(H),K=H;K===(R.ownerDocument||L)&&se.push(K.defaultView||K.parentWindow||t)}for(G=0;(H=se[G++])&&!s.isPropagationStopped();)me=H,s.type=G>1?Q:ce.bindType||he,ie=(Le.get(H,"events")||Object.create(null))[s.type]&&Le.get(H,"handle"),ie&&ie.apply(H,E),ie=$&&H[$],ie&&ie.apply&&_e(H)&&(s.result=ie.apply(H,E),s.result===!1&&s.preventDefault());return s.type=he,!N&&!s.isDefaultPrevented()&&(!ce._default||ce._default.apply(se.pop(),E)===!1)&&_e(R)&&$&&b(R[he])&&!D(R)&&(K=R[$],K&&(R[$]=null),r.event.triggered=he,s.isPropagationStopped()&&me.addEventListener(he,Yu),R[he](),s.isPropagationStopped()&&me.removeEventListener(he,Yu),r.event.triggered=void 0,K&&(R[$]=K)),s.result}},simulate:function(s,E,R){var N=r.extend(new r.Event,R,{type:s,isSimulated:!0});r.event.trigger(N,null,E)}}),r.fn.extend({trigger:function(s,E){return this.each(function(){r.event.trigger(s,E,this)})},triggerHandler:function(s,E){var R=this[0];if(R)return r.event.trigger(s,E,R,!0)}}),_.focusin||r.each({focus:"focusin",blur:"focusout"},function(s,E){var R=function(N){r.event.simulate(E,N.target,r.event.fix(N))};r.event.special[E]={setup:function(){var N=this.ownerDocument||this.document||this,G=Le.access(N,E);G||N.addEventListener(s,R,!0),Le.access(N,E,(G||0)+1)},teardown:function(){var N=this.ownerDocument||this.document||this,G=Le.access(N,E)-1;G?Le.access(N,E,G):(N.removeEventListener(s,R,!0),Le.remove(N,E))}}});var ji=t.location,$u={guid:Date.now()},vs=/\?/;r.parseXML=function(s){var E,R;if(!s||typeof s!="string")return null;try{E=new t.DOMParser().parseFromString(s,"text/xml")}catch{}return R=E&&E.getElementsByTagName("parsererror")[0],(!E||R)&&r.error("Invalid XML: "+(R?r.map(R.childNodes,function(N){return N.textContent}).join(`
`):s)),E};var Nh=/\[\]$/,Xu=/\r?\n/g,Bh=/^(?:submit|button|image|reset|file)$/i,jh=/^(?:input|select|textarea|keygen)/i;function ms(s,E,R,N){var G;if(Array.isArray(E))r.each(E,function(H,K){R||Nh.test(s)?N(s,K):ms(s+"["+(typeof K=="object"&&K!=null?H:"")+"]",K,R,N)});else if(!R&&u(E)==="object")for(G in E)ms(s+"["+G+"]",E[G],R,N);else N(s,E)}r.param=function(s,E){var R,N=[],G=function(H,K){var Q=b(K)?K():K;N[N.length]=encodeURIComponent(H)+"="+encodeURIComponent(Q??"")};if(s==null)return"";if(Array.isArray(s)||s.jquery&&!r.isPlainObject(s))r.each(s,function(){G(this.name,this.value)});else for(R in s)ms(R,s[R],E,G);return N.join("&")},r.fn.extend({serialize:function(){return r.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var s=r.prop(this,"elements");return s?r.makeArray(s):this}).filter(function(){var s=this.type;return this.name&&!r(this).is(":disabled")&&jh.test(this.nodeName)&&!Bh.test(s)&&(this.checked||!ne.test(s))}).map(function(s,E){var R=r(this).val();return R==null?null:Array.isArray(R)?r.map(R,function(N){return{name:E.name,value:N.replace(Xu,`\r
`)}}):{name:E.name,value:R.replace(Xu,`\r
`)}}).get()}});var Uh=/%20/g,Gh=/#.*$/,Hh=/([?&])_=[^&]*/,zh=/^(.*?):[ \t]*([^\r\n]*)$/mg,Kh=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Vh=/^(?:GET|HEAD)$/,Wh=/^\/\//,Qu={},ys={},Zu="*/".concat("*"),Es=L.createElement("a");Es.href=ji.href;function ec(s){return function(E,R){typeof E!="string"&&(R=E,E="*");var N,G=0,H=E.toLowerCase().match(z)||[];if(b(R))for(;N=H[G++];)N[0]==="+"?(N=N.slice(1)||"*",(s[N]=s[N]||[]).unshift(R)):(s[N]=s[N]||[]).push(R)}}function tc(s,E,R,N){var G={},H=s===ys;function K(Q){var $;return G[Q]=!0,r.each(s[Q]||[],function(ie,ce){var me=ce(E,R,N);if(typeof me=="string"&&!H&&!G[me])return E.dataTypes.unshift(me),K(me),!1;if(H)return!($=me)}),$}return K(E.dataTypes[0])||!G["*"]&&K("*")}function Ts(s,E){var R,N,G=r.ajaxSettings.flatOptions||{};for(R in E)E[R]!==void 0&&((G[R]?s:N||(N={}))[R]=E[R]);return N&&r.extend(!0,s,N),s}function qh(s,E,R){for(var N,G,H,K,Q=s.contents,$=s.dataTypes;$[0]==="*";)$.shift(),N===void 0&&(N=s.mimeType||E.getResponseHeader("Content-Type"));if(N){for(G in Q)if(Q[G]&&Q[G].test(N)){$.unshift(G);break}}if($[0]in R)H=$[0];else{for(G in R){if(!$[0]||s.converters[G+" "+$[0]]){H=G;break}K||(K=G)}H=H||K}if(H)return H!==$[0]&&$.unshift(H),R[H]}function Jh(s,E,R,N){var G,H,K,Q,$,ie={},ce=s.dataTypes.slice();if(ce[1])for(K in s.converters)ie[K.toLowerCase()]=s.converters[K];for(H=ce.shift();H;)if(s.responseFields[H]&&(R[s.responseFields[H]]=E),!$&&N&&s.dataFilter&&(E=s.dataFilter(E,s.dataType)),$=H,H=ce.shift(),H){if(H==="*")H=$;else if($!=="*"&&$!==H){if(K=ie[$+" "+H]||ie["* "+H],!K){for(G in ie)if(Q=G.split(" "),Q[1]===H&&(K=ie[$+" "+Q[0]]||ie["* "+Q[0]],K)){K===!0?K=ie[G]:ie[G]!==!0&&(H=Q[0],ce.unshift(Q[1]));break}}if(K!==!0)if(K&&s.throws)E=K(E);else try{E=K(E)}catch(me){return{state:"parsererror",error:K?me:"No conversion from "+$+" to "+H}}}}return{state:"success",data:E}}r.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ji.href,type:"GET",isLocal:Kh.test(ji.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Zu,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":r.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(s,E){return E?Ts(Ts(s,r.ajaxSettings),E):Ts(r.ajaxSettings,s)},ajaxPrefilter:ec(Qu),ajaxTransport:ec(ys),ajax:function(s,E){typeof s=="object"&&(E=s,s=void 0),E=E||{};var R,N,G,H,K,Q,$,ie,ce,me,se=r.ajaxSetup({},E),he=se.context||se,Ne=se.context&&(he.nodeType||he.jquery)?r(he):r.event,Ye=r.Deferred(),Fe=r.Callbacks("once memory"),Ht=se.statusCode||{},Nt={},Tn={},yt="canceled",qe={readyState:0,getResponseHeader:function(ft){var Rt;if($){if(!H)for(H={};Rt=zh.exec(G);)H[Rt[1].toLowerCase()+" "]=(H[Rt[1].toLowerCase()+" "]||[]).concat(Rt[2]);Rt=H[ft.toLowerCase()+" "]}return Rt==null?null:Rt.join(", ")},getAllResponseHeaders:function(){return $?G:null},setRequestHeader:function(ft,Rt){return $==null&&(ft=Tn[ft.toLowerCase()]=Tn[ft.toLowerCase()]||ft,Nt[ft]=Rt),this},overrideMimeType:function(ft){return $==null&&(se.mimeType=ft),this},statusCode:function(ft){var Rt;if(ft)if($)qe.always(ft[qe.status]);else for(Rt in ft)Ht[Rt]=[Ht[Rt],ft[Rt]];return this},abort:function(ft){var Rt=ft||yt;return R&&R.abort(Rt),fn(0,Rt),this}};if(Ye.promise(qe),se.url=((s||se.url||ji.href)+"").replace(Wh,ji.protocol+"//"),se.type=E.method||E.type||se.method||se.type,se.dataTypes=(se.dataType||"*").toLowerCase().match(z)||[""],se.crossDomain==null){Q=L.createElement("a");try{Q.href=se.url,Q.href=Q.href,se.crossDomain=Es.protocol+"//"+Es.host!=Q.protocol+"//"+Q.host}catch{se.crossDomain=!0}}if(se.data&&se.processData&&typeof se.data!="string"&&(se.data=r.param(se.data,se.traditional)),tc(Qu,se,E,qe),$)return qe;ie=r.event&&se.global,ie&&r.active++===0&&r.event.trigger("ajaxStart"),se.type=se.type.toUpperCase(),se.hasContent=!Vh.test(se.type),N=se.url.replace(Gh,""),se.hasContent?se.data&&se.processData&&(se.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(se.data=se.data.replace(Uh,"+")):(me=se.url.slice(N.length),se.data&&(se.processData||typeof se.data=="string")&&(N+=(vs.test(N)?"&":"?")+se.data,delete se.data),se.cache===!1&&(N=N.replace(Hh,"$1"),me=(vs.test(N)?"&":"?")+"_="+$u.guid+++me),se.url=N+me),se.ifModified&&(r.lastModified[N]&&qe.setRequestHeader("If-Modified-Since",r.lastModified[N]),r.etag[N]&&qe.setRequestHeader("If-None-Match",r.etag[N])),(se.data&&se.hasContent&&se.contentType!==!1||E.contentType)&&qe.setRequestHeader("Content-Type",se.contentType),qe.setRequestHeader("Accept",se.dataTypes[0]&&se.accepts[se.dataTypes[0]]?se.accepts[se.dataTypes[0]]+(se.dataTypes[0]!=="*"?", "+Zu+"; q=0.01":""):se.accepts["*"]);for(ce in se.headers)qe.setRequestHeader(ce,se.headers[ce]);if(se.beforeSend&&(se.beforeSend.call(he,qe,se)===!1||$))return qe.abort();if(yt="abort",Fe.add(se.complete),qe.done(se.success),qe.fail(se.error),R=tc(ys,se,E,qe),!R)fn(-1,"No Transport");else{if(qe.readyState=1,ie&&Ne.trigger("ajaxSend",[qe,se]),$)return qe;se.async&&se.timeout>0&&(K=t.setTimeout(function(){qe.abort("timeout")},se.timeout));try{$=!1,R.send(Nt,fn)}catch(ft){if($)throw ft;fn(-1,ft)}}function fn(ft,Rt,Gi,Go){var Sn,jr,Ur,dn,pr,Rn=Rt;$||($=!0,K&&t.clearTimeout(K),R=void 0,G=Go||"",qe.readyState=ft>0?4:0,Sn=ft>=200&&ft<300||ft===304,Gi&&(dn=qh(se,qe,Gi)),!Sn&&r.inArray("script",se.dataTypes)>-1&&r.inArray("json",se.dataTypes)<0&&(se.converters["text script"]=function(){}),dn=Jh(se,dn,qe,Sn),Sn?(se.ifModified&&(pr=qe.getResponseHeader("Last-Modified"),pr&&(r.lastModified[N]=pr),pr=qe.getResponseHeader("etag"),pr&&(r.etag[N]=pr)),ft===204||se.type==="HEAD"?Rn="nocontent":ft===304?Rn="notmodified":(Rn=dn.state,jr=dn.data,Ur=dn.error,Sn=!Ur)):(Ur=Rn,(ft||!Rn)&&(Rn="error",ft<0&&(ft=0))),qe.status=ft,qe.statusText=(Rt||Rn)+"",Sn?Ye.resolveWith(he,[jr,Rn,qe]):Ye.rejectWith(he,[qe,Rn,Ur]),qe.statusCode(Ht),Ht=void 0,ie&&Ne.trigger(Sn?"ajaxSuccess":"ajaxError",[qe,se,Sn?jr:Ur]),Fe.fireWith(he,[qe,Rn]),ie&&(Ne.trigger("ajaxComplete",[qe,se]),--r.active||r.event.trigger("ajaxStop")))}return qe},getJSON:function(s,E,R){return r.get(s,E,R,"json")},getScript:function(s,E){return r.get(s,void 0,E,"script")}}),r.each(["get","post"],function(s,E){r[E]=function(R,N,G,H){return b(N)&&(H=H||G,G=N,N=void 0),r.ajax(r.extend({url:R,type:E,dataType:H,data:N,success:G},r.isPlainObject(R)&&R))}}),r.ajaxPrefilter(function(s){var E;for(E in s.headers)E.toLowerCase()==="content-type"&&(s.contentType=s.headers[E]||"")}),r._evalUrl=function(s,E,R){return r.ajax({url:s,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(N){r.globalEval(N,E,R)}})},r.fn.extend({wrapAll:function(s){var E;return this[0]&&(b(s)&&(s=s.call(this[0])),E=r(s,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&E.insertBefore(this[0]),E.map(function(){for(var R=this;R.firstElementChild;)R=R.firstElementChild;return R}).append(this)),this},wrapInner:function(s){return b(s)?this.each(function(E){r(this).wrapInner(s.call(this,E))}):this.each(function(){var E=r(this),R=E.contents();R.length?R.wrapAll(s):E.append(s)})},wrap:function(s){var E=b(s);return this.each(function(R){r(this).wrapAll(E?s.call(this,R):s)})},unwrap:function(s){return this.parent(s).not("body").each(function(){r(this).replaceWith(this.childNodes)}),this}}),r.expr.pseudos.hidden=function(s){return!r.expr.pseudos.visible(s)},r.expr.pseudos.visible=function(s){return!!(s.offsetWidth||s.offsetHeight||s.getClientRects().length)},r.ajaxSettings.xhr=function(){try{return new t.XMLHttpRequest}catch{}};var Yh={0:200,1223:204},Ui=r.ajaxSettings.xhr();_.cors=!!Ui&&"withCredentials"in Ui,_.ajax=Ui=!!Ui,r.ajaxTransport(function(s){var E,R;if(_.cors||Ui&&!s.crossDomain)return{send:function(N,G){var H,K=s.xhr();if(K.open(s.type,s.url,s.async,s.username,s.password),s.xhrFields)for(H in s.xhrFields)K[H]=s.xhrFields[H];s.mimeType&&K.overrideMimeType&&K.overrideMimeType(s.mimeType),!s.crossDomain&&!N["X-Requested-With"]&&(N["X-Requested-With"]="XMLHttpRequest");for(H in N)K.setRequestHeader(H,N[H]);E=function(Q){return function(){E&&(E=R=K.onload=K.onerror=K.onabort=K.ontimeout=K.onreadystatechange=null,Q==="abort"?K.abort():Q==="error"?typeof K.status!="number"?G(0,"error"):G(K.status,K.statusText):G(Yh[K.status]||K.status,K.statusText,(K.responseType||"text")!=="text"||typeof K.responseText!="string"?{binary:K.response}:{text:K.responseText},K.getAllResponseHeaders()))}},K.onload=E(),R=K.onerror=K.ontimeout=E("error"),K.onabort!==void 0?K.onabort=R:K.onreadystatechange=function(){K.readyState===4&&t.setTimeout(function(){E&&R()})},E=E("abort");try{K.send(s.hasContent&&s.data||null)}catch(Q){if(E)throw Q}},abort:function(){E&&E()}}}),r.ajaxPrefilter(function(s){s.crossDomain&&(s.contents.script=!1)}),r.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(s){return r.globalEval(s),s}}}),r.ajaxPrefilter("script",function(s){s.cache===void 0&&(s.cache=!1),s.crossDomain&&(s.type="GET")}),r.ajaxTransport("script",function(s){if(s.crossDomain||s.scriptAttrs){var E,R;return{send:function(N,G){E=r("<script>").attr(s.scriptAttrs||{}).prop({charset:s.scriptCharset,src:s.url}).on("load error",R=function(H){E.remove(),R=null,H&&G(H.type==="error"?404:200,H.type)}),L.head.appendChild(E[0])},abort:function(){R&&R()}}}});var nc=[],Ss=/(=)\?(?=&|$)|\?\?/;r.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var s=nc.pop()||r.expando+"_"+$u.guid++;return this[s]=!0,s}}),r.ajaxPrefilter("json jsonp",function(s,E,R){var N,G,H,K=s.jsonp!==!1&&(Ss.test(s.url)?"url":typeof s.data=="string"&&(s.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&Ss.test(s.data)&&"data");if(K||s.dataTypes[0]==="jsonp")return N=s.jsonpCallback=b(s.jsonpCallback)?s.jsonpCallback():s.jsonpCallback,K?s[K]=s[K].replace(Ss,"$1"+N):s.jsonp!==!1&&(s.url+=(vs.test(s.url)?"&":"?")+s.jsonp+"="+N),s.converters["script json"]=function(){return H||r.error(N+" was not called"),H[0]},s.dataTypes[0]="json",G=t[N],t[N]=function(){H=arguments},R.always(function(){G===void 0?r(t).removeProp(N):t[N]=G,s[N]&&(s.jsonpCallback=E.jsonpCallback,nc.push(N)),H&&b(G)&&G(H[0]),H=G=void 0}),"script"}),_.createHTMLDocument=function(){var s=L.implementation.createHTMLDocument("").body;return s.innerHTML="<form></form><form></form>",s.childNodes.length===2}(),r.parseHTML=function(s,E,R){if(typeof s!="string")return[];typeof E=="boolean"&&(R=E,E=!1);var N,G,H;return E||(_.createHTMLDocument?(E=L.implementation.createHTMLDocument(""),N=E.createElement("base"),N.href=L.location.href,E.head.appendChild(N)):E=L),G=w.exec(s),H=!R&&[],G?[E.createElement(G[1])]:(G=Je([s],E,H),H&&H.length&&r(H).remove(),r.merge([],G.childNodes))},r.fn.load=function(s,E,R){var N,G,H,K=this,Q=s.indexOf(" ");return Q>-1&&(N=Nr(s.slice(Q)),s=s.slice(0,Q)),b(E)?(R=E,E=void 0):E&&typeof E=="object"&&(G="POST"),K.length>0&&r.ajax({url:s,type:G||"GET",dataType:"html",data:E}).done(function($){H=arguments,K.html(N?r("<div>").append(r.parseHTML($)).find(N):$)}).always(R&&function($,ie){K.each(function(){R.apply(this,H||[$.responseText,ie,$])})}),this},r.expr.pseudos.animated=function(s){return r.grep(r.timers,function(E){return s===E.elem}).length},r.offset={setOffset:function(s,E,R){var N,G,H,K,Q,$,ie,ce=r.css(s,"position"),me=r(s),se={};ce==="static"&&(s.style.position="relative"),Q=me.offset(),H=r.css(s,"top"),$=r.css(s,"left"),ie=(ce==="absolute"||ce==="fixed")&&(H+$).indexOf("auto")>-1,ie?(N=me.position(),K=N.top,G=N.left):(K=parseFloat(H)||0,G=parseFloat($)||0),b(E)&&(E=E.call(s,R,r.extend({},Q))),E.top!=null&&(se.top=E.top-Q.top+K),E.left!=null&&(se.left=E.left-Q.left+G),"using"in E?E.using.call(s,se):me.css(se)}},r.fn.extend({offset:function(s){if(arguments.length)return s===void 0?this:this.each(function(G){r.offset.setOffset(this,s,G)});var E,R,N=this[0];if(N)return N.getClientRects().length?(E=N.getBoundingClientRect(),R=N.ownerDocument.defaultView,{top:E.top+R.pageYOffset,left:E.left+R.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var s,E,R,N=this[0],G={top:0,left:0};if(r.css(N,"position")==="fixed")E=N.getBoundingClientRect();else{for(E=this.offset(),R=N.ownerDocument,s=N.offsetParent||R.documentElement;s&&(s===R.body||s===R.documentElement)&&r.css(s,"position")==="static";)s=s.parentNode;s&&s!==N&&s.nodeType===1&&(G=r(s).offset(),G.top+=r.css(s,"borderTopWidth",!0),G.left+=r.css(s,"borderLeftWidth",!0))}return{top:E.top-G.top-r.css(N,"marginTop",!0),left:E.left-G.left-r.css(N,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var s=this.offsetParent;s&&r.css(s,"position")==="static";)s=s.offsetParent;return s||xe})}}),r.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(s,E){var R=E==="pageYOffset";r.fn[s]=function(N){return ue(this,function(G,H,K){var Q;if(D(G)?Q=G:G.nodeType===9&&(Q=G.defaultView),K===void 0)return Q?Q[E]:G[H];Q?Q.scrollTo(R?Q.pageXOffset:K,R?K:Q.pageYOffset):G[H]=K},s,N,arguments.length)}}),r.each(["top","left"],function(s,E){r.cssHooks[E]=Fi(_.pixelPosition,function(R,N){if(N)return N=hr(R,E),Et.test(N)?r(R).position()[E]+"px":N})}),r.each({Height:"height",Width:"width"},function(s,E){r.each({padding:"inner"+s,content:E,"":"outer"+s},function(R,N){r.fn[N]=function(G,H){var K=arguments.length&&(R||typeof G!="boolean"),Q=R||(G===!0||H===!0?"margin":"border");return ue(this,function($,ie,ce){var me;return D($)?N.indexOf("outer")===0?$["inner"+s]:$.document.documentElement["client"+s]:$.nodeType===9?(me=$.documentElement,Math.max($.body["scroll"+s],me["scroll"+s],$.body["offset"+s],me["offset"+s],me["client"+s])):ce===void 0?r.css($,ie,Q):r.style($,ie,ce,Q)},E,K?G:void 0,K)}})}),r.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(s,E){r.fn[E]=function(R){return this.on(E,R)}}),r.fn.extend({bind:function(s,E,R){return this.on(s,null,E,R)},unbind:function(s,E){return this.off(s,null,E)},delegate:function(s,E,R,N){return this.on(E,s,R,N)},undelegate:function(s,E,R){return arguments.length===1?this.off(s,"**"):this.off(E,s||"**",R)},hover:function(s,E){return this.mouseenter(s).mouseleave(E||s)}}),r.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(s,E){r.fn[E]=function(R,N){return arguments.length>0?this.on(E,null,R,N):this.trigger(E)}});var $h=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;r.proxy=function(s,E){var R,N,G;if(typeof E=="string"&&(R=s[E],E=s,s=R),!!b(s))return N=l.call(arguments,2),G=function(){return s.apply(E||this,N.concat(l.call(arguments)))},G.guid=s.guid=s.guid||r.guid++,G},r.holdReady=function(s){s?r.readyWait++:r.ready(!0)},r.isArray=Array.isArray,r.parseJSON=JSON.parse,r.nodeName=d,r.isFunction=b,r.isWindow=D,r.camelCase=we,r.type=u,r.now=Date.now,r.isNumeric=function(s){var E=r.type(s);return(E==="number"||E==="string")&&!isNaN(s-parseFloat(s))},r.trim=function(s){return s==null?"":(s+"").replace($h,"$1")};var Xh=t.jQuery,Qh=t.$;return r.noConflict=function(s){return t.$===r&&(t.$=Qh),s&&t.jQuery===r&&(t.jQuery=Xh),r},typeof n>"u"&&(t.jQuery=t.$=r),r})})(Vg);const Wg=$l;const qg="https://v4yx4v6vqf.hk.aircode.run/hello";function Jg(){const[e,t]=ar.useState("");ar.useRef(null);const n=()=>{Wg.ajax({url:qg,type:"GET",success:function(i){t(i.data.mp4)}})};return ar.useEffect(()=>{n()},[]),jp("div",{className:"App",children:[ba(Kg.JolPlayer,{className:"player",option:{videoSrc:e,autoPlay:!0,mode:"heightFix",isShowScreenshot:!1,isShowSet:!1}}),ba("div",{className:"btn1",onClick:n,children:"refresh"})]})}nl.createRoot(document.getElementById("root")).render(ba(Op.StrictMode,{children:ba(Jg,{})}));
